"use strict";(self.webpackChunkwebpack_config=self.webpackChunkwebpack_config||[]).push([[735],{26139:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(1413),s=n(67294);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"};var r=n(30076),l=function(e,t){return s.createElement(r.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:i}))};l.displayName="ArrowUpOutlined";const c=s.forwardRef(l)},24778:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});n(37796);var a=n(24044),s=n(93433),i=n(15861),r=n(29439),l=n(64687),c=n.n(l),o=n(67294),d=n(96974),u=n(80411),f=n.n(u),h=n(43455),x=n(10814),m=n(67020),_=n(29191),p=n(74317),v=n(13503),j=n(26260),N=n(92540),g=n(31660),k=n(19674),w=n(95717),Z=n(49058),S=n(20555);const C="index__removeConfirmStyle--dbrSy",y="index__darkRemoveConfirmStyle--T9eyw",A="index__Search--DA5py",L="index__changeIconWrap--yFioq",b="index__containerClassName--rFrQi",M="index__wrapClassName--d1Q34",I="index__scrollWrap--yJHFF",R="index__headerWrap--o5p6h",W="index__headerContent--R7nKT",O="index__wrap--PMwJH",T="index__searchWrap--bOEX3",V="index__search--miBs4",E="index__searchInp--VGOfs",H="index__searchTagList--EJUDT",U="index__label--ytocV",Y="index__viewMoreInfo--XY1fu",z="index__radioGroup--IlmOA",D="index__tag--ookC8",F="index__active--klWjL",B="index__content--D8fxQ",G="index__wrapClass--ux6lk",J="index__dark--Pi3TH",P="index__downIcon--Yai5h",Q="index__showMore--f0_K9";var q=n(85893);const K=function(){var e=(0,o.useState)(!1),t=(0,r.Z)(e,2),n=t[0],l=t[1],u=(0,o.useState)(["all"]),K=(0,r.Z)(u,2),X=K[0],$=K[1],ee=(0,o.useState)(!1),te=(0,r.Z)(ee,2),ne=te[0],ae=te[1],se=(0,o.useState)([]),ie=(0,r.Z)(se,2),re=ie[0],le=ie[1],ce=(0,o.useState)(""),oe=(0,r.Z)(ce,2),de=oe[0],ue=oe[1],fe=(0,o.useState)({list:[],total:0,count:0}),he=(0,r.Z)(fe,2),xe=he[0],me=he[1],_e=(0,o.useRef)([]),pe=(0,g.YN)({data:xe,loading:ne,pageSize:Z.YH}),ve=pe.pageNo,je=pe.setPageNo,Ne=pe.onScroll,ge=pe.scrollbarRef,ke=pe.scrollTop,we=(0,g.bc)(),Ze=we.showAlert,Se=we.toLogin,Ce=we.onCloseAlert,ye=we.setAlertStatus,Ae=(0,g.nR)().htmlWidth,Le=(0,k.Z)().userInfoStore.getUserInfo,be=(0,d.s0)(),Me=(0,g.iy)().themeMode;(0,o.useEffect)((function(){if(n)le(Z.VO);else if(Ae>960)le(Z.VO.slice(0,5));else{var e=Z.VO.slice(0,2);le(e)}}),[n,Ae]),(0,o.useEffect)((function(){de&&Ie()}),[ve,de,X]);var Ie=function(){var e=(0,i.Z)(c().mark((function e(){var t,n,a,i,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={userId:null==Le?void 0:Le.userId,pageNo:ve,pageSize:Z.YH,keyword:de,filterList:X},ae(!0),e.t0=S.wg,e.next=5,w.qj(t);case 5:e.t1=e.sent,n=(0,e.t0)(e.t1),ae(!1),n.success?(a=n.data,i=a.total,r=a.list,_e.current=[].concat((0,s.Z)(_e.current),(0,s.Z)(r)),me({list:_e.current,total:i,count:r.length})):(0,S.vU)(n.message);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t!==de&&(je(1),_e.current=[],me({list:_e.current,total:0,count:0})),ue(t),t||(ue(t),(0,S.um)("请先输入搜索内容"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){l(!n)},Oe=(0,g.MO)({setAlertStatus:ye,articleList:xe,updateList:me,listRef:_e}).likeArticle,Te=(0,g.Gx)({articleList:xe,setArticleList:me,getArticleList:Ie,setAlertStatus:ye,listRef:_e,pageNo:ve,keyword:de,filterList:X,removeConfirmStyle:f()(C,"dark"===Me&&y)}).deleteArticle;return(0,q.jsxs)("div",{className:f()(A,"dark"===Me&&J),children:[(0,q.jsx)(j.Z,{noHideMenuIcon:!0,className:L,themeMode:Me,htmlWidth:Ae}),Ze&&(0,q.jsx)(_.Z,{onClick:Se,onClose:Ce}),(0,q.jsx)("div",{className:R,children:(0,q.jsx)(x.Z,{needLeft:!0,excludesWidth:!0,needUser:!0,themeMode:Me,children:(0,q.jsx)("div",{className:W,children:"文章搜索"})})}),(0,q.jsx)(h.Z,{containerClassName:b,wrapClassName:M,className:I,onScroll:Ne,scrollbarRef:ge,themeMode:Me,children:(0,q.jsxs)("div",{className:O,children:[(0,q.jsxs)("div",{className:T,children:[(0,q.jsx)("div",{className:V,children:(0,q.jsx)(a.Z.Search,{placeholder:"请输入搜索内容",enterButton:"搜索",size:"large",className:E,onSearch:Re})}),(0,q.jsxs)("div",{className:H,children:[Ae>960&&(0,q.jsxs)("div",{className:U,onClick:function(){l(!n)},children:[(0,q.jsx)(p.Z,{className:P,name:n?"icon-shangjiantou":"icon-xiajiantou",onClick:We}),(0,q.jsx)("span",{className:Y,children:"更多选项："})]}),(0,q.jsx)("div",{className:z,children:re.map((function(e){return(0,q.jsx)("div",{className:f()(D,X.includes(e.type)&&F),onClick:function(){return function(e){if(je(1),_e.current=[],me({list:_e.current,total:0,count:0}),"all"===e)$(["all"]);else{var t=X.filter((function(e){return"all"!==e}));if(t.find((function(t){return t===e}))){var n=t.filter((function(t){return t!==e}));null!=n&&n.length?$(n):$(["all"])}else t.push(e),$((0,s.Z)(t))}}(e.type)},children:e.label},e.key)}))})]}),Ae<960&&(0,q.jsxs)("div",{onClick:We,className:Q,children:[(0,q.jsx)(p.Z,{className:P,name:n?"icon-shangjiantou":"icon-xiajiantou",onClick:We}),(0,q.jsx)("span",{className:Y,children:"更多搜索选项"})]})]}),(0,q.jsx)("div",{className:B,children:(0,q.jsx)(m.Z,{list:xe.list,total:xe.total,wrapClass:G,toDetail:function(e,t){be(t?"/detail/".concat(e,"?needScroll=1"):"/detail/".concat(e))},likeArticle:Oe,deleteArticle:Te,onEditArticle:function(e){be("/create?id=".concat(e))},loadText:"地主家也没余粮了",loading:ne,themeMode:Me,htmlWidth:Ae})})]})}),Ae<=960&&(0,q.jsx)(N.Z,{themeMode:Me}),(0,q.jsx)(v.Z,{scrollTop:ke,scrollbarRef:ge,htmlWidth:Ae})]})}}}]);