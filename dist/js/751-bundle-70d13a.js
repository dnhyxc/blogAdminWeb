"use strict";(self.webpackChunkwebpack_config=self.webpackChunkwebpack_config||[]).push([[751],{26139:(e,n,t)=>{t.d(n,{Z:()=>l});var s=t(1413),a=t(67294);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"};var r=t(30076),o=function(e,n){return a.createElement(r.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:n,icon:c}))};o.displayName="ArrowUpOutlined";const l=a.forwardRef(o)},6233:(e,n,t)=>{t.r(n),t.d(n,{default:()=>U});t(15692);var s=t(29759),a=t(4942),c=t(93433),r=t(15861),o=t(29439),l=t(64687),i=t.n(l),d=t(67294),u=t(39711),m=t(96974),f=t(80411),h=t.n(f),p=t(43455),x=t(29191),v=t(74317),_=t(10814),I=t(81237),C=t(67020),g=t(13503),j=t(92540),N=t(26260),w=t(45015),Z=t(39841),b=t(14110),k=t(56663),S=t(19674),W=t(95717),O=t(20555),M=t(31660),y=t(49058);const A={clickNoSelectText:"index__clickNoSelectText--LzGd0",modalConfirm:"index__modalConfirm--FPNoj",darkModalConfirm:"index__darkModalConfirm--yDtbY",Collection:"index__Collection--Kx0us",changeIconWrap:"index__changeIconWrap--Ywl6T",icon:"index__icon--BX6O_",backTop:"index__backTop--ua9vu",topIcon:"index__topIcon--oyaAx",containerClassName:"index__containerClassName--j982A",wrapClassName:"index__wrapClassName--GUBZt",headerWrap:"index__headerWrap--B4mDB",headerContent:"index__headerContent--IrcPt",wrap:"index__wrap--Cs8f4",infoWrap:"index__infoWrap--SnCf2",bgmove:"index__bgmove--b6f12",name:"index__name--foxRl",collectionName:"index__collectionName--QlUiN",actions:"index__actions--VzPT_",editIcon:"index__editIcon--wGj7a",delIcon:"index__delIcon--QkfwI",lockIcon:"index__lockIcon--IXsqB",desc:"index__desc--tIWZK",userInfo:"index__userInfo--PutzI",avatar:"index__avatar--oQ4P4",image:"index__image--crNnU",username:"index__username--evV5D",userdesc:"index__userdesc--_8seL",moreCollection:"index__moreCollection--octca",rightIcon:"index__rightIcon--N55Tq",content:"index__content--l_biK",wrapClass:"index__wrapClass--Kgt5d",changeWidth:"index__changeWidth--QMEdL",iconWrap:"index__iconWrap--RNC8B",dark:"index__dark--uH9np",edit:"index__edit--Ne3J9"};var P=t(85893);function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const U=function(){var e=(0,d.useState)({id:""}),n=(0,o.Z)(e,2),t=n[0],a=n[1],l=(0,d.useState)({}),f=(0,o.Z)(l,2),R=f[0],U=f[1],L=(0,d.useState)(!1),D=(0,o.Z)(L,2),B=D[0],V=D[1],z=(0,d.useState)(!1),E=(0,o.Z)(z,2),H=E[0],Y=E[1],K=(0,d.useState)(!1),Q=(0,o.Z)(K,2),G=Q[0],J=Q[1],q=(0,d.useState)(!1),X=(0,o.Z)(q,2),F=X[0],$=X[1],ee=(0,d.useState)(""),ne=(0,o.Z)(ee,2),te=ne[0],se=ne[1],ae=(0,d.useState)(!1),ce=(0,o.Z)(ae,2),re=ce[0],oe=ce[1],le=(0,d.useState)(""),ie=(0,o.Z)(le,2),de=ie[0],ue=ie[1],me=(0,d.useState)({list:[],total:0,count:0}),fe=(0,o.Z)(me,2),he=fe[0],pe=fe[1],xe=(0,d.useRef)([]),ve=(0,m.s0)(),_e=(0,u.lr)(),Ie=(0,o.Z)(_e,1)[0].get("authorId"),Ce=(0,m.UO)().id;(0,M.vV)();var ge=(0,M.nR)().htmlWidth,je=(0,S.Z)().userInfoStore.getUserInfo,Ne=(0,M.bc)(),we=Ne.showAlert,Ze=Ne.toLogin,be=Ne.onCloseAlert,ke=Ne.setAlertStatus,Se=(0,M.YN)({data:he,loading:B,pageSize:y.YH}),We=Se.pageNo,Oe=Se.onScroll,Me=Se.scrollbarRef,ye=Se.scrollTop,Ae=(0,M.Jh)({userId:Ie,authorId:null==je?void 0:je.userId}).userInfo,Pe=(0,M.Jg)().siderVisible,Re=(0,M.iy)().themeMode;(0,d.useEffect)((function(){Te()}),[Ce]),(0,d.useEffect)((function(){Ue()}),[We,t]);var Te=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O.wg,e.next=3,W.Zl({id:Ce});case 3:e.t1=e.sent,(n=(0,e.t0)(e.t1)).success?a(n.data):(0,O.vU)(n.message);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=(0,r.Z)(i().mark((function e(){var n,s,a,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&null!==(n=t.articleIds)&&void 0!==n&&n.length){e.next=2;break}return e.abrupt("return");case 2:return V(!0),e.t0=O.wg,e.next=6,W.T4({pageNo:We,pageSize:y.YH,userId:null==je?void 0:je.userId,articleIds:null==t?void 0:t.articleIds});case 6:e.t1=e.sent,s=(0,e.t0)(e.t1),V(!1),s.success?(a=s.data,r=a.total,o=a.list,xe.current=[].concat((0,c.Z)(xe.current),(0,c.Z)(o)),pe({list:xe.current,total:r,count:o.length})):(0,O.vU)(s.message);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=(0,M.MO)({setAlertStatus:ke,articleList:he,updateList:pe,listRef:xe}).likeArticle,De=function(){var e=(0,r.Z)(i().mark((function e(n,t){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ce){e.next=2;break}return e.abrupt("return");case 2:return e.t0=O.wg,e.next=5,W.sy({id:Ce,articleId:n,userId:null==je?void 0:je.userId,isMove:t});case 5:e.t1=e.sent,(s=(0,e.t0)(e.t1)).success||(0,O.vU)(s.message);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Be=function(e,n){if(!re){var t=he.list.filter((function(n){return n.id!==e}));xe.current=(0,c.Z)(t),pe(T(T({},he),{},{list:xe.current,total:he.total-1})),De(e,n)}},Ve=function(e){$(!1),J(e)},ze=function(){Y(!0)},Ee=function(e,n){e&&Be(e,n)},He=function(e){var n=e.includes(Ce);oe(n)},Ye=function(){ve("/search")},Ke=function(){(null==Ae?void 0:Ae.userId)!==(null==je?void 0:je.userId)?ve("/personal?id=".concat(null==Ae?void 0:Ae.userId,"&tab=3")):ve("/personal?tab=3")},Qe=function(e){U(e)},Ge=function(e){ue(e)},Je=function(){Y(!1),ue("")},qe=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.Z.confirm({className:ge<960?h()(A.modalConfirm,"dark"===Re&&A.darkModalConfirm):"",width:ge<960?"80%":"",title:"确定删除该收藏集吗？",content:"删除收藏集同时会移除收藏集中的文章",centered:ge<960,onOk:function(){return(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O.wg,e.next=3,W.wv({id:null==t?void 0:t.id,userId:null==je?void 0:je.userId});case 3:e.t1=e.sent,(n=(0,e.t0)(e.t1)).success?ve("/personal?tab=3"):(0,O.vU)(n.message);case 6:case"end":return e.stop()}}),e)})))()}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=(0,d.useMemo)((function(){return T(T({},t),R)}),[R,t]);return(0,P.jsxs)("div",{className:h()(A.Collection,"dark"===Re&&A.dark),children:[(0,P.jsx)(N.Z,{noHideMenuIcon:!0,className:A.changeIconWrap,themeMode:Re,htmlWidth:ge}),we&&(0,P.jsx)(x.Z,{onClick:Ze,onClose:be}),(0,P.jsx)("div",{className:A.headerWrap,children:(0,P.jsx)(_.Z,{needLeft:!0,excludesWidth:!0,right:(0,P.jsx)("div",{className:A.searchWrap,children:(0,P.jsx)(v.Z,{name:"icon-sousuo2",className:A.iconWrap,onClick:Ye})}),themeMode:Re,needUser:!0,children:(0,P.jsx)("div",{className:A.headerContent,children:"关于博主"})})}),(0,P.jsx)(p.Z,{containerClassName:A.containerClassName,wrapClassName:A.wrapClassName,className:A.scrollWrap,onScroll:Oe,scrollbarRef:Me,themeMode:Re,children:(0,P.jsxs)("div",{className:h()(A.wrap,Pe&&A.changeWidth),children:[(0,P.jsxs)("div",{className:A.infoWrap,children:[(0,P.jsxs)("div",{className:A.name,children:[(0,P.jsxs)("span",{className:A.collectionName,children:[(null==R?void 0:R.name)||(null==t?void 0:t.name),(2===(null==R?void 0:R.status)||2===(null==t?void 0:t.status))&&(0,P.jsx)(v.Z,{name:"icon-lock-full",className:A.lockIcon})]}),(null==Ae?void 0:Ae.userId)===(null==je?void 0:je.userId)&&(0,P.jsxs)("div",{className:A.actions,children:[(0,P.jsx)("span",{children:(0,P.jsx)(v.Z,{name:"icon-icon_bianji",text:ge>960?(0,P.jsx)("span",{className:A.editIcon,children:"编辑"}):"",className:A.editIcon,onClick:function(){J(!0),$(!0)}})}),(0,P.jsx)("span",{children:(0,P.jsx)(v.Z,{name:"icon-shanchu",className:A.delIcon,text:ge>960?(0,P.jsx)("span",{className:A.delIcon,children:"删除"}):"",onClick:qe})})]})]}),(0,P.jsx)("div",{className:A.desc,children:(null==R?void 0:R.desc)||(null==t?void 0:t.desc)}),(0,P.jsxs)("div",{className:A.userInfo,children:[(0,P.jsx)("div",{className:A.avatar,onClick:function(){(null==Ae?void 0:Ae.userId)!==(null==je?void 0:je.userId)?ve("/personal?id=".concat(null==Ae?void 0:Ae.userId)):ve("/personal")},children:(0,P.jsx)(I.Z,{url:(null==Ae?void 0:Ae.headUrl)||y.Hn,transitionImg:y.Hn,className:A.image})}),(0,P.jsxs)("div",{className:A.username,children:[(0,P.jsx)("div",{className:A.userdesc,children:null==Ae?void 0:Ae.username}),(0,P.jsxs)("div",{className:A.moreCollection,onClick:Ke,children:[(0,P.jsx)("span",{children:"更多收藏集"}),(0,P.jsx)(v.Z,{name:"icon-arrow-right-bold",className:A.rightIcon,onClick:Ke})]})]})]})]}),(0,P.jsx)("div",{className:A.content,children:(0,P.jsx)(C.Z,{list:he.list,total:he.total,itemClass:A.itemClass,likeArticle:Le,toDetail:function(e,n){ve(n?"/detail/".concat(e,"?needScroll=1"):"/detail/".concat(e))},loadText:"地主家也没余粮了",loading:B,customRender:!0,moveTo:function(e){Y(!0),se(e)},removeArticle:Be,themeMode:Re,htmlWidth:ge})})]})}),ge<=960&&(0,P.jsx)(j.Z,{themeMode:Re}),(0,P.jsx)(g.Z,{scrollTop:ye,scrollbarRef:Me,htmlWidth:ge}),ge>960?(0,P.jsx)(w.Z,{visible:H,onCancel:Je,getAddVisible:Ve,moveArticleId:te,getCollectRes:Ee,getSelectCollectIds:He,selectCollectId:Ce,createCollectId:de,themeMode:Re}):(0,P.jsx)(Z.Z,{visible:H,onCancel:Je,moveArticleId:te,getCollectRes:Ee,getSelectCollectIds:He,selectCollectId:Ce,createCollectId:de,showCreateDrawer:Ve,themeMode:Re}),ge>960?G&&(0,P.jsx)(b.Z,{visible:G,onCancel:function(){return J(!1)},showCollection:ze,hideCollectModel:F,collectInfo:F?Xe:null,updateCollection:Qe,getCreateCollectId:Ge,themeMode:Re}):(0,P.jsx)(k.Z,{visible:G,onCancel:function(){return J(!1)},showCollection:ze,hideCollectModel:F,collectInfo:F?Xe:null,updateCollection:Qe,onCheckedItem:Ge,themeMode:Re},(null==Xe?void 0:Xe.name)||(null==Xe?void 0:Xe.desc)||(null==Xe?void 0:Xe.status))]})}}}]);