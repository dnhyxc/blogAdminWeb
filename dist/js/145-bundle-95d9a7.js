(self.webpackChunkwebpack_config=self.webpackChunkwebpack_config||[]).push([[145],{53318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(1413),o=n(67294);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};var s=n(30076),a=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="CalendarOutlined";const l=o.forwardRef(a)},78338:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(1413),o=n(67294);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};var s=n(30076),a=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="ClockCircleOutlined";const l=o.forwardRef(a)},57254:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(1413),o=n(67294);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var s=n(30076),a=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="DownOutlined";const l=o.forwardRef(a)},25935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(1413),o=n(67294);const i={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"};var s=n(30076),a=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};a.displayName="SwapRightOutlined";const l=o.forwardRef(a)},1647:(e,t,n)=>{"use strict";n.d(t,{Pi:()=>J});var r=n(68949),o=n(67294);if(!o.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.rC)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var i=n(73935);function s(e){e()}function a(e){return(0,r.Gf)(e)}var l="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function c(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+u}}var u=1e4;var h=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var d=l?function(e){var t=new Map,n=1,r=new e((function(e){var n=t.get(e);n&&(n.reaction.dispose(),t.delete(e))}));return{addReactionToTrack:function(e,o,i){var s=n++;return r.register(i,s,e),e.current=c(o),e.current.finalizationRegistryCleanupToken=s,t.set(s,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(l):function(){var e,t=new Set;function n(){void 0===e&&(e=setTimeout(r,1e4))}function r(){e=void 0;var r=Date.now();t.forEach((function(e){var n=e.current;n&&r>=n.cleanAt&&(n.reaction.dispose(),e.current=null,t.delete(e))})),t.size>0&&n()}return{addReactionToTrack:function(e,r,o){var i;return e.current=c(r),i=e,t.add(i),n(),e.current},recordReactionAsCommitted:function(e){t.delete(e)},forceCleanupTimerToRunNowForTests:function(){e&&(clearTimeout(e),r())},resetCleanupScheduleForTests:function(){var n,r;if(t.size>0){try{for(var o=h(t),i=o.next();!i.done;i=o.next()){var s=i.value,a=s.current;a&&(a.reaction.dispose(),s.current=null)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.clear()}e&&(clearTimeout(e),e=void 0)}}}(),f=d.addReactionToTrack,p=d.recordReactionAsCommitted,m=(d.resetCleanupScheduleForTests,d.forceCleanupTimerToRunNowForTests,!1);function g(){return m}var v=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};function y(e){return"observer".concat(e)}var w=function(){};function b(){return new w}function x(e,t){if(void 0===t&&(t="observed"),g())return e();var n=v(o.useState(b),1)[0],i=v(o.useState(),2)[1],s=function(){return i([])},l=o.useRef(null);if(!l.current)var c=new r.le(y(t),(function(){u.mounted?s():u.changedBeforeMount=!0})),u=f(l,c,n);var h,d,m=l.current.reaction;if(o.useDebugValue(m,a),o.useEffect((function(){return p(l),l.current?(l.current.mounted=!0,l.current.changedBeforeMount&&(l.current.changedBeforeMount=!1,s())):(l.current={reaction:new r.le(y(t),(function(){s()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},s()),function(){l.current.reaction.dispose(),l.current=null}}),[]),m.track((function(){try{h=e()}catch(e){d=e}})),d)throw d;return h}var k="function"==typeof Symbol&&Symbol.for,C=k?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&(0,o.forwardRef)((function(e){return null})).$$typeof,S=k?Symbol.for("react.memo"):"function"==typeof o.memo&&(0,o.memo)((function(e){return null})).$$typeof;function _(e,t){var n;if(S&&e.$$typeof===S)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(g())return e;var r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,i=e,s=e.displayName||e.name;if(C&&e.$$typeof===C&&(r=!0,"function"!=typeof(i=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a,l,c=function(e,t){return x((function(){return i(e,t)}),s)};return""!==s&&(c.displayName=s),e.contextTypes&&(c.contextTypes=e.contextTypes),r&&(c=(0,o.forwardRef)(c)),c=(0,o.memo)(c),a=e,l=c,Object.keys(a).forEach((function(e){M[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(a,e))})),c}var M={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};var E;(E=i.unstable_batchedUpdates)||(E=s),(0,r.jQ)({reactionScheduler:E});var D=0;var N={};function O(e){return N[e]||(N[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+D+")";return D++,t}(e)),N[e]}function A(e,t){if(T(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!T(e[n[o]],t[n[o]]))return!1;return!0}function T(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function R(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var P=O("patchMixins"),z=O("patchedDefinition");function F(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var s;return null!=e&&(s=e.apply(this,o)),s}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function I(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];F.call.apply(F,[this,e,t].concat(r))}}function B(e,t,n){var r=function(e,t){var n=e[P]=e[P]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[z]){var i=e[t],s=Z(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,s)}}function Z(e,t,n,r,o){var i,s=I(o,r);return(i={})[z]=!0,i.get=function(){return s},i.set=function(o){if(this===e)s=I(o,r);else{var i=Z(this,t,n,r,o);Object.defineProperty(this,t,i)}},i.configurable=!0,i.enumerable=n,i}var V=r.so||"$mobx",$=O("isMobXReactObserver"),L=O("isUnmounted"),H=O("skipRender"),Y=O("isForcingUpdate");function j(e){var t=e.prototype;if(e[$])q(t);else e[$]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==o.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==U)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=U;K(t,"props"),K(t,"state"),e.contextType&&K(t,"context");var n=t.render;if("function"!=typeof n){var r=q(t);throw new Error("[mobx-react] class component ("+r+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return t.render=function(){return this.render=g()?n:W.call(this,n),this.render()},B(t,"componentDidMount",(function(){this[L]=!1,this.render[V]||o.Component.prototype.forceUpdate.call(this)})),B(t,"componentWillUnmount",(function(){if(!g()){var e=this.render[V];if(e)e.dispose(),this.render[V]=null;else q(this);this[L]=!0}})),e}function q(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function W(e){var t=this;R(this,H,!1),R(this,Y,!1);var n=q(this),i=e.bind(this),s=!1;return function e(){var a;s=!1;var l=null!=(a=e[V])?a:e[V]=function(){var e=new r.le(n+".render()",(function(){if(!s&&(s=!0,!0!==t[L])){var n=!0;try{R(t,Y,!0),t[H]||o.Component.prototype.forceUpdate.call(t),n=!1}finally{R(t,Y,!1),n&&(e.dispose(),t.render[V]=null)}}}));return e.reactComponent=t,e}(),c=void 0,u=void 0;if(l.track((function(){try{u=(0,r.$$)(!1,i)}catch(e){c=e}})),c)throw c;return u}}function U(e,t){return g(),this.state!==t||!A(this.props,e)}function K(e,t){var n=O("reactProp_"+t+"_valueHolder"),o=O("reactProp_"+t+"_atomHolder");function i(){return this[o]||R(this,o,(0,r.cp)("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return r.wM&&r.mJ&&(e=(0,r.wM)(!0)),i.call(this).reportObserved(),r.wM&&r.mJ&&(0,r.mJ)(e),this[n]},set:function(e){this[Y]||A(this[n],e)?R(this,n,e):(R(this,n,e),R(this,H,!0),i.call(this).reportChanged(),R(this,H,!1))}})}function J(e){return e.isMobxInjector,Object.prototype.isPrototypeOf.call(o.Component,e)||Object.prototype.isPrototypeOf.call(o.PureComponent,e)?j(e):_(e)}if(!o.Component)throw new Error("mobx-react requires React to be available");if(!r.LO)throw new Error("mobx-react requires mobx to be available")},31018:(e,t,n)=>{e.exports={encode:n(56857).encode,decode:n(69252).decode}},69252:e=>{e.exports=function(){function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return o(t[s][1][e]||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var i=void 0,s=0;s<r.length;s++)o(r[s]);return o}return e}()({1:[function(e,t,n){"use strict";var r=e("pako/lib/inflate.js");t.exports=function(e){return r.inflateRaw(e,{to:"string"})}},{"pako/lib/inflate.js":4}],2:[function(e,t,n){"use strict";function r(e){var t=e.charCodeAt(0);return"_"===e?63:"-"===e?62:t>=97?t-61:t>=65?t-55:t>=48?t-48:"?"}function o(e){var t=r(e[0]),n=r(e[1]),o=r(e[2]);return[t<<2|n>>4&63,n<<4&240|o>>2&15,o<<6&192|63&r(e[3])]}t.exports=function(e){var t="",n=0;for(n=0;n<e.length;n+=4){var r=o(e.substring(n,n+4));t+=String.fromCharCode(r[0]),t+=String.fromCharCode(r[1]),t+=String.fromCharCode(r[2])}return t}},{}],3:[function(e,t,n){"use strict";var r=e("./inflate"),o=e("./decode64");t.exports.decode=function(e){var t=o(e);return r(t)}},{"./decode64":2,"./inflate":1}],4:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),o=e("./utils/common"),i=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==s.Z_OK))throw new Error(a[n])}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}function f(e,t){return(t=t||{}).raw=!0,d(e,t)}h.prototype.push=function(e,t){var n,a,l,c,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?d.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new o.Buf8(f),d.next_out=0,d.avail_out=f),(n=r.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===s.Z_BUF_ERROR&&!0===m&&(n=s.Z_OK,m=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==s.Z_STREAM_END&&(0!==d.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(d.output,d.next_out),c=d.next_out-l,h=i.buf2string(d.output,l),d.next_out=c,d.avail_out=f-c,c&&o.arraySet(d.output,d.output,l,c,0),this.onData(h)):this.onData(o.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=d,n.inflateRaw=f,n.ungzip=d},{"./utils/common":5,"./utils/strings":6,"./zlib/constants":8,"./zlib/gzheader":10,"./zlib/inflate":12,"./zlib/messages":14,"./zlib/zstream":15}],5:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)o(n,r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)i=e[t],s.set(i,o),o+=i.length;return s}},s={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],6:[function(e,t,n){"use strict";var r=e("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,o,i,s,a=e.length,l=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),s=0,i=0;s<l;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,i,a=t||e.length,c=new Array(2*a);for(r=0,n=0;n<a;)if((o=e[n++])<128)c[r++]=o;else if((i=s[o])>4)c[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&n<a;)o=o<<6|63&e[n++],i--;i>1?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return l(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":5}],7:[function(e,t,n){"use strict";function r(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--s);o%=65521,i%=65521}return o|i<<16|0}t.exports=r},{}],8:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],9:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var o=r();function i(e,t,n,r){var i=o,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}t.exports=i},{}],10:[function(e,t,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},{}],11:[function(e,t,n){"use strict";var r=30,o=12;t.exports=function(e,t){var n,i,s,a,l,c,u,h,d,f,p,m,g,v,y,w,b,x,k,C,S,_,M,E,D;n=e.state,i=e.next_in,E=e.input,s=i+(e.avail_in-5),a=e.next_out,D=e.output,l=a-(t-e.avail_out),c=a+(e.avail_out-257),u=n.dmax,h=n.wsize,d=n.whave,f=n.wnext,p=n.window,m=n.hold,g=n.bits,v=n.lencode,y=n.distcode,w=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{g<15&&(m+=E[i++]<<g,g+=8,m+=E[i++]<<g,g+=8),x=v[m&w];t:for(;;){if(m>>>=k=x>>>24,g-=k,0==(k=x>>>16&255))D[a++]=65535&x;else{if(!(16&k)){if(0==(64&k)){x=v[(65535&x)+(m&(1<<k)-1)];continue t}if(32&k){n.mode=o;break e}e.msg="invalid literal/length code",n.mode=r;break e}C=65535&x,(k&=15)&&(g<k&&(m+=E[i++]<<g,g+=8),C+=m&(1<<k)-1,m>>>=k,g-=k),g<15&&(m+=E[i++]<<g,g+=8,m+=E[i++]<<g,g+=8),x=y[m&b];n:for(;;){if(m>>>=k=x>>>24,g-=k,!(16&(k=x>>>16&255))){if(0==(64&k)){x=y[(65535&x)+(m&(1<<k)-1)];continue n}e.msg="invalid distance code",n.mode=r;break e}if(S=65535&x,g<(k&=15)&&(m+=E[i++]<<g,(g+=8)<k&&(m+=E[i++]<<g,g+=8)),(S+=m&(1<<k)-1)>u){e.msg="invalid distance too far back",n.mode=r;break e}if(m>>>=k,g-=k,S>(k=a-l)){if((k=S-k)>d&&n.sane){e.msg="invalid distance too far back",n.mode=r;break e}if(_=0,M=p,0===f){if(_+=h-k,k<C){C-=k;do{D[a++]=p[_++]}while(--k);_=a-S,M=D}}else if(f<k){if(_+=h+f-k,(k-=f)<C){C-=k;do{D[a++]=p[_++]}while(--k);if(_=0,f<C){C-=k=f;do{D[a++]=p[_++]}while(--k);_=a-S,M=D}}}else if(_+=f-k,k<C){C-=k;do{D[a++]=p[_++]}while(--k);_=a-S,M=D}for(;C>2;)D[a++]=M[_++],D[a++]=M[_++],D[a++]=M[_++],C-=3;C&&(D[a++]=M[_++],C>1&&(D[a++]=M[_++]))}else{_=a-S;do{D[a++]=D[_++],D[a++]=D[_++],D[a++]=D[_++],C-=3}while(C>2);C&&(D[a++]=D[_++],C>1&&(D[a++]=D[_++]))}break}}break}}while(i<s&&a<c);i-=C=g>>3,m&=(1<<(g-=C<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<s?s-i+5:5-(i-s),e.avail_out=a<c?c-a+257:257-(a-c),n.hold=m,n.bits=g}},{}],12:[function(e,t,n){"use strict";var r=e("../utils/common"),o=e("./adler32"),i=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),l=0,c=1,u=2,h=4,d=5,f=6,p=0,m=1,g=2,v=-2,y=-3,w=-4,b=-5,x=8,k=1,C=2,S=3,_=4,M=5,E=6,D=7,N=8,O=9,A=10,T=11,R=12,P=13,z=14,F=15,I=16,B=17,Z=18,V=19,$=20,L=21,H=22,Y=23,j=24,q=25,W=26,U=27,K=28,J=29,G=30,X=31,Q=852,ee=592,te=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function re(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function oe(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=k,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(Q),t.distcode=t.distdyn=new r.Buf32(ee),t.sane=1,t.back=-1,p):v}function ie(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,oe(e)):v}function se(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ie(e))):v}function ae(e,t){var n,r;return e?(r=new re,e.state=r,r.window=null,(n=se(e,t))!==p&&(e.state=null),n):v}function le(e){return ae(e,te)}var ce,ue,he=!0;function de(e){if(he){var t;for(ce=new r.Buf32(512),ue=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(c,e.lens,0,288,ce,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(u,e.lens,0,32,ue,0,e.work,{bits:5}),he=!1}e.lencode=ce,e.lenbits=9,e.distcode=ue,e.distbits=5}function fe(e,t,n,o){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),o>=s.wsize?(r.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((i=s.wsize-s.wnext)>o&&(i=o),r.arraySet(s.window,t,n-o,i,s.wnext),(o-=i)?(r.arraySet(s.window,t,n-o,o,0),s.wnext=o,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function pe(e,t){var n,Q,ee,te,re,oe,ie,se,ae,le,ce,ue,he,pe,me,ge,ve,ye,we,be,xe,ke,Ce,Se,_e=0,Me=new r.Buf8(4),Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;(n=e.state).mode===R&&(n.mode=P),re=e.next_out,ee=e.output,ie=e.avail_out,te=e.next_in,Q=e.input,oe=e.avail_in,se=n.hold,ae=n.bits,le=oe,ce=ie,ke=p;e:for(;;)switch(n.mode){case k:if(0===n.wrap){n.mode=P;break}for(;ae<16;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}if(2&n.wrap&&35615===se){n.check=0,Me[0]=255&se,Me[1]=se>>>8&255,n.check=i(n.check,Me,2,0),se=0,ae=0,n.mode=C;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=G;break}if((15&se)!==x){e.msg="unknown compression method",n.mode=G;break}if(ae-=4,xe=8+(15&(se>>>=4)),0===n.wbits)n.wbits=xe;else if(xe>n.wbits){e.msg="invalid window size",n.mode=G;break}n.dmax=1<<xe,e.adler=n.check=1,n.mode=512&se?A:R,se=0,ae=0;break;case C:for(;ae<16;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}if(n.flags=se,(255&n.flags)!==x){e.msg="unknown compression method",n.mode=G;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=G;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,n.check=i(n.check,Me,2,0)),se=0,ae=0,n.mode=S;case S:for(;ae<32;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}n.head&&(n.head.time=se),512&n.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,Me[2]=se>>>16&255,Me[3]=se>>>24&255,n.check=i(n.check,Me,4,0)),se=0,ae=0,n.mode=_;case _:for(;ae<16;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,n.check=i(n.check,Me,2,0)),se=0,ae=0,n.mode=M;case M:if(1024&n.flags){for(;ae<16;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Me[0]=255&se,Me[1]=se>>>8&255,n.check=i(n.check,Me,2,0)),se=0,ae=0}else n.head&&(n.head.extra=null);n.mode=E;case E:if(1024&n.flags&&((ue=n.length)>oe&&(ue=oe),ue&&(n.head&&(xe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,Q,te,ue,xe)),512&n.flags&&(n.check=i(n.check,Q,ue,te)),oe-=ue,te+=ue,n.length-=ue),n.length))break e;n.length=0,n.mode=D;case D:if(2048&n.flags){if(0===oe)break e;ue=0;do{xe=Q[te+ue++],n.head&&xe&&n.length<65536&&(n.head.name+=String.fromCharCode(xe))}while(xe&&ue<oe);if(512&n.flags&&(n.check=i(n.check,Q,ue,te)),oe-=ue,te+=ue,xe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=N;case N:if(4096&n.flags){if(0===oe)break e;ue=0;do{xe=Q[te+ue++],n.head&&xe&&n.length<65536&&(n.head.comment+=String.fromCharCode(xe))}while(xe&&ue<oe);if(512&n.flags&&(n.check=i(n.check,Q,ue,te)),oe-=ue,te+=ue,xe)break e}else n.head&&(n.head.comment=null);n.mode=O;case O:if(512&n.flags){for(;ae<16;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=G;break}se=0,ae=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=R;break;case A:for(;ae<32;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}e.adler=n.check=ne(se),se=0,ae=0,n.mode=T;case T:if(0===n.havedict)return e.next_out=re,e.avail_out=ie,e.next_in=te,e.avail_in=oe,n.hold=se,n.bits=ae,g;e.adler=n.check=1,n.mode=R;case R:if(t===d||t===f)break e;case P:if(n.last){se>>>=7&ae,ae-=7&ae,n.mode=U;break}for(;ae<3;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}switch(n.last=1&se,ae-=1,3&(se>>>=1)){case 0:n.mode=z;break;case 1:if(de(n),n.mode=$,t===f){se>>>=2,ae-=2;break e}break;case 2:n.mode=B;break;case 3:e.msg="invalid block type",n.mode=G}se>>>=2,ae-=2;break;case z:for(se>>>=7&ae,ae-=7&ae;ae<32;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=G;break}if(n.length=65535&se,se=0,ae=0,n.mode=F,t===f)break e;case F:n.mode=I;case I:if(ue=n.length){if(ue>oe&&(ue=oe),ue>ie&&(ue=ie),0===ue)break e;r.arraySet(ee,Q,te,ue,re),oe-=ue,te+=ue,ie-=ue,re+=ue,n.length-=ue;break}n.mode=R;break;case B:for(;ae<14;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}if(n.nlen=257+(31&se),se>>>=5,ae-=5,n.ndist=1+(31&se),se>>>=5,ae-=5,n.ncode=4+(15&se),se>>>=4,ae-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=G;break}n.have=0,n.mode=Z;case Z:for(;n.have<n.ncode;){for(;ae<3;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}n.lens[Ee[n.have++]]=7&se,se>>>=3,ae-=3}for(;n.have<19;)n.lens[Ee[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ce={bits:n.lenbits},ke=a(l,n.lens,0,19,n.lencode,0,n.work,Ce),n.lenbits=Ce.bits,ke){e.msg="invalid code lengths set",n.mode=G;break}n.have=0,n.mode=V;case V:for(;n.have<n.nlen+n.ndist;){for(;ge=(_e=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ve=65535&_e,!((me=_e>>>24)<=ae);){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}if(ve<16)se>>>=me,ae-=me,n.lens[n.have++]=ve;else{if(16===ve){for(Se=me+2;ae<Se;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}if(se>>>=me,ae-=me,0===n.have){e.msg="invalid bit length repeat",n.mode=G;break}xe=n.lens[n.have-1],ue=3+(3&se),se>>>=2,ae-=2}else if(17===ve){for(Se=me+3;ae<Se;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}ae-=me,xe=0,ue=3+(7&(se>>>=me)),se>>>=3,ae-=3}else{for(Se=me+7;ae<Se;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}ae-=me,xe=0,ue=11+(127&(se>>>=me)),se>>>=7,ae-=7}if(n.have+ue>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=G;break}for(;ue--;)n.lens[n.have++]=xe}}if(n.mode===G)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=G;break}if(n.lenbits=9,Ce={bits:n.lenbits},ke=a(c,n.lens,0,n.nlen,n.lencode,0,n.work,Ce),n.lenbits=Ce.bits,ke){e.msg="invalid literal/lengths set",n.mode=G;break}if(n.distbits=6,n.distcode=n.distdyn,Ce={bits:n.distbits},ke=a(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ce),n.distbits=Ce.bits,ke){e.msg="invalid distances set",n.mode=G;break}if(n.mode=$,t===f)break e;case $:n.mode=L;case L:if(oe>=6&&ie>=258){e.next_out=re,e.avail_out=ie,e.next_in=te,e.avail_in=oe,n.hold=se,n.bits=ae,s(e,ce),re=e.next_out,ee=e.output,ie=e.avail_out,te=e.next_in,Q=e.input,oe=e.avail_in,se=n.hold,ae=n.bits,n.mode===R&&(n.back=-1);break}for(n.back=0;ge=(_e=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ve=65535&_e,!((me=_e>>>24)<=ae);){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}if(ge&&0==(240&ge)){for(ye=me,we=ge,be=ve;ge=(_e=n.lencode[be+((se&(1<<ye+we)-1)>>ye)])>>>16&255,ve=65535&_e,!(ye+(me=_e>>>24)<=ae);){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}se>>>=ye,ae-=ye,n.back+=ye}if(se>>>=me,ae-=me,n.back+=me,n.length=ve,0===ge){n.mode=W;break}if(32&ge){n.back=-1,n.mode=R;break}if(64&ge){e.msg="invalid literal/length code",n.mode=G;break}n.extra=15&ge,n.mode=H;case H:if(n.extra){for(Se=n.extra;ae<Se;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,ae-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Y;case Y:for(;ge=(_e=n.distcode[se&(1<<n.distbits)-1])>>>16&255,ve=65535&_e,!((me=_e>>>24)<=ae);){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}if(0==(240&ge)){for(ye=me,we=ge,be=ve;ge=(_e=n.distcode[be+((se&(1<<ye+we)-1)>>ye)])>>>16&255,ve=65535&_e,!(ye+(me=_e>>>24)<=ae);){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}se>>>=ye,ae-=ye,n.back+=ye}if(se>>>=me,ae-=me,n.back+=me,64&ge){e.msg="invalid distance code",n.mode=G;break}n.offset=ve,n.extra=15&ge,n.mode=j;case j:if(n.extra){for(Se=n.extra;ae<Se;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,ae-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=G;break}n.mode=q;case q:if(0===ie)break e;if(ue=ce-ie,n.offset>ue){if((ue=n.offset-ue)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=G;break}ue>n.wnext?(ue-=n.wnext,he=n.wsize-ue):he=n.wnext-ue,ue>n.length&&(ue=n.length),pe=n.window}else pe=ee,he=re-n.offset,ue=n.length;ue>ie&&(ue=ie),ie-=ue,n.length-=ue;do{ee[re++]=pe[he++]}while(--ue);0===n.length&&(n.mode=L);break;case W:if(0===ie)break e;ee[re++]=n.length,ie--,n.mode=L;break;case U:if(n.wrap){for(;ae<32;){if(0===oe)break e;oe--,se|=Q[te++]<<ae,ae+=8}if(ce-=ie,e.total_out+=ce,n.total+=ce,ce&&(e.adler=n.check=n.flags?i(n.check,ee,ce,re-ce):o(n.check,ee,ce,re-ce)),ce=ie,(n.flags?se:ne(se))!==n.check){e.msg="incorrect data check",n.mode=G;break}se=0,ae=0}n.mode=K;case K:if(n.wrap&&n.flags){for(;ae<32;){if(0===oe)break e;oe--,se+=Q[te++]<<ae,ae+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=G;break}se=0,ae=0}n.mode=J;case J:ke=m;break e;case G:ke=y;break e;case X:return w;default:return v}return e.next_out=re,e.avail_out=ie,e.next_in=te,e.avail_in=oe,n.hold=se,n.bits=ae,(n.wsize||ce!==e.avail_out&&n.mode<G&&(n.mode<U||t!==h))&&fe(e,e.output,e.next_out,ce-e.avail_out)?(n.mode=X,w):(le-=e.avail_in,ce-=e.avail_out,e.total_in+=le,e.total_out+=ce,n.total+=ce,n.wrap&&ce&&(e.adler=n.check=n.flags?i(n.check,ee,ce,e.next_out-ce):o(n.check,ee,ce,e.next_out-ce)),e.data_type=n.bits+(n.last?64:0)+(n.mode===R?128:0)+(n.mode===$||n.mode===F?256:0),(0===le&&0===ce||t===h)&&ke===p&&(ke=b),ke)}function me(e){if(!e||!e.state)return v;var t=e.state;return t.window&&(t.window=null),e.state=null,p}function ge(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?v:(n.head=t,t.done=!1,p):v}function ve(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==T?v:n.mode===T&&o(1,t,r,0)!==n.check?y:fe(e,t,r,r)?(n.mode=X,w):(n.havedict=1,p):v}n.inflateReset=ie,n.inflateReset2=se,n.inflateResetKeep=oe,n.inflateInit=le,n.inflateInit2=ae,n.inflate=pe,n.inflateEnd=me,n.inflateGetHeader=ge,n.inflateSetDictionary=ve,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":9,"./inffast":11,"./inftrees":13}],13:[function(e,t,n){"use strict";var r=e("../utils/common"),o=15,i=852,s=592,a=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,p,m,g,v,y){var w,b,x,k,C,S,_,M,E,D=y.bits,N=0,O=0,A=0,T=0,R=0,P=0,z=0,F=0,I=0,B=0,Z=null,V=0,$=new r.Buf16(o+1),L=new r.Buf16(o+1),H=null,Y=0;for(N=0;N<=o;N++)$[N]=0;for(O=0;O<p;O++)$[t[n+O]]++;for(R=D,T=o;T>=1&&0===$[T];T--);if(R>T&&(R=T),0===T)return m[g++]=20971520,m[g++]=20971520,y.bits=1,0;for(A=1;A<T&&0===$[A];A++);for(R<A&&(R=A),F=1,N=1;N<=o;N++)if(F<<=1,(F-=$[N])<0)return-1;if(F>0&&(e===a||1!==T))return-1;for(L[1]=0,N=1;N<o;N++)L[N+1]=L[N]+$[N];for(O=0;O<p;O++)0!==t[n+O]&&(v[L[t[n+O]]++]=O);if(e===a?(Z=H=v,S=19):e===l?(Z=u,V-=257,H=h,Y-=257,S=256):(Z=d,H=f,S=-1),B=0,O=0,N=A,C=g,P=R,z=0,x=-1,k=(I=1<<R)-1,e===l&&I>i||e===c&&I>s)return 1;for(;;){_=N-z,v[O]<S?(M=0,E=v[O]):v[O]>S?(M=H[Y+v[O]],E=Z[V+v[O]]):(M=96,E=0),w=1<<N-z,A=b=1<<P;do{m[C+(B>>z)+(b-=w)]=_<<24|M<<16|E|0}while(0!==b);for(w=1<<N-1;B&w;)w>>=1;if(0!==w?(B&=w-1,B+=w):B=0,O++,0==--$[N]){if(N===T)break;N=t[n+v[O]]}if(N>R&&(B&k)!==x){for(0===z&&(z=R),C+=A,F=1<<(P=N-z);P+z<T&&!((F-=$[P+z])<=0);)P++,F<<=1;if(I+=1<<P,e===l&&I>i||e===c&&I>s)return 1;m[x=B&k]=R<<24|P<<16|C-g|0}}return 0!==B&&(m[C+B]=N-z<<24|64<<16|0),y.bits=R,0}},{"../utils/common":5}],14:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],15:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}]},{},[3])(3)},56857:e=>{e.exports=function(){function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return o(t[s][1][e]||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var i=void 0,s=0;s<r.length;s++)o(r[s]);return o}return e}()({1:[function(e,t,n){"use strict";var r=e("pako/lib/deflate.js");t.exports=function(e){return r.deflateRaw(e,{level:9,to:"string"})}},{"pako/lib/deflate.js":4}],2:[function(e,t,n){"use strict";function r(e){return e<10?String.fromCharCode(48+e):(e-=10)<26?String.fromCharCode(65+e):(e-=26)<26?String.fromCharCode(97+e):0==(e-=26)?"-":1===e?"_":"?"}function o(e,t,n){var o=(3&e)<<4|t>>4,i=(15&t)<<2|n>>6,s=63&n,a="";return a+=r(63&e>>2),a+=r(63&o),a+=r(63&i),a+=r(63&s)}t.exports=function(e){for(var t="",n=0;n<e.length;n+=3)n+2===e.length?t+=o(e.charCodeAt(n),e.charCodeAt(n+1),0):n+1===e.length?t+=o(e.charCodeAt(n),0,0):t+=o(e.charCodeAt(n),e.charCodeAt(n+1),e.charCodeAt(n+2));return t}},{}],3:[function(e,t,n){"use strict";var r=e("./deflate"),o=e("./encode64");t.exports.encode=function(e){var t=r(e);return o(t)}},{"./deflate":1,"./encode64":2}],4:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),o=e("./utils/common"),i=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=4,h=0,d=1,f=2,p=-1,m=0,g=8;function v(e){if(!(this instanceof v))return new v(e);this.options=o.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==h)throw new Error(s[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,c))!==h)throw new Error(s[n]);this._dict_set=!0}}function y(e,t){var n=new v(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}function w(e,t){return(t=t||{}).raw=!0,y(e,t)}function b(e,t){return(t=t||{}).gzip=!0,y(e,t)}v.prototype.push=function(e,t){var n,s,a=this.strm,p=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?u:c,"string"==typeof e?a.input=i.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new o.Buf8(p),a.next_out=0,a.avail_out=p),(n=r.deflate(a,s))!==d&&n!==h)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||s!==u&&s!==f)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(a.output,a.next_out))):this.onData(o.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&n!==d);return s===u?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h):s!==f||(this.onEnd(h),a.avail_out=0,!0)},v.prototype.onData=function(e){this.chunks.push(e)},v.prototype.onEnd=function(e){e===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=v,n.deflate=y,n.deflateRaw=w,n.gzip=b},{"./utils/common":5,"./utils/strings":6,"./zlib/deflate":9,"./zlib/messages":10,"./zlib/zstream":12}],5:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)o(n,r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)i=e[t],s.set(i,o),o+=i.length;return s}},s={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],6:[function(e,t,n){"use strict";var r=e("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,o,i,s,a=e.length,l=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),s=0,i=0;s<l;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,i,a=t||e.length,c=new Array(2*a);for(r=0,n=0;n<a;)if((o=e[n++])<128)c[r++]=o;else if((i=s[o])>4)c[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&n<a;)o=o<<6|63&e[n++],i--;i>1?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return l(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":5}],7:[function(e,t,n){"use strict";function r(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--s);o%=65521,i%=65521}return o|i<<16|0}t.exports=r},{}],8:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var o=r();function i(e,t,n,r){var i=o,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}t.exports=i},{}],9:[function(e,t,n){"use strict";var r,o=e("../utils/common"),i=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=0,u=1,h=3,d=4,f=5,p=0,m=1,g=-2,v=-3,y=-5,w=-1,b=1,x=2,k=3,C=4,S=0,_=2,M=8,E=9,D=15,N=8,O=286,A=30,T=19,R=2*O+1,P=15,z=3,F=258,I=F+z+1,B=32,Z=42,V=69,$=73,L=91,H=103,Y=113,j=666,q=1,W=2,U=3,K=4,J=3;function G(e,t){return e.msg=l[t],t}function X(e){return(e<<1)-(e>4?9:0)}function Q(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(o.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function oe(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,o.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=s(e.adler,t,i,n):2===e.state.wrap&&(e.adler=a(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function ie(e,t){var n,r,o=e.max_chain_length,i=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-I?e.strstart-(e.w_size-I):0,c=e.window,u=e.w_mask,h=e.prev,d=e.strstart+F,f=c[i+s-1],p=c[i+s];e.prev_length>=e.good_match&&(o>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+s]===p&&c[n+s-1]===f&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<d);if(r=F-(d-i),i=d-F,r>s){if(e.match_start=t,s=r,r>=a)break;f=c[i+s-1],p=c[i+s]}}}while((t=h[t&u])>l&&0!=--o);return s<=e.lookahead?s:e.lookahead}function se(e){var t,n,r,i,s,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-I)){o.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);i+=a}if(0===e.strm.avail_in)break;if(n=oe(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=z)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+z-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<z)););}while(e.lookahead<I&&0!==e.strm.avail_in)}function ae(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(se(e),0===e.lookahead&&t===c)return q;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out))return q;if(e.strstart-e.block_start>=e.w_size-I&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?U:K):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),q)}function le(e,t){for(var n,r;;){if(e.lookahead<I){if(se(e),e.lookahead<I&&t===c)return q;if(0===e.lookahead)break}if(n=0,e.lookahead>=z&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-I&&(e.match_length=ie(e,n)),e.match_length>=z)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-z),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=z){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=e.strstart<z-1?e.strstart:z-1,t===d?(te(e,!0),0===e.strm.avail_out?U:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:W}function ce(e,t){for(var n,r,o;;){if(e.lookahead<I){if(se(e),e.lookahead<I&&t===c)return q;if(0===e.lookahead)break}if(n=0,e.lookahead>=z&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=z-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-I&&(e.match_length=ie(e,n),e.match_length<=5&&(e.strategy===b||e.match_length===z&&e.strstart-e.match_start>4096)&&(e.match_length=z-1)),e.prev_length>=z&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-z,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-z),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=z-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return q}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return q}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<z-1?e.strstart:z-1,t===d?(te(e,!0),0===e.strm.avail_out?U:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:W}function ue(e,t){for(var n,r,o,s,a=e.window;;){if(e.lookahead<=F){if(se(e),e.lookahead<=F&&t===c)return q;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=z&&e.strstart>0&&(r=a[o=e.strstart-1])===a[++o]&&r===a[++o]&&r===a[++o]){s=e.strstart+F;do{}while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<s);e.match_length=F-(s-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=z?(n=i._tr_tally(e,1,e.match_length-z),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?U:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:W}function he(e,t){for(var n;;){if(0===e.lookahead&&(se(e),0===e.lookahead)){if(t===c)return q;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?U:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:W}function de(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function fe(e){e.window_size=2*e.w_size,Q(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=z-1,e.match_available=0,e.ins_h=0}function pe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*R),this.dyn_dtree=new o.Buf16(2*(2*A+1)),this.bl_tree=new o.Buf16(2*(2*T+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(P+1),this.heap=new o.Buf16(2*O+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*O+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function me(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=_,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Z:Y,e.adler=2===t.wrap?0:1,t.last_flush=c,i._tr_init(t),p):G(e,g)}function ge(e){var t=me(e);return t===p&&fe(e.state),t}function ve(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,p):g}function ye(e,t,n,r,i,s){if(!e)return g;var a=1;if(t===w&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>E||n!==M||r<8||r>15||t<0||t>9||s<0||s>C)return G(e,g);8===r&&(r=9);var l=new pe;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+z-1)/z),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,ge(e)}function we(e,t){return ye(e,t,M,D,N,S)}function be(e,t){var n,o,s,l;if(!e||!e.state||t>f||t<0)return e?G(e,g):g;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===j&&t!==d)return G(e,0===e.avail_out?y:g);if(o.strm=e,n=o.last_flush,o.last_flush=t,o.status===Z)if(2===o.wrap)e.adler=0,ne(o,31),ne(o,139),ne(o,8),o.gzhead?(ne(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),ne(o,255&o.gzhead.time),ne(o,o.gzhead.time>>8&255),ne(o,o.gzhead.time>>16&255),ne(o,o.gzhead.time>>24&255),ne(o,9===o.level?2:o.strategy>=x||o.level<2?4:0),ne(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(ne(o,255&o.gzhead.extra.length),ne(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=a(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=V):(ne(o,0),ne(o,0),ne(o,0),ne(o,0),ne(o,0),ne(o,9===o.level?2:o.strategy>=x||o.level<2?4:0),ne(o,J),o.status=Y);else{var v=M+(o.w_bits-8<<4)<<8;v|=(o.strategy>=x||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(v|=B),v+=31-v%31,o.status=Y,re(o,v),0!==o.strstart&&(re(o,e.adler>>>16),re(o,65535&e.adler)),e.adler=1}if(o.status===V)if(o.gzhead.extra){for(s=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>s&&(e.adler=a(e.adler,o.pending_buf,o.pending-s,s)),ee(e),s=o.pending,o.pending!==o.pending_buf_size));)ne(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>s&&(e.adler=a(e.adler,o.pending_buf,o.pending-s,s)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=$)}else o.status=$;if(o.status===$)if(o.gzhead.name){s=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>s&&(e.adler=a(e.adler,o.pending_buf,o.pending-s,s)),ee(e),s=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,ne(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>s&&(e.adler=a(e.adler,o.pending_buf,o.pending-s,s)),0===l&&(o.gzindex=0,o.status=L)}else o.status=L;if(o.status===L)if(o.gzhead.comment){s=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>s&&(e.adler=a(e.adler,o.pending_buf,o.pending-s,s)),ee(e),s=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,ne(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>s&&(e.adler=a(e.adler,o.pending_buf,o.pending-s,s)),0===l&&(o.status=H)}else o.status=H;if(o.status===H&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&ee(e),o.pending+2<=o.pending_buf_size&&(ne(o,255&e.adler),ne(o,e.adler>>8&255),e.adler=0,o.status=Y)):o.status=Y),0!==o.pending){if(ee(e),0===e.avail_out)return o.last_flush=-1,p}else if(0===e.avail_in&&X(t)<=X(n)&&t!==d)return G(e,y);if(o.status===j&&0!==e.avail_in)return G(e,y);if(0!==e.avail_in||0!==o.lookahead||t!==c&&o.status!==j){var w=o.strategy===x?he(o,t):o.strategy===k?ue(o,t):r[o.level].func(o,t);if(w!==U&&w!==K||(o.status=j),w===q||w===U)return 0===e.avail_out&&(o.last_flush=-1),p;if(w===W&&(t===u?i._tr_align(o):t!==f&&(i._tr_stored_block(o,0,0,!1),t===h&&(Q(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),ee(e),0===e.avail_out))return o.last_flush=-1,p}return t!==d?p:o.wrap<=0?m:(2===o.wrap?(ne(o,255&e.adler),ne(o,e.adler>>8&255),ne(o,e.adler>>16&255),ne(o,e.adler>>24&255),ne(o,255&e.total_in),ne(o,e.total_in>>8&255),ne(o,e.total_in>>16&255),ne(o,e.total_in>>24&255)):(re(o,e.adler>>>16),re(o,65535&e.adler)),ee(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?p:m)}function xe(e){var t;return e&&e.state?(t=e.state.status)!==Z&&t!==V&&t!==$&&t!==L&&t!==H&&t!==Y&&t!==j?G(e,g):(e.state=null,t===Y?G(e,v):p):g}function ke(e,t){var n,r,i,a,l,c,u,h,d=t.length;if(!e||!e.state)return g;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==Z||n.lookahead)return g;for(1===a&&(e.adler=s(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(Q(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new o.Buf8(n.w_size),o.arraySet(h,t,d-n.w_size,n.w_size,0),t=h,d=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,se(n);n.lookahead>=z;){r=n.strstart,i=n.lookahead-(z-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+z-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=z-1,se(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=z-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=a,p}r=[new de(0,0,0,0,ae),new de(4,4,8,4,le),new de(4,5,16,8,le),new de(4,6,32,32,le),new de(4,4,16,16,ce),new de(8,16,32,32,ce),new de(8,16,128,128,ce),new de(8,32,128,256,ce),new de(32,128,258,1024,ce),new de(32,258,258,4096,ce)],n.deflateInit=we,n.deflateInit2=ye,n.deflateReset=ge,n.deflateResetKeep=me,n.deflateSetHeader=ve,n.deflate=be,n.deflateEnd=xe,n.deflateSetDictionary=ke,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":5,"./adler32":7,"./crc32":8,"./messages":10,"./trees":11}],10:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,n){"use strict";var r=e("../utils/common"),o=4,i=0,s=1,a=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,u=1,h=2,d=3,f=258,p=29,m=256,g=m+1+p,v=30,y=19,w=2*g+1,b=15,x=16,k=7,C=256,S=16,_=17,M=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=512,T=new Array(2*(g+2));l(T);var R=new Array(2*v);l(R);var P=new Array(A);l(P);var z=new Array(f-d+1);l(z);var F=new Array(p);l(F);var I,B,Z,V=new Array(v);function $(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function H(e){return e<256?P[e]:P[256+(e>>>7)]}function Y(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function j(e,t,n){e.bi_valid>x-n?(e.bi_buf|=t<<e.bi_valid&65535,Y(e,e.bi_buf),e.bi_buf=t>>x-e.bi_valid,e.bi_valid+=n-x):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function q(e,t,n){j(e,n[2*t],n[2*t+1])}function W(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function U(e){16===e.bi_valid?(Y(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function K(e,t){var n,r,o,i,s,a,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(i=0;i<=b;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<w;n++)(i=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(i=p,m++),l[2*r+1]=i,r>c||(e.bl_count[i]++,s=0,r>=f&&(s=d[r-f]),a=l[2*r],e.opt_len+=a*(i+s),h&&(e.static_len+=a*(u[2*r+1]+s)));if(0!==m){do{for(i=p-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(i=p;0!==i;i--)for(r=e.bl_count[i];0!==r;)(o=e.heap[--n])>c||(l[2*o+1]!==i&&(e.opt_len+=(i-l[2*o+1])*l[2*o],l[2*o+1]=i),r--)}}function J(e,t,n){var r,o,i=new Array(b+1),s=0;for(r=1;r<=b;r++)i[r]=s=s+n[r-1]<<1;for(o=0;o<=t;o++){var a=e[2*o+1];0!==a&&(e[2*o]=W(i[a]++,a))}}function G(){var e,t,n,r,o,i=new Array(b+1);for(n=0,r=0;r<p-1;r++)for(F[r]=n,e=0;e<1<<E[r];e++)z[n++]=r;for(z[n-1]=r,o=0,r=0;r<16;r++)for(V[r]=o,e=0;e<1<<D[r];e++)P[o++]=r;for(o>>=7;r<v;r++)for(V[r]=o<<7,e=0;e<1<<D[r]-7;e++)P[256+o++]=r;for(t=0;t<=b;t++)i[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,i[8]++;for(;e<=255;)T[2*e+1]=9,e++,i[9]++;for(;e<=279;)T[2*e+1]=7,e++,i[7]++;for(;e<=287;)T[2*e+1]=8,e++,i[8]++;for(J(T,g+1,i),e=0;e<v;e++)R[2*e+1]=5,R[2*e]=W(e,5);I=new $(T,E,m+1,g,b),B=new $(R,D,0,v,b),Z=new $(new Array(0),N,0,y,k)}function X(e){var t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<v;t++)e.dyn_dtree[2*t]=0;for(t=0;t<y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*C]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Q(e){e.bi_valid>8?Y(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,o){Q(e),o&&(Y(e,n),Y(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function ne(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&te(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!te(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function re(e,t,n){var r,o,i,s,a=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],o=e.pending_buf[e.l_buf+a],a++,0===r?q(e,o,t):(q(e,(i=z[o])+m+1,t),0!==(s=E[i])&&j(e,o-=F[i],s),q(e,i=H(--r),n),0!==(s=D[i])&&j(e,r-=V[i],s))}while(a<e.last_lit);q(e,C,t)}function oe(e,t){var n,r,o,i=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=w,n=0;n<l;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[o]=0,e.opt_len--,a&&(e.static_len-=s[2*o+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)ne(e,i,n);o=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,ne(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],K(e,t),J(i,c,e.bl_count)}function ie(e,t,n){var r,o,i=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=s,s=t[2*(r+1)+1],++a<l&&o===s||(a<c?e.bl_tree[2*o]+=a:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*S]++):a<=10?e.bl_tree[2*_]++:e.bl_tree[2*M]++,a=0,i=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))}function se(e,t,n){var r,o,i=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(o=s,s=t[2*(r+1)+1],!(++a<l&&o===s)){if(a<c)do{q(e,o,e.bl_tree)}while(0!=--a);else 0!==o?(o!==i&&(q(e,o,e.bl_tree),a--),q(e,S,e.bl_tree),j(e,a-3,2)):a<=10?(q(e,_,e.bl_tree),j(e,a-3,3)):(q(e,M,e.bl_tree),j(e,a-11,7));a=0,i=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}}function ae(e){var t;for(ie(e,e.dyn_ltree,e.l_desc.max_code),ie(e,e.dyn_dtree,e.d_desc.max_code),oe(e,e.bl_desc),t=y-1;t>=3&&0===e.bl_tree[2*O[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function le(e,t,n,r){var o;for(j(e,t-257,5),j(e,n-1,5),j(e,r-4,4),o=0;o<r;o++)j(e,e.bl_tree[2*O[o]+1],3);se(e,e.dyn_ltree,t-1),se(e,e.dyn_dtree,n-1)}function ce(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<m;t++)if(0!==e.dyn_ltree[2*t])return s;return i}l(V);var ue=!1;function he(e){ue||(G(),ue=!0),e.l_desc=new L(e.dyn_ltree,I),e.d_desc=new L(e.dyn_dtree,B),e.bl_desc=new L(e.bl_tree,Z),e.bi_buf=0,e.bi_valid=0,X(e)}function de(e,t,n,r){j(e,(c<<1)+(r?1:0),3),ee(e,t,n,!0)}function fe(e){j(e,u<<1,3),q(e,C,T),U(e)}function pe(e,t,n,r){var i,s,l=0;e.level>0?(e.strm.data_type===a&&(e.strm.data_type=ce(e)),oe(e,e.l_desc),oe(e,e.d_desc),l=ae(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?de(e,t,n,r):e.strategy===o||s===i?(j(e,(u<<1)+(r?1:0),3),re(e,T,R)):(j(e,(h<<1)+(r?1:0),3),le(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),re(e,e.dyn_ltree,e.dyn_dtree)),X(e),r&&Q(e)}function me(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(z[n]+m+1)]++,e.dyn_dtree[2*H(t)]++),e.last_lit===e.lit_bufsize-1}n._tr_init=he,n._tr_stored_block=de,n._tr_flush_block=pe,n._tr_tally=me,n._tr_align=fe},{"../utils/common":5}],12:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}]},{},[3])(3)},15660:(e,t,n)=>{var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},o.util.type(t)){case"Object":if(i=o.util.objId(t),n[i])return n[i];for(var s in r={},n[i]=r,t)t.hasOwnProperty(s)&&(r[s]=e(t[s],n));return r;case"Array":return i=o.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||o.languages)[e],s={};for(var a in i)if(i.hasOwnProperty(a)){if(a==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(a)||(s[a]=i[a])}var c=r[e];return r[e]=s,o.languages.DFS(o.languages,(function(t,n){n===c&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,r,i){i=i||{};var s=o.util.objId;for(var a in t)if(t.hasOwnProperty(a)){n.call(t,a,t[a],r||a);var l=t[a],c=o.util.type(l);"Object"!==c||i[s(l)]?"Array"!==c||i[s(l)]||(i[s(l)]=!0,e(l,n,a,i)):(i[s(l)]=!0,e(l,n,null,i))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,s=0;i=r.elements[s++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,n,r){var i=o.util.getLanguage(t),s=o.languages[i];o.util.setLanguage(t,i);var a=t.parentElement;a&&"pre"===a.nodeName.toLowerCase()&&o.util.setLanguage(a,i);var l={element:t,language:i,grammar:s,code:t.textContent};function c(e){l.highlightedCode=e,o.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o.hooks.run("after-highlight",l),o.hooks.run("complete",l),r&&r.call(l.element)}if(o.hooks.run("before-sanity-check",l),(a=l.element.parentElement)&&"pre"===a.nodeName.toLowerCase()&&!a.hasAttribute("tabindex")&&a.setAttribute("tabindex","0"),!l.code)return o.hooks.run("complete",l),void(r&&r.call(l.element));if(o.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var u=new Worker(o.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(o.highlight(l.code,l.grammar,l.language));else c(o.util.encode(l.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(o.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=o.tokenize(r.code,r.grammar),o.hooks.run("after-tokenize",r),i.stringify(o.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new l;return c(o,o.head,e),a(e,o,t,o.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function s(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var i=o[1].length;o.index+=i,o[0]=o[0].slice(i)}return o}function a(e,t,n,r,l,h){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var f=n[d];f=Array.isArray(f)?f:[f];for(var p=0;p<f.length;++p){if(h&&h.cause==d+","+p)return;var m=f[p],g=m.inside,v=!!m.lookbehind,y=!!m.greedy,w=m.alias;if(y&&!m.pattern.global){var b=m.pattern.toString().match(/[imsuy]*$/)[0];m.pattern=RegExp(m.pattern.source,b+"g")}for(var x=m.pattern||m,k=r.next,C=l;k!==t.tail&&!(h&&C>=h.reach);C+=k.value.length,k=k.next){var S=k.value;if(t.length>e.length)return;if(!(S instanceof i)){var _,M=1;if(y){if(!(_=s(x,C,e,v))||_.index>=e.length)break;var E=_.index,D=_.index+_[0].length,N=C;for(N+=k.value.length;E>=N;)N+=(k=k.next).value.length;if(C=N-=k.value.length,k.value instanceof i)continue;for(var O=k;O!==t.tail&&(N<D||"string"==typeof O.value);O=O.next)M++,N+=O.value.length;M--,S=e.slice(C,N),_.index-=C}else if(!(_=s(x,0,S,v)))continue;E=_.index;var A=_[0],T=S.slice(0,E),R=S.slice(E+A.length),P=C+S.length;h&&P>h.reach&&(h.reach=P);var z=k.prev;if(T&&(z=c(t,z,T),C+=T.length),u(t,z,M),k=c(t,z,new i(d,g?o.tokenize(A,g):A,w,A)),R&&c(t,k,R),M>1){var F={cause:d+","+p,reach:P};a(e,t,n,k.prev,C,F),h&&F.reach>h.reach&&(h.reach=F.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function u(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}if(e.Prism=o,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(i.classes,s):i.classes.push(s)),o.hooks.run("wrap",i);var a="";for(var l in i.attributes)a+=" "+l+'="'+(i.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+a+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,s=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),s&&e.close()}),!1),o):o;var h=o.util.currentScript();function d(){o.manual||o.highlightAll()}if(h&&(o.filename=h.src,h.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var f=document.readyState;"loading"===f||"interactive"===f&&h&&h.defer?document.addEventListener("DOMContentLoaded",d):window.requestAnimationFrame?window.requestAnimationFrame(d):window.setTimeout(d,16)}return o}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */e.exports&&(e.exports=r),void 0!==n.g&&(n.g.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};o["language-"+t]={pattern:/[\s\S]+/,inside:r.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:o},r.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(e,t){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:r.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(void 0!==r&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},t="data-src-status",n="loading",o="loaded",i='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])';r.hooks.add("before-highlightall",(function(e){e.selector+=", "+i})),r.hooks.add("before-sanity-check",(function(s){var a=s.element;if(a.matches(i)){s.code="",a.setAttribute(t,n);var l=a.appendChild(document.createElement("CODE"));l.textContent="Loading";var c=a.getAttribute("data-src"),u=s.language;if("none"===u){var h=(/\.(\w+)$/.exec(c)||[,"none"])[1];u=e[h]||h}r.util.setLanguage(l,u),r.util.setLanguage(a,u);var d=r.plugins.autoloader;d&&d.loadLanguages(u),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&(r.status<400&&r.responseText?t(r.responseText):r.status>=400?n(" Error "+r.status+" while fetching file: "+r.statusText):n(" Error: File does not exist or is empty"))},r.send(null)}(c,(function(e){a.setAttribute(t,o);var n=function(e){var t=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||"");if(t){var n=Number(t[1]),r=t[2],o=t[3];return r?o?[n,Number(o)]:[n,void 0]:[n,n]}}(a.getAttribute("data-range"));if(n){var i=e.split(/\r\n?|\n/g),s=n[0],c=null==n[1]?i.length:n[1];s<0&&(s+=i.length),s=Math.max(0,Math.min(s-1,i.length)),c<0&&(c+=i.length),c=Math.max(0,Math.min(c,i.length)),e=i.slice(s,c).join("\n"),a.hasAttribute("data-start")||a.setAttribute("data-start",String(s+1))}l.textContent=e,r.highlightElement(l)}),(function(e){a.setAttribute(t,"failed"),l.textContent=e}))}})),r.plugins.fileHighlight={highlight:function(e){for(var t,n=(e||document).querySelectorAll(i),o=0;t=n[o++];)r.highlightElement(t)}};var s=!1;r.fileHighlight=function(){s||(s=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}}()},66674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(30381),o=n.n(r),i=n(80334);const s={getNow:function(){return o()()},getFixedDate:function(e){return o()(e,"YYYY-MM-DD")},getEndDate:function(e){return e.clone().endOf("month")},getWeekDay:function(e){var t=e.clone().locale("en_US");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},addYear:function(e,t){return e.clone().add(t,"year")},addMonth:function(e,t){return e.clone().add(t,"month")},addDate:function(e,t){return e.clone().add(t,"day")},setYear:function(e,t){return e.clone().year(t)},setMonth:function(e,t){return e.clone().month(t)},setDate:function(e,t){return e.clone().date(t)},setHour:function(e,t){return e.clone().hour(t)},setMinute:function(e,t){return e.clone().minute(t)},setSecond:function(e,t){return e.clone().second(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return o()().locale(e).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,t){return t.clone().locale(e).weekday(0)},getWeek:function(e,t){return t.clone().locale(e).week()},getShortWeekDays:function(e){return o()().locale(e).localeData().weekdaysMin()},getShortMonths:function(e){return o()().locale(e).localeData().monthsShort()},format:function(e,t,n){return t.clone().locale(e).format(n)},parse:function(e,t,n){for(var r=[],s=0;s<n.length;s+=1){var a=n[s],l=t;if(a.includes("wo")||a.includes("Wo")){var c=(a=a.replace(/wo/g,"w").replace(/Wo/g,"W")).match(/[-YyMmDdHhSsWwGg]+/g),u=l.match(/[-\d]+/g);c&&u?(a=c.join(""),l=u.join("")):r.push(a.replace(/o/g,""))}var h=o()(l,a,e,!0);if(h.isValid())return h}for(var d=0;d<r.length;d+=1){var f=o()(t,r[d],e,!1);if(f.isValid())return(0,i.ET)(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),f}return null}}}},31878:(e,t,n)=>{"use strict";n.d(t,{Sq:()=>Je,ZP:()=>Ge});var r=n(15671),o=n(43144),i=n(79340),s=n(98557),a=n(87462),l=n(4942),c=n(1413),u=n(29439),h=n(67294),d=n(94184),f=n.n(d),p=n(80334),m=n(21770),g=n(71002),v=n(15105);const y=h.createContext({});var w={visibility:"hidden"};const b=function(e){var t=e.prefixCls,n=e.prevIcon,r=void 0===n?"":n,o=e.nextIcon,i=void 0===o?"":o,s=e.superPrevIcon,a=void 0===s?"":s,l=e.superNextIcon,c=void 0===l?"":l,u=e.onSuperPrev,d=e.onSuperNext,f=e.onPrev,p=e.onNext,m=e.children,g=h.useContext(y),v=g.hideNextBtn,b=g.hidePrevBtn;return h.createElement("div",{className:t},u&&h.createElement("button",{type:"button",onClick:u,tabIndex:-1,className:"".concat(t,"-super-prev-btn"),style:b?w:{}},a),f&&h.createElement("button",{type:"button",onClick:f,tabIndex:-1,className:"".concat(t,"-prev-btn"),style:b?w:{}},r),h.createElement("div",{className:"".concat(t,"-view")},m),p&&h.createElement("button",{type:"button",onClick:p,tabIndex:-1,className:"".concat(t,"-next-btn"),style:v?w:{}},i),d&&h.createElement("button",{type:"button",onClick:d,tabIndex:-1,className:"".concat(t,"-super-next-btn"),style:v?w:{}},c))};const x=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,o=e.onPrevDecades,i=e.onNextDecades;if(h.useContext(y).hideHeader)return null;var s="".concat(t,"-header"),l=n.getYear(r),c=Math.floor(l/V)*V,u=c+V-1;return h.createElement(b,(0,a.Z)({},e,{prefixCls:s,onSuperPrev:o,onSuperNext:i}),c,"-",u)};function k(e,t,n,r,o){var i=e.setHour(t,n);return i=e.setMinute(i,r),i=e.setSecond(i,o)}function C(e,t,n){if(!n)return t;var r=t;return r=e.setHour(r,e.getHour(n)),r=e.setMinute(r,e.getMinute(n)),r=e.setSecond(r,e.getSecond(n))}function S(e,t){var n=e.getYear(t),r=e.getMonth(t)+1,o=e.getEndDate(e.getFixedDate("".concat(n,"-").concat(r,"-01"))),i=e.getDate(o),s=r<10?"0".concat(r):"".concat(r);return"".concat(n,"-").concat(s,"-").concat(i)}function _(e){for(var t=e.prefixCls,n=e.disabledDate,r=e.onSelect,o=e.picker,i=e.rowNum,s=e.colNum,a=e.prefixColumn,u=e.rowClassName,d=e.baseDate,p=e.getCellClassName,m=e.getCellText,g=e.getCellNode,v=e.getCellDate,w=e.generateConfig,b=e.titleCell,x=e.headerCells,k=h.useContext(y),C=k.onDateMouseEnter,_=k.onDateMouseLeave,M=k.mode,E="".concat(t,"-cell"),D=[],N=0;N<i;N+=1){for(var O=[],A=void 0,T=function(e){var t,i=v(d,N*s+e),u=ee({cellDate:i,mode:M,disabledDate:n,generateConfig:w});0===e&&(A=i,a&&O.push(a(A)));var y=b&&b(i);O.push(h.createElement("td",{key:e,title:y,className:f()(E,(0,c.Z)((t={},(0,l.Z)(t,"".concat(E,"-disabled"),u),(0,l.Z)(t,"".concat(E,"-start"),1===m(i)||"year"===o&&Number(y)%10==0),(0,l.Z)(t,"".concat(E,"-end"),y===S(w,i)||"year"===o&&Number(y)%10==9),t),p(i))),onClick:function(){u||r(i)},onMouseEnter:function(){!u&&C&&C(i)},onMouseLeave:function(){!u&&_&&_(i)}},g?g(i):h.createElement("div",{className:"".concat(E,"-inner")},m(i))))},R=0;R<s;R+=1)T(R);D.push(h.createElement("tr",{key:N,className:u&&u(A)},O))}return h.createElement("div",{className:"".concat(t,"-body")},h.createElement("table",{className:"".concat(t,"-content")},x&&h.createElement("thead",null,h.createElement("tr",null,x)),h.createElement("tbody",null,D)))}const M=function(e){var t=Z-1,n=e.prefixCls,r=e.viewDate,o=e.generateConfig,i="".concat(n,"-cell"),s=o.getYear(r),c=Math.floor(s/Z)*Z,u=Math.floor(s/V)*V,d=u+V-1,f=o.setYear(r,u-Math.ceil((12*Z-V)/2));return h.createElement(_,(0,a.Z)({},e,{rowNum:4,colNum:3,baseDate:f,getCellText:function(e){var n=o.getYear(e);return"".concat(n,"-").concat(n+t)},getCellClassName:function(e){var n,r=o.getYear(e),s=r+t;return n={},(0,l.Z)(n,"".concat(i,"-in-view"),u<=r&&s<=d),(0,l.Z)(n,"".concat(i,"-selected"),r===c),n},getCellDate:function(e,t){return o.addYear(e,t*Z)}}))};var E=n(93433),D=n(75164),N=n(5110),O=new Map;function A(e,t,n){if(O.get(e)&&cancelAnimationFrame(O.get(e)),n<=0)O.set(e,requestAnimationFrame((function(){e.scrollTop=t})));else{var r=(t-e.scrollTop)/n*10;O.set(e,requestAnimationFrame((function(){e.scrollTop+=r,e.scrollTop!==t&&A(e,t,n-10)})))}}function T(e,t){var n=t.onLeftRight,r=t.onCtrlLeftRight,o=t.onUpDown,i=t.onPageUpDown,s=t.onEnter,a=e.which,l=e.ctrlKey,c=e.metaKey;switch(a){case v.Z.LEFT:if(l||c){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case v.Z.RIGHT:if(l||c){if(r)return r(1),!0}else if(n)return n(1),!0;break;case v.Z.UP:if(o)return o(-1),!0;break;case v.Z.DOWN:if(o)return o(1),!0;break;case v.Z.PAGE_UP:if(i)return i(-1),!0;break;case v.Z.PAGE_DOWN:if(i)return i(1),!0;break;case v.Z.ENTER:if(s)return s(),!0}return!1}function R(e,t,n,r){var o=e;if(!o)switch(t){case"time":o=r?"hh:mm:ss a":"HH:mm:ss";break;case"week":o="gggg-wo";break;case"month":o="YYYY-MM";break;case"quarter":o="YYYY-[Q]Q";break;case"year":o="YYYY";break;default:o=n?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return o}function P(e,t,n){var r="time"===e?8:10,o="function"==typeof t?t(n.getNow()).length:t.length;return Math.max(r,o)+2}var z=null,F=new Set;var I={year:function(e){return"month"===e||"date"===e?"year":e},month:function(e){return"date"===e?"month":e},quarter:function(e){return"month"===e||"date"===e?"quarter":e},week:function(e){return"date"===e?"week":e},time:null,date:null};function B(e,t){return e.some((function(e){return e&&e.contains(t)}))}var Z=10,V=10*Z;const $=function(e){var t=e.prefixCls,n=e.onViewDateChange,r=e.generateConfig,o=e.viewDate,i=e.operationRef,s=e.onSelect,l=e.onPanelChange,c="".concat(t,"-decade-panel");i.current={onKeyDown:function(e){return T(e,{onLeftRight:function(e){s(r.addYear(o,e*Z),"key")},onCtrlLeftRight:function(e){s(r.addYear(o,e*V),"key")},onUpDown:function(e){s(r.addYear(o,e*Z*3),"key")},onEnter:function(){l("year",o)}})}};var u=function(e){var t=r.addYear(o,e*V);n(t),l(null,t)};return h.createElement("div",{className:c},h.createElement(x,(0,a.Z)({},e,{prefixCls:t,onPrevDecades:function(){u(-1)},onNextDecades:function(){u(1)}})),h.createElement(M,(0,a.Z)({},e,{prefixCls:t,onSelect:function(e){s(e,"mouse"),l("year",e)}})))};function L(e,t){return!e&&!t||!(!e||!t)&&void 0}function H(e,t,n){var r=L(t,n);return"boolean"==typeof r?r:e.getYear(t)===e.getYear(n)}function Y(e,t){return Math.floor(e.getMonth(t)/3)+1}function j(e,t,n){var r=L(t,n);return"boolean"==typeof r?r:H(e,t,n)&&Y(e,t)===Y(e,n)}function q(e,t,n){var r=L(t,n);return"boolean"==typeof r?r:H(e,t,n)&&e.getMonth(t)===e.getMonth(n)}function W(e,t,n){var r=L(t,n);return"boolean"==typeof r?r:e.getYear(t)===e.getYear(n)&&e.getMonth(t)===e.getMonth(n)&&e.getDate(t)===e.getDate(n)}function U(e,t,n,r){var o=L(n,r);return"boolean"==typeof o?o:e.locale.getWeek(t,n)===e.locale.getWeek(t,r)}function K(e,t,n){return W(e,t,n)&&function(e,t,n){var r=L(t,n);return"boolean"==typeof r?r:e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}(e,t,n)}function J(e,t,n,r){return!!(t&&n&&r)&&(!W(e,t,r)&&!W(e,n,r)&&e.isAfter(r,t)&&e.isAfter(n,r))}function G(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(t){case"year":return n.addYear(e,10*r);case"quarter":case"month":return n.addYear(e,r);default:return n.addMonth(e,r)}}function X(e,t){var n=t.generateConfig,r=t.locale,o=t.format;return"function"==typeof o?o(e):n.locale.format(r.locale,e,o)}function Q(e,t){var n=t.generateConfig,r=t.locale,o=t.formatList;return e&&"function"!=typeof o[0]?n.locale.parse(r.locale,e,o):null}function ee(e){var t=e.cellDate,n=e.mode,r=e.disabledDate,o=e.generateConfig;if(!r)return!1;var i=function(e,n,i){for(var s=n;s<=i;){var a=void 0;switch(e){case"date":if(a=o.setDate(t,s),!r(a))return!1;break;case"month":if(!ee({cellDate:a=o.setMonth(t,s),mode:"month",generateConfig:o,disabledDate:r}))return!1;break;case"year":if(!ee({cellDate:a=o.setYear(t,s),mode:"year",generateConfig:o,disabledDate:r}))return!1}s+=1}return!0};switch(n){case"date":case"week":return r(t);case"month":return i("date",1,o.getDate(o.getEndDate(t)));case"quarter":var s=3*Math.floor(o.getMonth(t)/3);return i("month",s,s+2);case"year":return i("month",0,11);case"decade":var a=o.getYear(t),l=Math.floor(a/Z)*Z;return i("year",l,l+Z-1)}}const te=function(e){if(h.useContext(y).hideHeader)return null;var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.value,i=e.format,s="".concat(t,"-header");return h.createElement(b,{prefixCls:s},o?X(o,{locale:r,format:i,generateConfig:n}):"")};var ne=n(56982);const re=function(e){var t=e.prefixCls,n=e.units,r=e.onSelect,o=e.value,i=e.active,s=e.hideDisabledOptions,a="".concat(t,"-cell"),c=h.useContext(y).open,u=(0,h.useRef)(null),d=(0,h.useRef)(new Map),p=(0,h.useRef)();return(0,h.useLayoutEffect)((function(){var e=d.current.get(o);e&&!1!==c&&A(u.current,e.offsetTop,120)}),[o]),(0,h.useLayoutEffect)((function(){if(c){var e=d.current.get(o);e&&(p.current=(t=e,n=function(){A(u.current,e.offsetTop,0)},function e(){(0,N.Z)(t)?n():r=(0,D.Z)((function(){e()}))}(),function(){D.Z.cancel(r)}))}var t,n,r;return function(){var e;null===(e=p.current)||void 0===e||e.call(p)}}),[c]),h.createElement("ul",{className:f()("".concat(t,"-column"),(0,l.Z)({},"".concat(t,"-column-active"),i)),ref:u,style:{position:"relative"}},n.map((function(e){var t;return s&&e.disabled?null:h.createElement("li",{key:e.value,ref:function(t){d.current.set(e.value,t)},className:f()(a,(t={},(0,l.Z)(t,"".concat(a,"-disabled"),e.disabled),(0,l.Z)(t,"".concat(a,"-selected"),o===e.value),t)),onClick:function(){e.disabled||r(e.value)}},h.createElement("div",{className:"".concat(a,"-inner")},e.label))})))};function oe(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(e);return r}function ie(e){return null==e?[]:Array.isArray(e)?e:[e]}function se(e){var t={};return Object.keys(e).forEach((function(n){"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n&&"name"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n])})),t}function ae(e,t){return e?e[t]:null}function le(e,t,n){var r=[ae(e,0),ae(e,1)];return r[n]="function"==typeof t?t(r[n]):t,r[0]||r[1]?r:null}function ce(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n].disabled!==t[n].disabled)return!0;return!1}function ue(e,t,n,r){for(var o=[],i=e;i<=t;i+=n)o.push({label:oe(i,2),value:i,disabled:(r||[]).includes(i)});return o}const he=function(e){var t,n=e.generateConfig,r=e.prefixCls,o=e.operationRef,i=e.activeColumnIndex,s=e.value,a=e.showHour,l=e.showMinute,d=e.showSecond,f=e.use12Hours,p=e.hourStep,m=void 0===p?1:p,g=e.minuteStep,v=void 0===g?1:g,y=e.secondStep,w=void 0===y?1:y,b=e.disabledHours,x=e.disabledMinutes,C=e.disabledSeconds,S=e.disabledTime,_=e.hideDisabledOptions,M=e.onSelect,E=[],D="".concat(r,"-content"),N="".concat(r,"-time-panel"),O=s?n.getHour(s):-1,A=O,T=s?n.getMinute(s):-1,R=s?n.getSecond(s):-1,P=n.getNow(),z=h.useMemo((function(){if(S){var e=S(P);return[e.disabledHours,e.disabledMinutes,e.disabledSeconds]}return[b,x,C]}),[b,x,C,S,P]),F=(0,u.Z)(z,3),I=F[0],B=F[1],Z=F[2],V=function(e,t,r,o){var i=s||n.getNow(),a=Math.max(0,t),l=Math.max(0,r),c=Math.max(0,o);return i=k(n,i,f&&e?a+12:a,l,c)},$=ue(0,23,m,I&&I()),L=(0,ne.Z)((function(){return $}),$,ce);f&&(t=A>=12,A%=12);var H=h.useMemo((function(){if(!f)return[!1,!1];var e=[!0,!0];return L.forEach((function(t){var n=t.disabled,r=t.value;n||(r>=12?e[1]=!1:e[0]=!1)})),e}),[f,L]),Y=(0,u.Z)(H,2),j=Y[0],q=Y[1],W=h.useMemo((function(){return f?L.filter(t?function(e){return e.value>=12}:function(e){return e.value<12}).map((function(e){var t=e.value%12,n=0===t?"12":oe(t,2);return(0,c.Z)((0,c.Z)({},e),{},{label:n,value:t})})):L}),[f,t,L]),U=ue(0,59,v,B&&B(O)),K=ue(0,59,w,Z&&Z(O,T));function J(e,t,n,r,o){!1!==e&&E.push({node:h.cloneElement(t,{prefixCls:N,value:n,active:i===E.length,onSelect:o,units:r,hideDisabledOptions:_}),onSelect:o,value:n,units:r})}o.current={onUpDown:function(e){var t=E[i];if(t)for(var n=t.units.findIndex((function(e){return e.value===t.value})),r=t.units.length,o=1;o<r;o+=1){var s=t.units[(n+e*o+r)%r];if(!0!==s.disabled){t.onSelect(s.value);break}}}},J(a,h.createElement(re,{key:"hour"}),A,W,(function(e){M(V(t,e,T,R),"mouse")})),J(l,h.createElement(re,{key:"minute"}),T,U,(function(e){M(V(t,A,e,R),"mouse")})),J(d,h.createElement(re,{key:"second"}),R,K,(function(e){M(V(t,A,T,e),"mouse")}));var G=-1;return"boolean"==typeof t&&(G=t?1:0),J(!0===f,h.createElement(re,{key:"12hours"}),G,[{label:"AM",value:0,disabled:j},{label:"PM",value:1,disabled:q}],(function(e){M(V(!!e,A,T,R),"mouse")})),h.createElement("div",{className:D},E.map((function(e){return e.node})))};const de=function(e){var t=e.generateConfig,n=e.format,r=void 0===n?"HH:mm:ss":n,o=e.prefixCls,i=e.active,s=e.operationRef,c=e.showHour,d=e.showMinute,p=e.showSecond,m=e.use12Hours,g=void 0!==m&&m,v=e.onSelect,y=e.value,w="".concat(o,"-time-panel"),b=h.useRef(),x=h.useState(-1),k=(0,u.Z)(x,2),C=k[0],S=k[1],_=[c,d,p,g].filter((function(e){return!1!==e})).length;return s.current={onKeyDown:function(e){return T(e,{onLeftRight:function(e){S((C+e+_)%_)},onUpDown:function(e){-1===C?S(0):b.current&&b.current.onUpDown(e)},onEnter:function(){v(y||t.getNow(),"key"),S(-1)}})},onBlur:function(){S(-1)}},h.createElement("div",{className:f()(w,(0,l.Z)({},"".concat(w,"-active"),i))},h.createElement(te,(0,a.Z)({},e,{format:r,prefixCls:o})),h.createElement(he,(0,a.Z)({},e,{prefixCls:o,activeColumnIndex:C,operationRef:b})))};const fe=h.createContext({});function pe(e){var t=e.cellPrefixCls,n=e.generateConfig,r=e.rangedValue,o=e.hoverRangedValue,i=e.isInView,s=e.isSameCell,a=e.offsetCell,c=e.today,u=e.value;return function(e){var h,d=a(e,-1),f=a(e,1),p=ae(r,0),m=ae(r,1),g=ae(o,0),v=ae(o,1),y=J(n,g,v,e);function w(e){return s(p,e)}function b(e){return s(m,e)}var x=s(g,e),k=s(v,e),C=(y||k)&&(!i(d)||b(d)),S=(y||x)&&(!i(f)||w(f));return h={},(0,l.Z)(h,"".concat(t,"-in-view"),i(e)),(0,l.Z)(h,"".concat(t,"-in-range"),J(n,p,m,e)),(0,l.Z)(h,"".concat(t,"-range-start"),w(e)),(0,l.Z)(h,"".concat(t,"-range-end"),b(e)),(0,l.Z)(h,"".concat(t,"-range-start-single"),w(e)&&!m),(0,l.Z)(h,"".concat(t,"-range-end-single"),b(e)&&!p),(0,l.Z)(h,"".concat(t,"-range-start-near-hover"),w(e)&&(s(d,g)||J(n,g,v,d))),(0,l.Z)(h,"".concat(t,"-range-end-near-hover"),b(e)&&(s(f,v)||J(n,g,v,f))),(0,l.Z)(h,"".concat(t,"-range-hover"),y),(0,l.Z)(h,"".concat(t,"-range-hover-start"),x),(0,l.Z)(h,"".concat(t,"-range-hover-end"),k),(0,l.Z)(h,"".concat(t,"-range-hover-edge-start"),C),(0,l.Z)(h,"".concat(t,"-range-hover-edge-end"),S),(0,l.Z)(h,"".concat(t,"-range-hover-edge-start-near-range"),C&&s(d,m)),(0,l.Z)(h,"".concat(t,"-range-hover-edge-end-near-range"),S&&s(f,p)),(0,l.Z)(h,"".concat(t,"-today"),s(c,e)),(0,l.Z)(h,"".concat(t,"-selected"),s(u,e)),h}}const me=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.prefixColumn,o=e.locale,i=e.rowCount,s=e.viewDate,l=e.value,c=e.dateRender,u=h.useContext(fe),d=u.rangedValue,f=u.hoverRangedValue,p=function(e,t,n){var r=t.locale.getWeekFirstDay(e),o=t.setDate(n,1),i=t.getWeekDay(o),s=t.addDate(o,r-i);return t.getMonth(s)===t.getMonth(n)&&t.getDate(s)>1&&(s=t.addDate(s,-7)),s}(o.locale,n,s),m="".concat(t,"-cell"),g=n.locale.getWeekFirstDay(o.locale),v=n.getNow(),y=[],w=o.shortWeekDays||(n.locale.getShortWeekDays?n.locale.getShortWeekDays(o.locale):[]);r&&y.push(h.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var b=0;b<7;b+=1)y.push(h.createElement("th",{key:b},w[(b+g)%7]));var x=pe({cellPrefixCls:m,today:v,value:l,generateConfig:n,rangedValue:r?null:d,hoverRangedValue:r?null:f,isSameCell:function(e,t){return W(n,e,t)},isInView:function(e){return q(n,e,s)},offsetCell:function(e,t){return n.addDate(e,t)}}),k=c?function(e){return c(e,v)}:void 0;return h.createElement(_,(0,a.Z)({},e,{rowNum:i,colNum:7,baseDate:p,getCellNode:k,getCellText:n.getDate,getCellClassName:x,getCellDate:n.addDate,titleCell:function(e){return X(e,{locale:o,format:"YYYY-MM-DD",generateConfig:n})},headerCells:y}))};const ge=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.viewDate,i=e.onNextMonth,s=e.onPrevMonth,l=e.onNextYear,c=e.onPrevYear,u=e.onYearClick,d=e.onMonthClick;if(h.useContext(y).hideHeader)return null;var f="".concat(t,"-header"),p=r.shortMonths||(n.locale.getShortMonths?n.locale.getShortMonths(r.locale):[]),m=n.getMonth(o),g=h.createElement("button",{type:"button",key:"year",onClick:u,tabIndex:-1,className:"".concat(t,"-year-btn")},X(o,{locale:r,format:r.yearFormat,generateConfig:n})),v=h.createElement("button",{type:"button",key:"month",onClick:d,tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?X(o,{locale:r,format:r.monthFormat,generateConfig:n}):p[m]),w=r.monthBeforeYear?[v,g]:[g,v];return h.createElement(b,(0,a.Z)({},e,{prefixCls:f,onSuperPrev:c,onPrev:s,onNext:i,onSuperNext:l}),w)};const ve=function(e){var t=e.prefixCls,n=e.panelName,r=void 0===n?"date":n,o=e.keyboardConfig,i=e.active,s=e.operationRef,u=e.generateConfig,d=e.value,p=e.viewDate,m=e.onViewDateChange,g=e.onPanelChange,v=e.onSelect,y="".concat(t,"-").concat(r,"-panel");s.current={onKeyDown:function(e){return T(e,(0,c.Z)({onLeftRight:function(e){v(u.addDate(d||p,e),"key")},onCtrlLeftRight:function(e){v(u.addYear(d||p,e),"key")},onUpDown:function(e){v(u.addDate(d||p,7*e),"key")},onPageUpDown:function(e){v(u.addMonth(d||p,e),"key")}},o))}};var w=function(e){var t=u.addYear(p,e);m(t),g(null,t)},b=function(e){var t=u.addMonth(p,e);m(t),g(null,t)};return h.createElement("div",{className:f()(y,(0,l.Z)({},"".concat(y,"-active"),i))},h.createElement(ge,(0,a.Z)({},e,{prefixCls:t,value:d,viewDate:p,onPrevYear:function(){w(-1)},onNextYear:function(){w(1)},onPrevMonth:function(){b(-1)},onNextMonth:function(){b(1)},onMonthClick:function(){g("month",p)},onYearClick:function(){g("year",p)}})),h.createElement(me,(0,a.Z)({},e,{onSelect:function(e){return v(e,"mouse")},prefixCls:t,value:d,viewDate:p,rowCount:6})))};var ye=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}("date","time");const we=function(e){var t=e.prefixCls,n=e.operationRef,r=e.generateConfig,o=e.value,i=e.defaultValue,s=e.disabledTime,d=e.showTime,p=e.onSelect,m="".concat(t,"-datetime-panel"),y=h.useState(null),w=(0,u.Z)(y,2),b=w[0],x=w[1],k=h.useRef({}),S=h.useRef({}),_="object"===(0,g.Z)(d)?(0,c.Z)({},d):{},M=function(e){S.current.onBlur&&S.current.onBlur(e),x(null)};n.current={onKeyDown:function(e){if(e.which===v.Z.TAB){var t=(n=e.shiftKey?-1:1,r=ye.indexOf(b)+n,ye[r]||null);return x(t),t&&e.preventDefault(),!0}var n,r;if(b){var o="date"===b?k:S;return o.current&&o.current.onKeyDown&&o.current.onKeyDown(e),!0}return!![v.Z.LEFT,v.Z.RIGHT,v.Z.UP,v.Z.DOWN].includes(e.which)&&(x("date"),!0)},onBlur:M,onClose:M};var E=function(e,t){var n=e;"date"===t&&!o&&_.defaultValue?(n=r.setHour(n,r.getHour(_.defaultValue)),n=r.setMinute(n,r.getMinute(_.defaultValue)),n=r.setSecond(n,r.getSecond(_.defaultValue))):"time"===t&&!o&&i&&(n=r.setYear(n,r.getYear(i)),n=r.setMonth(n,r.getMonth(i)),n=r.setDate(n,r.getDate(i))),p&&p(n,"mouse")},D=s?s(o||null):{};return h.createElement("div",{className:f()(m,(0,l.Z)({},"".concat(m,"-active"),b))},h.createElement(ve,(0,a.Z)({},e,{operationRef:k,active:"date"===b,onSelect:function(e){E(C(r,e,o||"object"!==(0,g.Z)(d)?null:d.defaultValue),"date")}})),h.createElement(de,(0,a.Z)({},e,{format:void 0},_,D,{disabledTime:null,defaultValue:void 0,operationRef:S,active:"time"===b,onSelect:function(e){E(e,"time")}})))};const be=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.value,i="".concat(t,"-cell"),s="".concat(t,"-week-panel-row");return h.createElement(ve,(0,a.Z)({},e,{panelName:"week",prefixColumn:function(e){return h.createElement("td",{key:"week",className:f()(i,"".concat(i,"-week"))},n.locale.getWeek(r.locale,e))},rowClassName:function(e){return f()(s,(0,l.Z)({},"".concat(s,"-selected"),U(n,r.locale,o,e)))},keyboardConfig:{onLeftRight:null}}))};const xe=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.viewDate,i=e.onNextYear,s=e.onPrevYear,l=e.onYearClick;if(h.useContext(y).hideHeader)return null;var c="".concat(t,"-header");return h.createElement(b,(0,a.Z)({},e,{prefixCls:c,onSuperPrev:s,onSuperNext:i}),h.createElement("button",{type:"button",onClick:l,className:"".concat(t,"-year-btn")},X(o,{locale:r,format:r.yearFormat,generateConfig:n})))};const ke=function(e){var t=e.prefixCls,n=e.locale,r=e.value,o=e.viewDate,i=e.generateConfig,s=e.monthCellRender,l=h.useContext(fe),c=l.rangedValue,u=l.hoverRangedValue,d=pe({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:i,rangedValue:c,hoverRangedValue:u,isSameCell:function(e,t){return q(i,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return i.addMonth(e,t)}}),f=n.shortMonths||(i.locale.getShortMonths?i.locale.getShortMonths(n.locale):[]),p=i.setMonth(o,0),m=s?function(e){return s(e,n)}:void 0;return h.createElement(_,(0,a.Z)({},e,{rowNum:4,colNum:3,baseDate:p,getCellNode:m,getCellText:function(e){return n.monthFormat?X(e,{locale:n,format:n.monthFormat,generateConfig:i}):f[i.getMonth(e)]},getCellClassName:d,getCellDate:i.addMonth,titleCell:function(e){return X(e,{locale:n,format:"YYYY-MM",generateConfig:i})}}))};const Ce=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,o=e.generateConfig,i=e.value,s=e.viewDate,l=e.onPanelChange,c=e.onSelect,u="".concat(t,"-month-panel");n.current={onKeyDown:function(e){return T(e,{onLeftRight:function(e){c(o.addMonth(i||s,e),"key")},onCtrlLeftRight:function(e){c(o.addYear(i||s,e),"key")},onUpDown:function(e){c(o.addMonth(i||s,3*e),"key")},onEnter:function(){l("date",i||s)}})}};var d=function(e){var t=o.addYear(s,e);r(t),l(null,t)};return h.createElement("div",{className:u},h.createElement(xe,(0,a.Z)({},e,{prefixCls:t,onPrevYear:function(){d(-1)},onNextYear:function(){d(1)},onYearClick:function(){l("year",s)}})),h.createElement(ke,(0,a.Z)({},e,{prefixCls:t,onSelect:function(e){c(e,"mouse"),l("date",e)}})))};const Se=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.viewDate,i=e.onNextYear,s=e.onPrevYear,l=e.onYearClick;if(h.useContext(y).hideHeader)return null;var c="".concat(t,"-header");return h.createElement(b,(0,a.Z)({},e,{prefixCls:c,onSuperPrev:s,onSuperNext:i}),h.createElement("button",{type:"button",onClick:l,className:"".concat(t,"-year-btn")},X(o,{locale:r,format:r.yearFormat,generateConfig:n})))};const _e=function(e){var t=e.prefixCls,n=e.locale,r=e.value,o=e.viewDate,i=e.generateConfig,s=h.useContext(fe),l=s.rangedValue,c=s.hoverRangedValue,u=pe({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:i,rangedValue:l,hoverRangedValue:c,isSameCell:function(e,t){return j(i,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return i.addMonth(e,3*t)}}),d=i.setDate(i.setMonth(o,0),1);return h.createElement(_,(0,a.Z)({},e,{rowNum:1,colNum:4,baseDate:d,getCellText:function(e){return X(e,{locale:n,format:n.quarterFormat||"[Q]Q",generateConfig:i})},getCellClassName:u,getCellDate:function(e,t){return i.addMonth(e,3*t)},titleCell:function(e){return X(e,{locale:n,format:"YYYY-[Q]Q",generateConfig:i})}}))};const Me=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,o=e.generateConfig,i=e.value,s=e.viewDate,l=e.onPanelChange,c=e.onSelect,u="".concat(t,"-quarter-panel");n.current={onKeyDown:function(e){return T(e,{onLeftRight:function(e){c(o.addMonth(i||s,3*e),"key")},onCtrlLeftRight:function(e){c(o.addYear(i||s,e),"key")},onUpDown:function(e){c(o.addYear(i||s,e),"key")}})}};var d=function(e){var t=o.addYear(s,e);r(t),l(null,t)};return h.createElement("div",{className:u},h.createElement(Se,(0,a.Z)({},e,{prefixCls:t,onPrevYear:function(){d(-1)},onNextYear:function(){d(1)},onYearClick:function(){l("year",s)}})),h.createElement(_e,(0,a.Z)({},e,{prefixCls:t,onSelect:function(e){c(e,"mouse")}})))};const Ee=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,o=e.onPrevDecade,i=e.onNextDecade,s=e.onDecadeClick;if(h.useContext(y).hideHeader)return null;var l="".concat(t,"-header"),c=n.getYear(r),u=Math.floor(c/Ne)*Ne,d=u+Ne-1;return h.createElement(b,(0,a.Z)({},e,{prefixCls:l,onSuperPrev:o,onSuperNext:i}),h.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-decade-btn")},u,"-",d))};const De=function(e){var t=e.prefixCls,n=e.value,r=e.viewDate,o=e.locale,i=e.generateConfig,s=h.useContext(fe),l=s.rangedValue,c=s.hoverRangedValue,u="".concat(t,"-cell"),d=i.getYear(r),f=Math.floor(d/Ne)*Ne,p=f+Ne-1,m=i.setYear(r,f-Math.ceil((12-Ne)/2)),g=pe({cellPrefixCls:u,value:n,generateConfig:i,rangedValue:l,hoverRangedValue:c,isSameCell:function(e,t){return H(i,e,t)},isInView:function(e){var t=i.getYear(e);return f<=t&&t<=p},offsetCell:function(e,t){return i.addYear(e,t)}});return h.createElement(_,(0,a.Z)({},e,{rowNum:4,colNum:3,baseDate:m,getCellText:i.getYear,getCellClassName:g,getCellDate:i.addYear,titleCell:function(e){return X(e,{locale:o,format:"YYYY",generateConfig:i})}}))};var Ne=10;const Oe=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,o=e.generateConfig,i=e.value,s=e.viewDate,l=e.sourceMode,c=e.onSelect,u=e.onPanelChange,d="".concat(t,"-year-panel");n.current={onKeyDown:function(e){return T(e,{onLeftRight:function(e){c(o.addYear(i||s,e),"key")},onCtrlLeftRight:function(e){c(o.addYear(i||s,e*Ne),"key")},onUpDown:function(e){c(o.addYear(i||s,3*e),"key")},onEnter:function(){u("date"===l?"date":"month",i||s)}})}};var f=function(e){var t=o.addYear(s,10*e);r(t),u(null,t)};return h.createElement("div",{className:d},h.createElement(Ee,(0,a.Z)({},e,{prefixCls:t,onPrevDecade:function(){f(-1)},onNextDecade:function(){f(1)},onDecadeClick:function(){u("decade",s)}})),h.createElement(De,(0,a.Z)({},e,{prefixCls:t,onSelect:function(e){u("date"===l?"date":"month",e),c(e,"mouse")}})))};function Ae(e,t,n){return n?h.createElement("div",{className:"".concat(e,"-footer-extra")},n(t)):null}function Te(e){var t,n,r=e.prefixCls,o=e.rangeList,i=void 0===o?[]:o,s=e.components,a=void 0===s?{}:s,l=e.needConfirmButton,c=e.onNow,u=e.onOk,d=e.okDisabled,f=e.showNow,p=e.locale;if(i.length){var m=a.rangeItem||"span";t=h.createElement(h.Fragment,null,i.map((function(e){var t=e.label,n=e.onClick,o=e.onMouseEnter,i=e.onMouseLeave;return h.createElement("li",{key:t,className:"".concat(r,"-preset")},h.createElement(m,{onClick:n,onMouseEnter:o,onMouseLeave:i},t))})))}if(l){var g=a.button||"button";c&&!t&&!1!==f&&(t=h.createElement("li",{className:"".concat(r,"-now")},h.createElement("a",{className:"".concat(r,"-now-btn"),onClick:c},p.now))),n=l&&h.createElement("li",{className:"".concat(r,"-ok")},h.createElement(g,{disabled:d,onClick:u},p.ok))}return t||n?h.createElement("ul",{className:"".concat(r,"-ranges")},t,n):null}const Re=function(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,o=e.className,i=e.style,s=e.locale,d=e.generateConfig,w=e.value,b=e.defaultValue,x=e.pickerValue,S=e.defaultPickerValue,_=e.disabledDate,M=e.mode,E=e.picker,D=void 0===E?"date":E,N=e.tabIndex,O=void 0===N?0:N,A=e.showNow,T=e.showTime,R=e.showToday,P=e.renderExtraFooter,z=e.hideHeader,F=e.onSelect,B=e.onChange,Z=e.onPanelChange,V=e.onMouseDown,L=e.onPickerValueChange,H=e.onOk,Y=e.components,j=e.direction,q=e.hourStep,W=void 0===q?1:q,U=e.minuteStep,J=void 0===U?1:U,G=e.secondStep,X=void 0===G?1:G,Q="date"===D&&!!T||"time"===D,ee=24%W==0,te=60%J==0,ne=60%X==0,re=h.useContext(y),oe=re.operationRef,ie=re.panelRef,se=re.onSelect,ae=re.hideRanges,le=re.defaultOpenValue,ce=h.useContext(fe),ue=ce.inRange,he=ce.panelPosition,pe=ce.rangedValue,me=ce.hoverRangedValue,ge=h.useRef({}),ye=h.useRef(!0),xe=(0,m.Z)(null,{value:w,defaultValue:b,postState:function(e){return!e&&le&&"time"===D?le:e}}),ke=(0,u.Z)(xe,2),Se=ke[0],_e=ke[1],Ee=(0,m.Z)(null,{value:x,defaultValue:S||Se,postState:function(e){var t=d.getNow();if(!e)return t;if(!Se&&T){var n="object"===(0,g.Z)(T)?T.defaultValue:b;return C(d,Array.isArray(e)?e[0]:e,n||t)}return Array.isArray(e)?e[0]:e}}),De=(0,u.Z)(Ee,2),Ne=De[0],Re=De[1],Pe=function(e){Re(e),L&&L(e)},ze=function(e){var t=I[D];return t?t(e):e},Fe=(0,m.Z)((function(){return"time"===D?"time":ze("date")}),{value:M}),Ie=(0,u.Z)(Fe,2),Be=Ie[0],Ze=Ie[1];h.useEffect((function(){Ze(D)}),[D]);var Ve,$e=h.useState((function(){return Be})),Le=(0,u.Z)($e,2),He=Le[0],Ye=Le[1],je=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(Be===D||n)&&(_e(e),F&&F(e),se&&se(e,t),!B||K(d,e,Se)||(null==_?void 0:_(e))||B(e))},qe=function(e){return ge.current&&ge.current.onKeyDown?([v.Z.LEFT,v.Z.RIGHT,v.Z.UP,v.Z.DOWN,v.Z.PAGE_UP,v.Z.PAGE_DOWN,v.Z.ENTER].includes(e.which)&&e.preventDefault(),ge.current.onKeyDown(e)):((0,p.ZP)(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)};oe&&"right"!==he&&(oe.current={onKeyDown:qe,onClose:function(){ge.current&&ge.current.onClose&&ge.current.onClose()}}),h.useEffect((function(){w&&!ye.current&&Re(w)}),[w]),h.useEffect((function(){ye.current=!1}),[]);var We,Ue,Ke,Je=(0,c.Z)((0,c.Z)({},e),{},{operationRef:ge,prefixCls:r,viewDate:Ne,value:Se,onViewDateChange:Pe,sourceMode:He,onPanelChange:function(e,t){var n=ze(e||Be);Ye(Be),Ze(n),Z&&(Be!==n||K(d,Ne,Ne))&&Z(t,n)},disabledDate:_});switch(delete Je.onChange,delete Je.onSelect,Be){case"decade":Ve=h.createElement($,(0,a.Z)({},Je,{onSelect:function(e,t){Pe(e),je(e,t)}}));break;case"year":Ve=h.createElement(Oe,(0,a.Z)({},Je,{onSelect:function(e,t){Pe(e),je(e,t)}}));break;case"month":Ve=h.createElement(Ce,(0,a.Z)({},Je,{onSelect:function(e,t){Pe(e),je(e,t)}}));break;case"quarter":Ve=h.createElement(Me,(0,a.Z)({},Je,{onSelect:function(e,t){Pe(e),je(e,t)}}));break;case"week":Ve=h.createElement(be,(0,a.Z)({},Je,{onSelect:function(e,t){Pe(e),je(e,t)}}));break;case"time":delete Je.showTime,Ve=h.createElement(de,(0,a.Z)({},Je,"object"===(0,g.Z)(T)?T:null,{onSelect:function(e,t){Pe(e),je(e,t)}}));break;default:Ve=T?h.createElement(we,(0,a.Z)({},Je,{onSelect:function(e,t){Pe(e),je(e,t)}})):h.createElement(ve,(0,a.Z)({},Je,{onSelect:function(e,t){Pe(e),je(e,t)}}))}if(ae||(We=Ae(r,Be,P),Ue=Te({prefixCls:r,components:Y,needConfirmButton:Q,okDisabled:!Se||_&&_(Se),locale:s,showNow:A,onNow:Q&&function(){var e=d.getNow(),t=function(e,t,n,r,o,i){var s=Math.floor(e/r)*r;if(s<e)return[s,60-o,60-i];var a=Math.floor(t/o)*o;return a<t?[s,a,60-i]:[s,a,Math.floor(n/i)*i]}(d.getHour(e),d.getMinute(e),d.getSecond(e),ee?W:1,te?J:1,ne?X:1),n=k(d,e,t[0],t[1],t[2]);je(n,"submit")},onOk:function(){Se&&(je(Se,"submit",!0),H&&H(Se))}})),R&&"date"===Be&&"date"===D&&!T){var Ge=d.getNow(),Xe="".concat(r,"-today-btn"),Qe=_&&_(Ge);Ke=h.createElement("a",{className:f()(Xe,Qe&&"".concat(Xe,"-disabled")),"aria-disabled":Qe,onClick:function(){Qe||je(Ge,"mouse",!0)}},s.today)}return h.createElement(y.Provider,{value:(0,c.Z)((0,c.Z)({},re),{},{mode:Be,hideHeader:"hideHeader"in e?z:re.hideHeader,hidePrevBtn:ue&&"right"===he,hideNextBtn:ue&&"left"===he})},h.createElement("div",{tabIndex:O,className:f()("".concat(r,"-panel"),o,(t={},(0,l.Z)(t,"".concat(r,"-panel-has-range"),pe&&pe[0]&&pe[1]),(0,l.Z)(t,"".concat(r,"-panel-has-range-hover"),me&&me[0]&&me[1]),(0,l.Z)(t,"".concat(r,"-panel-rtl"),"rtl"===j),t)),style:i,onKeyDown:qe,onBlur:function(e){ge.current&&ge.current.onBlur&&ge.current.onBlur(e)},onMouseDown:V,ref:ie},Ve,We||Ue||Ke?h.createElement("div",{className:"".concat(r,"-footer")},We,Ue,Ke):null))};var Pe=n(18481),ze={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};const Fe=function(e){var t,n=e.prefixCls,r=e.popupElement,o=e.popupStyle,i=e.visible,s=e.dropdownClassName,a=e.dropdownAlign,c=e.transitionName,u=e.getPopupContainer,d=e.children,p=e.range,m=e.popupPlacement,g=e.direction,v="".concat(n,"-dropdown");return h.createElement(Pe.Z,{showAction:[],hideAction:[],popupPlacement:void 0!==m?m:"rtl"===g?"bottomRight":"bottomLeft",builtinPlacements:ze,prefixCls:v,popupTransitionName:c,popup:r,popupAlign:a,popupVisible:i,popupClassName:f()(s,(t={},(0,l.Z)(t,"".concat(v,"-range"),p),(0,l.Z)(t,"".concat(v,"-rtl"),"rtl"===g),t)),popupStyle:o,getPopupContainer:u},d)};function Ie(e){var t=e.open,n=e.value,r=e.isClickOutside,o=e.triggerOpen,i=e.forwardKeyDown,s=e.onKeyDown,a=e.blurToCancel,l=e.onSubmit,c=e.onCancel,d=e.onFocus,f=e.onBlur,p=(0,h.useState)(!1),m=(0,u.Z)(p,2),g=m[0],y=m[1],w=(0,h.useState)(!1),b=(0,u.Z)(w,2),x=b[0],k=b[1],C=(0,h.useRef)(!1),S=(0,h.useRef)(!1),_=(0,h.useRef)(!1),M={onMouseDown:function(){y(!0),o(!0)},onKeyDown:function(e){if(s(e,(function(){_.current=!0})),!_.current){switch(e.which){case v.Z.ENTER:return t?!1!==l()&&y(!0):o(!0),void e.preventDefault();case v.Z.TAB:return void(g&&t&&!e.shiftKey?(y(!1),e.preventDefault()):!g&&t&&!i(e)&&e.shiftKey&&(y(!0),e.preventDefault()));case v.Z.ESC:return y(!0),void c()}t||[v.Z.SHIFT].includes(e.which)?g||i(e):o(!0)}},onFocus:function(e){y(!0),k(!0),d&&d(e)},onBlur:function(e){!C.current&&r(document.activeElement)?(a?setTimeout((function(){for(var e=document.activeElement;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;r(e)&&c()}),0):t&&(o(!1),S.current&&l()),k(!1),f&&f(e)):C.current=!1}};return(0,h.useEffect)((function(){S.current=!1}),[t]),(0,h.useEffect)((function(){S.current=!0}),[n]),(0,h.useEffect)((function(){return e=function(e){var n=function(e){var t,n=e.target;return e.composed&&n.shadowRoot&&(null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])||n}(e);if(t){var i=r(n);i?x&&!i||o(!1):(C.current=!0,requestAnimationFrame((function(){C.current=!1})))}},!z&&"undefined"!=typeof window&&window.addEventListener&&(z=function(e){(0,E.Z)(F).forEach((function(t){t(e)}))},window.addEventListener("mousedown",z)),F.add(e),function(){F.delete(e),0===F.size&&(window.removeEventListener("mousedown",z),z=null)};var e})),[M,{focused:x,typing:g}]}function Be(e){var t=e.valueTexts,n=e.onTextChange,r=h.useState(""),o=(0,u.Z)(r,2),i=o[0],s=o[1],a=h.useRef([]);function l(){s(a.current[0])}return a.current=t,h.useEffect((function(){t.every((function(e){return e!==i}))&&l()}),[t.join("||")]),[i,function(e){s(e),n(e)},l]}var Ze=n(96774),Ve=n.n(Ze);function $e(e,t){var n=t.formatList,r=t.generateConfig,o=t.locale;return(0,ne.Z)((function(){if(!e)return[[""],""];for(var t="",i=[],s=0;s<n.length;s+=1){var a=n[s],l=X(e,{generateConfig:r,locale:o,format:a});i.push(l),0===s&&(t=l)}return[i,t]}),[e,n],(function(e,t){return e[0]!==t[0]||!Ve()(e[1],t[1])}))}function Le(e,t){var n=t.formatList,r=t.generateConfig,o=t.locale,i=(0,h.useState)(null),s=(0,u.Z)(i,2),a=s[0],l=s[1],c=(0,h.useRef)(null);function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];cancelAnimationFrame(c.current),t?l(e):c.current=requestAnimationFrame((function(){l(e)}))}var f=$e(a,{formatList:n,generateConfig:r,locale:o}),p=(0,u.Z)(f,2)[1];function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d(null,e)}return(0,h.useEffect)((function(){m(!0)}),[e]),(0,h.useEffect)((function(){return function(){return cancelAnimationFrame(c.current)}}),[]),[p,function(e){d(e)},m]}function He(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,o=e.id,i=e.tabIndex,s=e.style,d=e.className,g=e.dropdownClassName,v=e.dropdownAlign,w=e.popupStyle,b=e.transitionName,x=e.generateConfig,k=e.locale,C=e.inputReadOnly,S=e.allowClear,_=e.autoFocus,M=e.showTime,E=e.picker,D=void 0===E?"date":E,N=e.format,O=e.use12Hours,A=e.value,T=e.defaultValue,z=e.open,F=e.defaultOpen,I=e.defaultOpenValue,Z=e.suffixIcon,V=e.clearIcon,$=e.disabled,L=e.disabledDate,H=e.placeholder,Y=e.getPopupContainer,j=e.pickerRef,q=e.panelRender,W=e.onChange,U=e.onOpenChange,J=e.onFocus,G=e.onBlur,ee=e.onMouseDown,te=e.onMouseUp,ne=e.onMouseEnter,re=e.onMouseLeave,oe=e.onContextMenu,ae=e.onClick,le=e.onKeyDown,ce=e.onSelect,ue=e.direction,he=e.autoComplete,de=void 0===he?"off":he,fe=e.inputRender,pe=h.useRef(null),me="date"===D&&!!M||"time"===D;var ge=ie(R(N,D,M,O)),ve=h.useRef(null),ye=h.useRef(null),we=h.useRef(null),be=(0,m.Z)(null,{value:A,defaultValue:T}),xe=(0,u.Z)(be,2),ke=xe[0],Ce=xe[1],Se=h.useState(ke),_e=(0,u.Z)(Se,2),Me=_e[0],Ee=_e[1],De=h.useRef(null),Ne=(0,m.Z)(!1,{value:z,defaultValue:F,postState:function(e){return!$&&e},onChange:function(e){U&&U(e),!e&&De.current&&De.current.onClose&&De.current.onClose()}}),Oe=(0,u.Z)(Ne,2),Ae=Oe[0],Te=Oe[1],Pe=$e(Me,{formatList:ge,generateConfig:x,locale:k}),ze=(0,u.Z)(Pe,2),Ze=ze[0],Ve=ze[1],He=Be({valueTexts:Ze,onTextChange:function(e){var t=Q(e,{locale:k,formatList:ge,generateConfig:x});!t||L&&L(t)||Ee(t)}}),Ye=(0,u.Z)(He,3),je=Ye[0],qe=Ye[1],We=Ye[2],Ue=function(e){Ee(e),Ce(e),W&&!K(x,ke,e)&&W(e,e?X(e,{generateConfig:x,locale:k,format:ge[0]}):"")},Ke=function(e){$&&e||Te(e)},Je=Ie({blurToCancel:me,open:Ae,value:je,triggerOpen:Ke,forwardKeyDown:function(e){return Ae&&De.current&&De.current.onKeyDown?De.current.onKeyDown(e):((0,p.ZP)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},isClickOutside:function(e){return!B([ve.current,ye.current,we.current],e)},onSubmit:function(){return!(!Me||L&&L(Me))&&(Ue(Me),Ke(!1),We(),!0)},onCancel:function(){Ke(!1),Ee(ke),We()},onKeyDown:function(e,t){null==le||le(e,t)},onFocus:J,onBlur:G}),Ge=(0,u.Z)(Je,2),Xe=Ge[0],Qe=Ge[1],et=Qe.focused,tt=Qe.typing;h.useEffect((function(){Ae||(Ee(ke),Ze.length&&""!==Ze[0]?Ve!==je&&We():qe(""))}),[Ae,Ze]),h.useEffect((function(){Ae||We()}),[D]),h.useEffect((function(){Ee(ke)}),[ke]),j&&(j.current={focus:function(){pe.current&&pe.current.focus()},blur:function(){pe.current&&pe.current.blur()}});var nt=Le(je,{formatList:ge,generateConfig:x,locale:k}),rt=(0,u.Z)(nt,3),ot=rt[0],it=rt[1],st=rt[2],at=(0,c.Z)((0,c.Z)({},e),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),lt=h.createElement(Re,(0,a.Z)({},at,{generateConfig:x,className:f()((0,l.Z)({},"".concat(r,"-panel-focused"),!tt)),value:Me,locale:k,tabIndex:-1,onSelect:function(e){null==ce||ce(e),Ee(e)},direction:ue,onPanelChange:function(t,n){var r=e.onPanelChange;st(!0),null==r||r(t,n)}}));q&&(lt=q(lt));var ct,ut,ht=h.createElement("div",{className:"".concat(r,"-panel-container"),onMouseDown:function(e){e.preventDefault()}},lt);Z&&(ct=h.createElement("span",{className:"".concat(r,"-suffix")},Z)),S&&ke&&!$&&(ut=h.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation(),Ue(null),Ke(!1)},className:"".concat(r,"-clear"),role:"button"},V||h.createElement("span",{className:"".concat(r,"-clear-btn")})));var dt=(0,c.Z)((0,c.Z)((0,c.Z)({id:o,tabIndex:i,disabled:$,readOnly:C||"function"==typeof ge[0]||!tt,value:ot||je,onChange:function(e){qe(e.target.value)},autoFocus:_,placeholder:H,ref:pe,title:je},Xe),{},{size:P(D,ge[0],x)},se(e)),{},{autoComplete:de}),ft=fe?fe(dt):h.createElement("input",dt);var pt="rtl"===ue?"bottomRight":"bottomLeft";return h.createElement(y.Provider,{value:{operationRef:De,hideHeader:"time"===D,panelRef:ve,onSelect:function(e,t){("submit"===t||"key"!==t&&!me)&&(Ue(e),Ke(!1))},open:Ae,defaultOpenValue:I,onDateMouseEnter:it,onDateMouseLeave:st}},h.createElement(Fe,{visible:Ae,popupElement:ht,popupStyle:w,prefixCls:r,dropdownClassName:g,dropdownAlign:v,getPopupContainer:Y,transitionName:b,popupPlacement:pt,direction:ue},h.createElement("div",{ref:we,className:f()(r,d,(t={},(0,l.Z)(t,"".concat(r,"-disabled"),$),(0,l.Z)(t,"".concat(r,"-focused"),et),(0,l.Z)(t,"".concat(r,"-rtl"),"rtl"===ue),t)),style:s,onMouseDown:ee,onMouseUp:function(){te&&te.apply(void 0,arguments),pe.current&&(pe.current.focus(),Ke(!0))},onMouseEnter:ne,onMouseLeave:re,onContextMenu:oe,onClick:ae},h.createElement("div",{className:f()("".concat(r,"-input"),(0,l.Z)({},"".concat(r,"-input-placeholder"),!!ot)),ref:ye},ft,ct,ut))))}const Ye=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).pickerRef=h.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,o.Z)(n,[{key:"render",value:function(){return h.createElement(He,(0,a.Z)({},this.props,{pickerRef:this.pickerRef}))}}]),n}(h.Component);function je(e,t,n,r){var o=G(e,n,r,1);function i(n){return n(e,t)?"same":n(o,t)?"closing":"far"}switch(n){case"year":return i((function(e,t){return function(e,t,n){var r=L(t,n);return"boolean"==typeof r?r:Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)}(r,e,t)}));case"quarter":case"month":return i((function(e,t){return H(r,e,t)}));default:return i((function(e,t){return q(r,e,t)}))}}function qe(e){var t=e.values,n=e.picker,r=e.defaultDates,o=e.generateConfig,i=h.useState((function(){return[ae(r,0),ae(r,1)]})),s=(0,u.Z)(i,2),a=s[0],l=s[1],c=h.useState(null),d=(0,u.Z)(c,2),f=d[0],p=d[1],m=ae(t,0),g=ae(t,1);return[function(e){return a[e]?a[e]:ae(f,e)||function(e,t,n,r){var o=ae(e,0),i=ae(e,1);if(0===t)return o;if(o&&i)switch(je(o,i,n,r)){case"same":case"closing":return o;default:return G(i,n,r,-1)}return o}(t,e,n,o)||m||g||o.getNow()},function(e,n){if(e){var r=le(f,e,n);l(le(a,null,n)||[null,null]);var o=(n+1)%2;ae(t,o)||(r=le(r,e,o)),p(r)}else(m||g)&&p(null)}]}function We(e,t){return e&&e[0]&&e[1]&&t.isAfter(e[0],e[1])?[e[1],e[0]]:e}function Ue(e,t,n,r){return!!e||(!(!r||!r[t])||!!n[(t+1)%2])}function Ke(e){var t,n,r,o=e.prefixCls,i=void 0===o?"rc-picker":o,s=e.id,d=e.style,v=e.className,w=e.popupStyle,b=e.dropdownClassName,x=e.transitionName,k=e.dropdownAlign,C=e.getPopupContainer,S=e.generateConfig,_=e.locale,M=e.placeholder,E=e.autoFocus,D=e.disabled,N=e.format,O=e.picker,A=void 0===O?"date":O,T=e.showTime,z=e.use12Hours,F=e.separator,I=void 0===F?"~":F,Z=e.value,V=e.defaultValue,$=e.defaultPickerValue,L=e.open,H=e.defaultOpen,q=e.disabledDate,J=e.disabledTime,ee=e.dateRender,te=e.panelRender,ne=e.ranges,re=e.allowEmpty,oe=e.allowClear,ce=e.suffixIcon,ue=e.clearIcon,he=e.pickerRef,de=e.inputReadOnly,pe=e.mode,me=e.renderExtraFooter,ge=e.onChange,ve=e.onOpenChange,ye=e.onPanelChange,we=e.onCalendarChange,be=e.onFocus,xe=e.onBlur,ke=e.onMouseDown,Ce=e.onMouseUp,Se=e.onMouseEnter,_e=e.onMouseLeave,Me=e.onClick,Ee=e.onOk,De=e.onKeyDown,Ne=e.components,Oe=e.order,Pe=e.direction,ze=e.activePickerIndex,Ze=e.autoComplete,Ve=void 0===Ze?"off":Ze,He="date"===A&&!!T||"time"===A,Ye=(0,h.useRef)({}),je=(0,h.useRef)(null),Ke=(0,h.useRef)(null),Je=(0,h.useRef)(null),Ge=(0,h.useRef)(null),Xe=(0,h.useRef)(null),Qe=(0,h.useRef)(null),et=(0,h.useRef)(null),tt=(0,h.useRef)(null);var nt=ie(R(N,A,T,z)),rt=(0,m.Z)(0,{value:ze}),ot=(0,u.Z)(rt,2),it=ot[0],st=ot[1],at=(0,h.useRef)(null),lt=h.useMemo((function(){return Array.isArray(D)?D:[D||!1,D||!1]}),[D]),ct=(0,m.Z)(null,{value:Z,defaultValue:V,postState:function(e){return"time"!==A||Oe?We(e,S):e}}),ut=(0,u.Z)(ct,2),ht=ut[0],dt=ut[1],ft=qe({values:ht,picker:A,defaultDates:$,generateConfig:S}),pt=(0,u.Z)(ft,2),mt=pt[0],gt=pt[1],vt=(0,m.Z)(ht,{postState:function(e){var t=e;if(lt[0]&&lt[1])return t;for(var n=0;n<2;n+=1)!lt[n]||ae(t,n)||ae(re,n)||(t=le(t,S.getNow(),n));return t}}),yt=(0,u.Z)(vt,2),wt=yt[0],bt=yt[1],xt=(0,m.Z)([A,A],{value:pe}),kt=(0,u.Z)(xt,2),Ct=kt[0],St=kt[1];(0,h.useEffect)((function(){St([A,A])}),[A]);var _t=function(e,t){St(e),ye&&ye(t,e)},Mt=function(e,t,n){var r=e.picker,o=e.locale,i=e.selectedValue,s=e.disabledDate,a=e.disabled,l=e.generateConfig,c=ae(i,0),u=ae(i,1);function d(e){return l.locale.getWeekFirstDate(o.locale,e)}function f(e){return 100*l.getYear(e)+l.getMonth(e)}function p(e){return 10*l.getYear(e)+Y(l,e)}return[h.useCallback((function(e){if(s&&s(e))return!0;if(a[1]&&u)return!W(l,e,u)&&l.isAfter(e,u);if(t&&u)switch(r){case"quarter":return p(e)>p(u);case"month":return f(e)>f(u);case"week":return d(e)>d(u);default:return!W(l,e,u)&&l.isAfter(e,u)}return!1}),[s,a[1],u,t]),h.useCallback((function(e){if(s&&s(e))return!0;if(a[0]&&c)return!W(l,e,u)&&l.isAfter(c,e);if(n&&c)switch(r){case"quarter":return p(e)<p(c);case"month":return f(e)<f(c);case"week":return d(e)<d(c);default:return!W(l,e,c)&&l.isAfter(c,e)}return!1}),[s,a[0],c,n])]}({picker:A,selectedValue:wt,locale:_,disabled:lt,disabledDate:q,generateConfig:S},Ye.current[1],Ye.current[0]),Et=(0,u.Z)(Mt,2),Dt=Et[0],Nt=Et[1],Ot=(0,m.Z)(!1,{value:L,defaultValue:H,postState:function(e){return!lt[it]&&e},onChange:function(e){ve&&ve(e),!e&&at.current&&at.current.onClose&&at.current.onClose()}}),At=(0,u.Z)(Ot,2),Tt=At[0],Rt=At[1],Pt=Tt&&0===it,zt=Tt&&1===it,Ft=(0,h.useState)(0),It=(0,u.Z)(Ft,2),Bt=It[0],Zt=It[1];(0,h.useEffect)((function(){!Tt&&je.current&&Zt(je.current.offsetWidth)}),[Tt]);var Vt=h.useRef();function $t(e,t){if(e)clearTimeout(Vt.current),Ye.current[t]=!0,st(t),Rt(e),Tt||gt(null,t);else if(it===t){Rt(e);var n=Ye.current;Vt.current=setTimeout((function(){n===Ye.current&&(Ye.current={})}))}}function Lt(e){$t(!0,e),setTimeout((function(){var t=[Qe,et][e];t.current&&t.current.focus()}),0)}function Ht(e,t){var n=e,r=ae(n,0),o=ae(n,1);r&&o&&S.isAfter(r,o)&&("week"===A&&!U(S,_.locale,r,o)||"quarter"===A&&!j(S,r,o)||"week"!==A&&"quarter"!==A&&"time"!==A&&!W(S,r,o)?(0===t?(n=[r,null],o=null):(r=null,n=[null,o]),Ye.current=(0,l.Z)({},t,!0)):"time"===A&&!1===Oe||(n=We(n,S))),bt(n);var i=n&&n[0]?X(n[0],{generateConfig:S,locale:_,format:nt[0]}):"",s=n&&n[1]?X(n[1],{generateConfig:S,locale:_,format:nt[0]}):"";we&&we(n,[i,s],{range:0===t?"start":"end"});var a=Ue(r,0,lt,re),c=Ue(o,1,lt,re);(null===n||a&&c)&&(dt(n),!ge||K(S,ae(ht,0),r)&&K(S,ae(ht,1),o)||ge(n,[i,s]));var u=null;0!==t||lt[1]?1!==t||lt[0]||(u=0):u=1,null===u||u===it||Ye.current[u]&&ae(n,u)||!ae(n,t)?$t(!1,t):Lt(u)}var Yt=function(e){return Tt&&at.current&&at.current.onKeyDown?at.current.onKeyDown(e):((0,p.ZP)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},jt={formatList:nt,generateConfig:S,locale:_},qt=$e(ae(wt,0),jt),Wt=(0,u.Z)(qt,2),Ut=Wt[0],Kt=Wt[1],Jt=$e(ae(wt,1),jt),Gt=(0,u.Z)(Jt,2),Xt=Gt[0],Qt=Gt[1],en=function(e,t){var n=Q(e,{locale:_,formatList:nt,generateConfig:S});n&&!(0===t?Dt:Nt)(n)&&(bt(le(wt,n,t)),gt(n,t))},tn=Be({valueTexts:Ut,onTextChange:function(e){return en(e,0)}}),nn=(0,u.Z)(tn,3),rn=nn[0],on=nn[1],sn=nn[2],an=Be({valueTexts:Xt,onTextChange:function(e){return en(e,1)}}),ln=(0,u.Z)(an,3),cn=ln[0],un=ln[1],hn=ln[2],dn=(0,h.useState)(null),fn=(0,u.Z)(dn,2),pn=fn[0],mn=fn[1],gn=(0,h.useState)(null),vn=(0,u.Z)(gn,2),yn=vn[0],wn=vn[1],bn=Le(rn,{formatList:nt,generateConfig:S,locale:_}),xn=(0,u.Z)(bn,3),kn=xn[0],Cn=xn[1],Sn=xn[2],_n=Le(cn,{formatList:nt,generateConfig:S,locale:_}),Mn=(0,u.Z)(_n,3),En=Mn[0],Dn=Mn[1],Nn=Mn[2],On=function(e,t){return{blurToCancel:He,forwardKeyDown:Yt,onBlur:xe,isClickOutside:function(e){return!B([Ke.current,Je.current,Ge.current,je.current],e)},onFocus:function(t){st(e),be&&be(t)},triggerOpen:function(t){$t(t,e)},onSubmit:function(){if(!wt||q&&q(wt[e]))return!1;Ht(wt,e),t()},onCancel:function(){$t(!1,e),bt(ht),t()}}},An=Ie((0,c.Z)((0,c.Z)({},On(0,sn)),{},{open:Pt,value:rn,onKeyDown:function(e,t){null==De||De(e,t)}})),Tn=(0,u.Z)(An,2),Rn=Tn[0],Pn=Tn[1],zn=Pn.focused,Fn=Pn.typing,In=Ie((0,c.Z)((0,c.Z)({},On(1,hn)),{},{open:zt,value:cn,onKeyDown:function(e,t){null==De||De(e,t)}})),Bn=(0,u.Z)(In,2),Zn=Bn[0],Vn=Bn[1],$n=Vn.focused,Ln=Vn.typing,Hn=ht&&ht[0]?X(ht[0],{locale:_,format:"YYYYMMDDHHmmss",generateConfig:S}):"",Yn=ht&&ht[1]?X(ht[1],{locale:_,format:"YYYYMMDDHHmmss",generateConfig:S}):"";(0,h.useEffect)((function(){Tt||(bt(ht),Ut.length&&""!==Ut[0]?Kt!==rn&&sn():on(""),Xt.length&&""!==Xt[0]?Qt!==cn&&hn():un(""))}),[Tt,Ut,Xt]),(0,h.useEffect)((function(){bt(ht)}),[Hn,Yn]),he&&(he.current={focus:function(){Qe.current&&Qe.current.focus()},blur:function(){Qe.current&&Qe.current.blur(),et.current&&et.current.blur()}});var jn=Object.keys(ne||{}).map((function(e){var t=ne[e],n="function"==typeof t?t():t;return{label:e,onClick:function(){Ht(n,null),$t(!1,it)},onMouseEnter:function(){mn(n)},onMouseLeave:function(){mn(null)}}}));function qn(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;Tt&&yn&&yn[0]&&yn[1]&&S.isAfter(yn[1],yn[0])&&(r=yn);var o=T;if(T&&"object"===(0,g.Z)(T)&&T.defaultValue){var s=T.defaultValue;o=(0,c.Z)((0,c.Z)({},T),{},{defaultValue:ae(s,it)||void 0})}var u=null;return ee&&(u=function(e,t){return ee(e,t,{range:it?"end":"start"})}),h.createElement(fe.Provider,{value:{inRange:!0,panelPosition:t,rangedValue:pn||wt,hoverRangedValue:r}},h.createElement(Re,(0,a.Z)({},e,n,{dateRender:u,showTime:o,mode:Ct[it],generateConfig:S,style:void 0,direction:Pe,disabledDate:0===it?Dt:Nt,disabledTime:function(e){return!!J&&J(e,0===it?"start":"end")},className:f()((0,l.Z)({},"".concat(i,"-panel-focused"),0===it?!Fn:!Ln)),value:ae(wt,it),locale:_,tabIndex:-1,onPanelChange:function(e,n){0===it&&Sn(!0),1===it&&Nn(!0),_t(le(Ct,n,it),le(wt,e,it));var r=e;"right"===t&&Ct[it]===n&&(r=G(r,n,S,-1)),gt(r,it)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:ae(wt,0===it?1:0)})))}var Wn=0,Un=0;it&&Je.current&&Xe.current&&Ke.current&&(Wn=Je.current.offsetWidth+Xe.current.offsetWidth,Ke.current.offsetWidth&&tt.current.offsetWidth&&Wn>Ke.current.offsetWidth-tt.current.offsetWidth-("rtl"===Pe||tt.current.offsetLeft>Wn?0:tt.current.offsetLeft)&&(Un=Wn));var Kn="rtl"===Pe?{right:Wn}:{left:Wn};var Jn,Gn,Xn=h.createElement("div",{className:f()("".concat(i,"-range-wrapper"),"".concat(i,"-").concat(A,"-range-wrapper")),style:{minWidth:Bt}},h.createElement("div",{ref:tt,className:"".concat(i,"-range-arrow"),style:Kn}),function(){var e,t=Ae(i,Ct[it],me),n=Te({prefixCls:i,components:Ne,needConfirmButton:He,okDisabled:!ae(wt,it)||q&&q(wt[it]),locale:_,rangeList:jn,onOk:function(){ae(wt,it)&&(Ht(wt,it),Ee&&Ee(wt))}});if("time"===A||T)e=qn();else{var r=mt(it),o=G(r,A,S),s=Ct[it]===A,a=qn(!!s&&"left",{pickerValue:r,onPickerValueChange:function(e){gt(e,it)}}),l=qn("right",{pickerValue:o,onPickerValueChange:function(e){gt(G(e,A,S,-1),it)}});e="rtl"===Pe?h.createElement(h.Fragment,null,l,s&&a):h.createElement(h.Fragment,null,a,s&&l)}var c=h.createElement(h.Fragment,null,h.createElement("div",{className:"".concat(i,"-panels")},e),(t||n)&&h.createElement("div",{className:"".concat(i,"-footer")},t,n));return te&&(c=te(c)),h.createElement("div",{className:"".concat(i,"-panel-container"),style:{marginLeft:Un},ref:Ke,onMouseDown:function(e){e.preventDefault()}},c)}());ce&&(Jn=h.createElement("span",{className:"".concat(i,"-suffix")},ce)),oe&&(ae(ht,0)&&!lt[0]||ae(ht,1)&&!lt[1])&&(Gn=h.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation();var t=ht;lt[0]||(t=le(t,null,0)),lt[1]||(t=le(t,null,1)),Ht(t,null),$t(!1,it)},className:"".concat(i,"-clear")},ue||h.createElement("span",{className:"".concat(i,"-clear-btn")})));var Qn={size:P(A,nt[0],S)},er=0,tr=0;Je.current&&Ge.current&&Xe.current&&(0===it?tr=Je.current.offsetWidth:(er=Wn,tr=Ge.current.offsetWidth));var nr="rtl"===Pe?{right:er}:{left:er};return h.createElement(y.Provider,{value:{operationRef:at,hideHeader:"time"===A,onDateMouseEnter:function(e){wn(le(wt,e,it)),0===it?Cn(e):Dn(e)},onDateMouseLeave:function(){wn(le(wt,null,it)),0===it?Sn():Nn()},hideRanges:!0,onSelect:function(e,t){var n=le(wt,e,it);"submit"===t||"key"!==t&&!He?(Ht(n,it),0===it?Sn():Nn()):bt(n)},open:Tt}},h.createElement(Fe,{visible:Tt,popupElement:Xn,popupStyle:w,prefixCls:i,dropdownClassName:b,dropdownAlign:k,getPopupContainer:C,transitionName:x,range:!0,direction:Pe},h.createElement("div",(0,a.Z)({ref:je,className:f()(i,"".concat(i,"-range"),v,(t={},(0,l.Z)(t,"".concat(i,"-disabled"),lt[0]&&lt[1]),(0,l.Z)(t,"".concat(i,"-focused"),0===it?zn:$n),(0,l.Z)(t,"".concat(i,"-rtl"),"rtl"===Pe),t)),style:d,onClick:function(e){Me&&Me(e),Tt||Qe.current.contains(e.target)||et.current.contains(e.target)||(lt[0]?lt[1]||Lt(1):Lt(0))},onMouseEnter:Se,onMouseLeave:_e,onMouseDown:function(e){ke&&ke(e),!Tt||!zn&&!$n||Qe.current.contains(e.target)||et.current.contains(e.target)||e.preventDefault()},onMouseUp:Ce},se(e)),h.createElement("div",{className:f()("".concat(i,"-input"),(n={},(0,l.Z)(n,"".concat(i,"-input-active"),0===it),(0,l.Z)(n,"".concat(i,"-input-placeholder"),!!kn),n)),ref:Je},h.createElement("input",(0,a.Z)({id:s,disabled:lt[0],readOnly:de||"function"==typeof nt[0]||!Fn,value:kn||rn,onChange:function(e){on(e.target.value)},autoFocus:E,placeholder:ae(M,0)||"",ref:Qe},Rn,Qn,{autoComplete:Ve}))),h.createElement("div",{className:"".concat(i,"-range-separator"),ref:Xe},I),h.createElement("div",{className:f()("".concat(i,"-input"),(r={},(0,l.Z)(r,"".concat(i,"-input-active"),1===it),(0,l.Z)(r,"".concat(i,"-input-placeholder"),!!En),r)),ref:Ge},h.createElement("input",(0,a.Z)({disabled:lt[1],readOnly:de||"function"==typeof nt[0]||!Ln,value:En||cn,onChange:function(e){un(e.target.value)},placeholder:ae(M,1)||"",ref:et},Zn,Qn,{autoComplete:Ve}))),h.createElement("div",{className:"".concat(i,"-active-bar"),style:(0,c.Z)((0,c.Z)({},nr),{},{width:tr,position:"absolute"})}),Jn,Gn)))}const Je=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).pickerRef=h.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,o.Z)(n,[{key:"render",value:function(){return h.createElement(Ke,(0,a.Z)({},this.props,{pickerRef:this.pickerRef}))}}]),n}(h.Component),Ge=Ye},98525:e=>{
/*!
 * TOAST UI Color Picker
 * @version 2.2.8
 * @author NHN Cloud FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */
var t;window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=33)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,s=Object.prototype.hasOwnProperty;for(o=1,i=arguments.length;o<i;o+=1)for(r in n=arguments[o])s.call(n,r)&&(e[r]=n[r]);return e}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,n){"use strict";var r=n(1),o=n(6),i=n(7);e.exports=function(e,t,n){r(e)?o(e,t,n):i(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";var r=n(22),o=n(2),i=n(6),s=n(7),a=n(37),l=0,c={getLength:function(e){var t=0;return s(e,(function(){t+=1})),t},map:function(e,t,n){var r=[];return o(e,(function(){r.push(t.apply(n||null,arguments))})),r},filter:function(e,t,n){var r=[];return i(e,(function(e){t.apply(n||null,arguments)&&r.push(e)})),r},generateId:function(){return l+=1},isOldBrowser:r.msie&&r.version<9,sendHostName:function(){a("color-picker","UA-129987462-1")}};e.exports=c},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){var o,i;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(i=t.length,o=n;n>=0&&o<i;o+=1)if(t[o]===e)return o;return-1}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=0,o=e.length;for(n=n||null;r<o&&!1!==t.call(n,e[r],r,e);r+=1);}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},function(e,t,n){"use strict";var r=n(39),o=n(13),i=n(41),s=n(3),a=n(9),l=n(19),c=n(4);function u(e,t){var n=c.generateId();e=e||{},s(t)&&(t=a.appendHTMLElement("div")),r(t,"tui-view-"+n),this.id=n,this.container=t,this.childs=new l((function(e){return e.id})),this.parent=null}u.prototype.addChild=function(e,t){t&&t.call(e,this),e.parent=this,this.childs.add(e)},u.prototype.removeChild=function(e,t){var n=i(e)?this.childs.items[e]:e;t&&t.call(n,this),this.childs.remove(n.id)},u.prototype.render=function(){this.childs.each((function(e){e.render()}))},u.prototype.recursive=function(e,t){o(e)&&(t||e(this),this.childs.each((function(t){t.recursive(e)})))},u.prototype.resize=function(){for(var e=Array.prototype.slice.call(arguments),t=this.parent;t;)o(t._onResize)&&t._onResize.apply(t,e),t=t.parent},u.prototype._beforeDestroy=function(){},u.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},u.prototype.destroy=function(e){this.childs&&(this.childs.each((function(e){e.destroy(!0),e._destroy()})),this.childs.clear()),e||this._destroy()},u.prototype.getViewBound=function(){var e=this.container.getBoundingClientRect();return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},e.exports=u},function(e,t,n){"use strict";var r={appendHTMLElement:function(e,t,n){var r=document.createElement(e);return r.className=n||"",t?t.appendChild(r):document.body.appendChild(r),r}};e.exports=r},function(e,t,n){"use strict";var r=n(0),o=n(20),i=n(11),s=n(21),a=n(1),l=n(13),c=n(2),u=/\s+/g;function h(){this.events=null,this.contexts=null}h.mixin=function(e){r(e.prototype,h.prototype)},h.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},h.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},h.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},h.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},h.prototype._memorizeContext=function(e){var t,n;o(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},h.prototype._forgetContext=function(e){var t,n;o(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},h.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},h.prototype.on=function(e,t,n){var r=this;i(e)?(e=e.split(u),c(e,(function(e){r._bindEvent(e,t,n)}))):s(e)&&(n=t,c(e,(function(e,t){r.on(t,e,n)})))},h.prototype.once=function(e,t,n){var r=this;if(s(e))return n=t,void c(e,(function(e,t){r.once(t,e,n)}));this.on(e,(function o(){t.apply(n,arguments),r.off(e,o,n)}),n)},h.prototype._spliceMatches=function(e,t){var n,r=0;if(a(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},h.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},h.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},h.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var o=e===r.handler,i=t===r.context,s=o&&i;return s&&n._forgetContext(r.context),s}},h.prototype._offByEventName=function(e,t){var n=this,r=l(t),o=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);r?n._spliceMatches(t,o):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},h.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},h.prototype._offByObject=function(e,t){var n,r=this;this._indexOfContext(e)<0?c(e,(function(e,t){r.off(t,e)})):i(t)?(n=this._matchContext(e),r._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)})))},h.prototype.off=function(e,t){i(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):s(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},h.prototype.fire=function(e){this.invoke.apply(this,arguments)},h.prototype.invoke=function(e){var t,n,r,o;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;t[r];){if(!1===(o=t[r]).handler.apply(o.context,n))return!1;r+=1}return!0},h.prototype.hasListener=function(e){return this.getListenerLength(e)>0},h.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=h},function(e,t,n){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},function(e,t,n){"use strict";var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,o={leadingZero:function(e,t){var n="",r=0;if((e+"").length>t)return e+"";for(;r<t-1;r+=1)n+="0";return(n+e).slice(-1*t)},isValidRGB:function(e){return r.test(e)},
// @license RGB <-> HSV conversion utilities based off of http://www.cs.rit.edu/~ncs/color/t_convert.html
hexToRGB:function(e){return!!o.isValidRGB(e)&&(e=e.substring(1),[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)])},rgbToHEX:function(e,t,n){var r="#"+o.leadingZero(e.toString(16),2)+o.leadingZero(t.toString(16),2)+o.leadingZero(n.toString(16),2);return!!o.isValidRGB(r)&&r},rgbToHSV:function(e,t,n){var r,o,i,s,a,l;if(e/=255,t/=255,n/=255,a=r=Math.max(e,t,n),l=r-(o=Math.min(e,t,n)),s=0===r?0:l/r,r===o)i=0;else{switch(r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return[Math.round(360*i),Math.round(100*s),Math.round(100*a)]},hsvToRGB:function(e,t,n){var r,o,i,s,a,l,c,u;if(e=Math.max(0,Math.min(360,e)),t=Math.max(0,Math.min(100,t)),n=Math.max(0,Math.min(100,n)),n/=100,0==(t/=100))return r=o=i=n,[Math.round(255*r),Math.round(255*o),Math.round(255*i)];switch(l=n*(1-t),c=n*(1-t*(a=(e/=60)-(s=Math.floor(e)))),u=n*(1-t*(1-a)),s){case 0:r=n,o=u,i=l;break;case 1:r=c,o=n,i=l;break;case 2:r=l,o=n,i=u;break;case 3:r=l,o=c,i=n;break;case 4:r=u,o=l,i=n;break;default:r=n,o=l,i=c}return[Math.round(255*r),Math.round(255*o),Math.round(255*i)]}};e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,n){"use strict";var r=n(11),o=n(2),i=n(26);function s(e,t,n,r){function s(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,s):"attachEvent"in e&&e.attachEvent("on"+t,s),function(e,t,n,r){var s=i(e,t),a=!1;o(s,(function(e){return e.handler!==n||(a=!0,!1)})),a||s.push({handler:n,wrappedHandler:r})}(e,t,n,s)}e.exports=function(e,t,n,i){r(t)?o(t.split(/\s+/g),(function(t){s(e,t,n,i)})):o(t,(function(t,r){s(e,r,t,n)}))}},function(e,t,n){"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},function(e,t,n){"use strict";e.exports=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}},function(e,t,n){"use strict";var r=n(11),o=n(2),i=n(26);function s(e,t,n){var r,s=i(e,t);n?(o(s,(function(o,i){return n!==o.handler||(a(e,t,o.wrappedHandler),r=i,!1)})),s.splice(r,1)):(o(s,(function(n){a(e,t,n.wrappedHandler)})),s.splice(0,s.length))}function a(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){r(t)?o(t.split(/\s+/g),(function(t){s(e,t,n)})):o(t,(function(t,n){s(e,n,t)}))}},function(e,t,n){"use strict";var r=n(50);e.exports=function(e,t){var n=r(t.prototype);n.constructor=e,e.prototype=n}},function(e,t,n){"use strict";var r=n(6),o=n(7),i=n(0),s=n(1),a=n(20),l=n(13),c=n(21),u=n(4),h=Array.prototype.slice;function d(e){this.items={},this.length=0,l(e)&&(this.getItemID=e)}d.and=function(e){var t;return e=h.call(arguments),t=e.length,function(n){for(var r=0;r<t;r+=1)if(!e[r].call(null,n))return!1;return!0}},d.or=function(e){var t;return e=h.call(arguments),t=e.length,function(n){for(var r=1,o=e[0].call(null,n);r<t;r+=1)o=o||e[r].call(null,n);return o}},d.merge=function(e){var t={},n=new d(e.getItemID);return r(arguments,(function(e){i(t,e.items)})),n.items=t,n.length=u.getLength(n.items),n},d.prototype.getItemID=function(e){return e._id+""},d.prototype.add=function(e){var t,n;arguments.length>1?r(h.call(arguments),(function(e){this.add(e)}),this):(t=this.getItemID(e),(n=this.items)[t]||(this.length+=1),n[t]=e)},d.prototype.remove=function(e){var t,n,r=[];return this.length?arguments.length>1?(r=u.map(h.call(arguments),(function(e){return this.remove(e)}),this),r):(t=this.items,c(e)&&(e=this.getItemID(e)),t[e]?(this.length-=1,n=t[e],delete t[e],n):r):r},d.prototype.clear=function(){this.items={},this.length=0},d.prototype.has=function(e){var t,n;return!!this.length&&(t=l(e),n=!1,t?this.each((function(t){return!0!==e(t)||(n=!0,!1)})):(e=c(e)?this.getItemID(e):e,n=a(this.items[e])),n)},d.prototype.doWhenHas=function(e,t,n){var r=this.items[e];a(r)&&t.call(n||this,r)},d.prototype.find=function(e){var t=new d;return this.hasOwnProperty("getItemID")&&(t.getItemID=this.getItemID),this.each((function(n){!0===e(n)&&t.add(n)})),t},d.prototype.groupBy=function(e,t){var n,o,i={},a=l(e),c=this.getItemID;if(s(e)){if(r(e,(function(e){i[e+""]=new d(c)})),!t)return i;e=t,a=!0}return this.each((function(t){a?o=e(t):(o=t[e],l(o)&&(o=o.apply(t))),(n=i[o])||(n=i[o]=new d(c)),n.add(t)})),i},d.prototype.single=function(){var e;return this.each((function(t){return e=t,!1}),this),e},d.prototype.sort=function(e){var t=[];return this.each((function(e){t.push(e)})),l(e)&&(t=t.sort(e)),t},d.prototype.each=function(e,t){o(this.items,e,t||this)},d.prototype.toArray=function(){return this.length?u.map(this.items,(function(e){return e})):[]},e.exports=d},function(e,t,n){"use strict";var r=n(3),o=n(36);e.exports=function(e){return!r(e)&&!o(e)}},function(e,t,n){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,n){"use strict";var r,o,i,s,a,l,c,u,h,d,f={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};"undefined"!=typeof window&&window.navigator&&(i=window.navigator,s=i.appName.replace(/\s/g,"_"),a=i.userAgent,l=/MSIE\s([0-9]+[.0-9]*)/,c=/Trident.*rv:11\./,u=/Edge\/(\d+)\./,h={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},(d={Microsoft_Internet_Explorer:function(){var e=a.match(l);e?(f.msie=!0,f.version=parseFloat(e[1])):f.others=!0},Netscape:function(){var e=!1;if(c.exec(a))f.msie=!0,f.version=11,e=!0;else if(u.exec(a))f.edge=!0,f.version=a.match(u)[1],e=!0;else for(r in h)if(h.hasOwnProperty(r)&&(o=a.match(h[r]))&&o.length>1){f[r]=e=!0,f.version=parseFloat(o[1]||0);break}e||(f.others=!0)}})[s]&&d[s]()),e.exports=f},function(e,t,n){"use strict";var r=n(3);e.exports=function(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){"use strict";(function(t){var r=n(10),o=n(42),i=n(44),s=n(47),a=n(28),l=n(17),c=n(14),u=n(15),h=n(0);function d(e,t){c(t,"mousedown",this._onMouseDown,this),this.options=h({distance:10},e),this.container=t,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}d.prototype.destroy=function(){l(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},d.prototype._toggleDragEvent=function(e){var n=this.container;e?(o(n),c(window,"dragstart",u),c(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(i(n),l(window,"dragstart",u),l(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},d.prototype._getEventData=function(e){return{target:a(e),originEvent:e}},d.prototype._onMouseDown=function(e){0===s(e)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(e),this._toggleDragEvent(!0))},d.prototype._onMouseMove=function(e){var t=this.options.distance;u(e),this._isMoved=!0,this._distance<t?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(e)):this._toggleDragEvent(!1)},d.prototype._onMouseUp=function(e){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(e));this.fire("click",this._getEventData(e))},r.mixin(d),e.exports=d}).call(this,n(25))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r="_feEventKey";e.exports=function(e,t){var n,o=e[r];return o||(o=e[r]={}),(n=o[t])||(n=o[t]=[]),n}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=document.documentElement.style;for(t=0,n=e.length;t<n;t+=1)if(e[t]in r)return e[t];return!1}},function(e,t,n){"use strict";e.exports=function(e){return e.target||e.srcElement}},function(e,t,n){"use strict";var r=n(10),o=n(28),i=n(17),s=n(14),a=n(30),l=n(0),c=n(18),u=n(9),h=n(12),d=n(8),f=n(51);function p(e,t){this.options=l({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},e),t=u.appendHTMLElement("div",t,this.options.cssPrefix+"palette-container"),d.call(this,e,t)}c(p,d),p.prototype._onClick=function(e){var t=this.options,n=o(e),r={};if(a(n,t.cssPrefix+"palette-button"))return r.color=n.value,void this.fire("_selectColor",r);a(n,t.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},p.prototype._onChange=function(e){var t=this.options,n=o(e),r={};a(n,t.cssPrefix+"palette-hex")&&(r.color=n.value,this.fire("_selectColor",r))},p.prototype._beforeDestroy=function(){this._toggleEvent(!1)},p.prototype._toggleEvent=function(e){var t,n=this.options,r=this.container,o=e?s:i;o(r,"click",this._onClick,this),(t=r.querySelector("."+n.cssPrefix+"palette-hex",r))&&o(t,"change",this._onChange,this)},p.prototype.render=function(e){var t,n=this.options;this._toggleEvent(!1),t=f({cssPrefix:n.cssPrefix,preset:n.preset,detailTxt:n.detailTxt,color:e,isValidRGB:h.isValidRGB,getItemClass:function(e){return e?"":" "+n.cssPrefix+"color-transparent"},isSelected:function(t){return t===e?" "+n.cssPrefix+"selected":""}}),this.container.innerHTML=t,this._toggleEvent(!0)},r.mixin(p),e.exports=p},function(e,t,n){"use strict";var r=n(5),o=n(23);e.exports=function(e,t){var n;return e.classList?e.classList.contains(t):(n=o(e).split(/\s+/),r(t,n)>-1)}},function(e,t,n){"use strict";var r=n(10),o=n(53),i=n(54),s=n(30),a=n(0),l=n(18),c=n(9),u=n(32),h=n(12),d=n(8),f=n(24),p=n(57),m=359.99;function g(e,t){(t=c.appendHTMLElement("div",t,e.cssPrefix+"slider-container")).style.display="none",d.call(this,e,t),this.options=a({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},e),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new f({distance:0},t),this.colorSliderPosLimitRange=[-7,112],this.huebarPosLimitRange=[-3,115],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}l(g,d),g.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},g.prototype.toggle=function(e){this.container.style.display=e?"block":"none"},g.prototype.isVisible=function(){return"block"===this.container.style.display},g.prototype.render=function(e){var t,n,r=this.container,o=this.options,i=p.layout;h.isValidRGB(e)&&(i=(i=(i=(i=i.replace(/{{slider}}/,p.slider)).replace(/{{huebar}}/,p.huebar)).replace(/{{cssPrefix}}/g,o.cssPrefix)).replace(/{{id}}/g,o.id),this.container.innerHTML=i,this.sliderSvgElement=r.querySelector("."+o.cssPrefix+"svg-slider"),this.huebarSvgElement=r.querySelector("."+o.cssPrefix+"svg-huebar"),this.sliderHandleElement=r.querySelector("."+o.cssPrefix+"slider-handle"),this.huebarHandleElement=r.querySelector("."+o.cssPrefix+"huebar-handle"),this.baseColorElement=r.querySelector("."+o.cssPrefix+"slider-basecolor"),t=h.hexToRGB(e),n=h.rgbToHSV.apply(null,t),this.moveHue(n[0],!0),this.moveSaturationAndValue(n[1],n[2],!0))},g.prototype._setColorSliderPosMax=function(){var e=this.sliderSvgElement.getClientRects()[0];e&&(this.colorSliderPosLimitRange[1]=e.height-10)},g.prototype._moveColorSliderHandle=function(e,t,n){var r,o=this.sliderHandleElement;t=Math.max(this.colorSliderPosLimitRange[0],t),t=Math.min(this.colorSliderPosLimitRange[1],t),e=Math.max(this.colorSliderPosLimitRange[0],e),e=Math.min(this.colorSliderPosLimitRange[1],e),u.setTranslateXY(o,e,t),r=t>50?"white":"black",u.setStrokeColor(o,r),n||this.fire("_selectColor",{color:h.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveSaturationAndValue=function(e,t,n){var r,o,i,s;e=e||0,t=t||0,r=Math.abs(this.colorSliderPosLimitRange[0]),i=e*(o=this.colorSliderPosLimitRange[1])/100-r,s=o-t*o/100-r,this._moveColorSliderHandle(i,s,n)},g.prototype._moveColorSliderByPosition=function(e,t){var n=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(e+n,t+n)},g.prototype.getSaturationAndValue=function(){var e=Math.abs(this.colorSliderPosLimitRange[0]),t=e+this.colorSliderPosLimitRange[1],n=u.getTranslateXY(this.sliderHandleElement);return[(n[1]+e)/t*100,100-(n[0]+e)/t*100]},g.prototype._setHueBarPosMax=function(){var e=this.huebarSvgElement.getClientRects()[0];e&&(this.huebarPosLimitRange[1]=e.height-7)},g.prototype._moveHueHandle=function(e,t){var n,r,o=this.huebarHandleElement,i=this.baseColorElement;e=Math.max(this.huebarPosLimitRange[0],e),e=Math.min(this.huebarPosLimitRange[1],e),u.setTranslateY(o,e),n=h.hsvToRGB(this.getHue(),100,100),r=h.rgbToHEX.apply(null,n),u.setGradientColorStop(i,r),t||this.fire("_selectColor",{color:h.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveHue=function(e,t){var n,r;n=((r=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1])*(e=e||0)/m-r,this._moveHueHandle(n,t)},g.prototype._moveHueByPosition=function(e){var t=this.huebarPosLimitRange[0];this._moveHueHandle(e+t)},g.prototype.getHue=function(){var e,t,n=this.huebarHandleElement,r=u.getTranslateXY(n);return t=(e=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1],(r[0]+e)*m/t},g.prototype.getHSV=function(){var e=this.getSaturationAndValue();return[this.getHue()].concat(e)},g.prototype.getRGB=function(){return h.hsvToRGB.apply(null,this.getHSV())},g.prototype._prepareColorSliderForMouseEvent=function(e){var t=this.options,n=i(e.target,"."+t.cssPrefix+"slider-part");return this._dragDataCache={isColorSlider:s(n,t.cssPrefix+"slider-left"),parentElement:n}},g.prototype._onClick=function(e){var t=this._prepareColorSliderForMouseEvent(e),n=o(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1]),this._dragDataCache=null},g.prototype._onDragStart=function(e){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(e)},g.prototype._onDrag=function(e){var t=this._dragDataCache,n=o(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1])},g.prototype._onDragEnd=function(){this._dragDataCache=null},r.mixin(g),e.exports=g},function(e,t,n){"use strict";var r=n(4).isOldBrowser,o=/[\.\-0-9]+/g,i={getTranslateXY:function(e){var t;return r?(t=e.style,[parseFloat(t.top),parseFloat(t.left)]):(t=e.getAttribute("transform"))?(t=t.match(o),[parseFloat(t[1]),parseFloat(t[0])]):[0,0]},setTranslateXY:function(e,t,n){r?(e.style.left=t+"px",e.style.top=n+"px"):e.setAttribute("transform","translate("+t+","+n+")")},setTranslateY:function(e,t){r?e.style.top=t+"px":e.setAttribute("transform","translate(-6,"+t+")")},setStrokeColor:function(e,t){r?e.strokecolor=t:e.setAttribute("stroke",t)},setGradientColorStop:function(e,t){r?e.color=t:e.setAttribute("stop-color",t)}};e.exports=i},function(e,t,n){n(34),e.exports=n(35)},function(e,t,n){},function(e,t,n){"use strict";var r={Collection:n(19),View:n(8),Drag:n(24),create:n(48),Palette:n(29),Slider:n(31),colorutil:n(12),svgvml:n(32)};e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return null===e}},function(e,t,n){"use strict";var r=n(3),o=n(38);e.exports=function(e,t){var n=location.hostname,i="TOAST UI "+e+" for "+n+": Statistics",s=window.localStorage.getItem(i);(r(window.tui)||!1!==window.tui.usageStatistics)&&(s&&!function(e){return(new Date).getTime()-e>6048e5}(s)||(window.localStorage.setItem(i,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||o("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){var n=document.createElement("img"),o="";return r(t,(function(e,t){o+="&"+t+"="+e})),o=o.substring(1),n.src=e+"?"+o,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(e,t,n){"use strict";var r=n(2),o=n(5),i=n(23),s=n(40);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),a=e.classList,l=[];a?r(n,(function(t){e.classList.add(t)})):((t=i(e))&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){o(e,l)<0&&l.push(e)})),s(e,l))}},function(e,t,n){"use strict";var r=n(1),o=n(3);e.exports=function(e,t){t=(t=r(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),o(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){"use strict";e.exports=function(e){return"number"==typeof e||e instanceof Number}},function(e,t,n){"use strict";var r=n(14),o=n(15),i=n(43),s=n(27),a="onselectstart"in document,l=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),a?r(e,"selectstart",o):(e=e===document?document.documentElement:e,i(e,"prevUserSelect",e.style[l]),e.style[l]="none")}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t,n){e.dataset?e.dataset[t]=n:e.setAttribute("data-"+r(t),n)}},function(e,t,n){"use strict";var r=n(17),o=n(15),i=n(45),s=n(46),a=n(27),l="onselectstart"in document,c="prevUserSelect",u=a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),l?r(e,"selectstart",o):((e=e===document?document.documentElement:e).style[u]=i(e,c)||"auto",s(e,c))}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+r(t))}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+r(t))}},function(e,t,n){"use strict";var r=n(22),o=n(5),i=["0","1","3","5","7"],s=["2","6"],a=["4"];e.exports=function(e){return r.msie&&r.version<=8?function(e){var t=String(e.button);return o(t,i)>-1?0:o(t,s)>-1?2:o(t,a)>-1?1:null}(e):e.button}},function(e,t,n){"use strict";var r=n(10),o=n(0),i=n(4),s=n(12),a=n(49),l=n(29),c=n(31),u=0;function h(e){var t;if(!(this instanceof h))return new h(e);if(!(e=this.options=o({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:u+=1,usageStatistics:!0},e)).container)throw new Error("ColorPicker(): need container option.");t=this.layout=new a(e,e.container),this.palette=new l(e,t.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new c(e,t.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),t.addChild(this.palette),t.addChild(this.slider),this.render(e.color),e.usageStatistics&&i.sendHostName()}h.prototype._onSelectColorInPalette=function(e){var t=e.color,n=this.options;s.isValidRGB(t)||""===t?(this.fire("selectColor",{color:t,origin:"palette"}),n.color!==t&&(n.color=t,this.render(t))):this.render()},h.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},h.prototype._onSelectColorInSlider=function(e){var t=e.color,n=this.options;this.fire("selectColor",{color:t,origin:"slider"}),n.color!==t&&(n.color=t,this.palette.render(t))},h.prototype.setColor=function(e){if(!s.isValidRGB(e))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=e,this.render(e)},h.prototype.getColor=function(){return this.options.color},h.prototype.toggle=function(e){this.layout.container.style.display=e?"block":"none"},h.prototype.render=function(e){this.layout.render(e||this.options.color)},h.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},r.mixin(h),e.exports=h},function(e,t,n){"use strict";var r=n(0),o=n(18),i=n(9),s=n(8);function a(e,t){this.options=r({cssPrefix:"tui-colorpicker-"},e),t=i.appendHTMLElement("div",t,this.options.cssPrefix+"container"),s.call(this,e,t),this.render()}o(a,s),a.prototype.render=function(e){this.recursive((function(t){t.render(e)}),!0)},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,n){"use strict";var r=n(52);e.exports=function(e){var t=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return r(t,e)}},function(e,t,n){"use strict";var r=n(5),o=n(2),i=n(1),s=n(11),a=n(0),l=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,u=/\[\s?|\s?\]/,h=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,d=/\./,f=/^["']\w+["']$/,p=/"|'/g,m=/^-?\d+\.?\d*$/,g={if:function(e,t,n){var r=function(e,t){var n=[e],r=[],i=0,s=0;return o(t,(function(e,o){0===e.indexOf("if")?i+=1:"/if"===e?i-=1:i||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),r.push(t.slice(s,o)),s=o+1)})),r.push(t.slice(s)),{exps:n,sourcesInsideIf:r}}(e,t),i=!1,s="";return o(r.exps,(function(e,t){return(i=b(e,n))&&(s=x(r.sourcesInsideIf[t],n)),!i})),s},each:function(e,t,n){var r=b(e,n),s=i(r)?"@index":"@key",l={},c="";return o(r,(function(e,r){l[s]=r,l["@this"]=e,a(n,l),c+=x(t.slice(),n)})),c},with:function(e,t,n){var o=r("as",e),i=e[o+1],s=b(e.slice(0,o),n),l={};return l[i]=s,x(t,a(n,l))||""}},v=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var n,r,o=[],i=0;for(t.global||(t=new RegExp(t,"g")),n=t.exec(e);null!==n;)r=n.index,o.push(e.slice(i,r)),i=r+n[0].length,n=t.exec(e);return o.push(e.slice(i)),o};function y(e,t){var n,r=t[e];return"true"===e?r=!0:"false"===e?r=!1:f.test(e)?r=e.replace(p,""):c.test(e)?r=y((n=e.split(u))[0],t)[y(n[1],t)]:h.test(e)?r=y((n=e.split(d))[0],t)[n[1]]:m.test(e)&&(r=parseFloat(e)),r}function w(e,t,n){for(var r,o,i,a,l=g[e],c=1,u=2,h=t[u];c&&s(h);)0===h.indexOf(e)?c+=1:0===h.indexOf("/"+e)&&(c-=1,r=u),h=t[u+=2];if(c)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=l(t[0].split(" ").slice(1),(o=0,i=r,(a=t.splice(o+1,i-o)).pop(),a),n),t}function b(e,t){var n=y(e[0],t);return n instanceof Function?function(e,t,n){var r=[];return o(t,(function(e){r.push(y(e,n))})),e.apply(null,r)}(n,e.slice(1),t):n}function x(e,t){for(var n,r,o,i=1,a=e[i];s(a);)r=(n=a.split(" "))[0],g[r]?(o=w(r,e.splice(i,e.length-i),t),e=e.concat(o)):e[i]=b(n,t),a=e[i+=2];return e.join("")}e.exports=function(e,t){return x(v(e,l),t)}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){var n,o=r(e),i=o?e[0]:e.clientX,s=o?e[1]:e.clientY;return t?[i-(n=t.getBoundingClientRect()).left-t.clientLeft,s-n.top-t.clientTop]:[i,s]}},function(e,t,n){"use strict";var r=n(55);e.exports=function(e,t){var n=e.parentNode;if(r(e,t))return e;for(;n&&n!==document;){if(r(n,t))return n;n=n.parentNode}return null}},function(e,t,n){"use strict";var r=n(5),o=n(56),i=Element.prototype,s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return r(this,o(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return s.call(e,t)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}},function(e,t,n){"use strict";(function(t){var r=n(4).isOldBrowser,o=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),i=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),s=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),a=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),l=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");r&&t.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),e.exports={layout:o,slider:r?s:i,huebar:r?l:a}}).call(this,n(25))}])},e.exports=t()},25804:(e,t,n)=>{"use strict";n.d(t,{NE:()=>s,QF:()=>C,QK:()=>h,YR:()=>D,Y_:()=>c,td:()=>m,uJ:()=>x,uo:()=>f,w9:()=>k,ym:()=>b});var r=n(16560),o=n(87823),i=n(2376);const s=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function a(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function l(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}const c=(e,t,n)=>{let{$cursor:s}=e.selection;if(!s||(n?!n.endOfTextblock("forward",e):s.parentOffset<s.parent.content.size))return!1;let l=u(s);if(!l)return!1;let c=l.nodeAfter;if(g(e,l,t))return!0;if(0==s.parent.content.size&&(a(c,"start")||i.qv.isSelectable(c))){let n=(0,r.dR)(e.doc,s.before(),s.after(),o.p2.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(a(c,"start")?i.Y1.findFrom(r.doc.resolve(r.mapping.map(l.pos)),1):i.qv.create(r.doc,r.mapping.map(l.pos))),t(r.scrollIntoView())}return!0}}return!(!c.isAtom||l.depth!=s.depth-1)&&(t&&t(e.tr.delete(l.pos,l.pos+c.nodeSize).scrollIntoView()),!0)};function u(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const h=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function d(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const f=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),s=n.indexAfter(-1),a=d(o.contentMatchAt(s));if(!a||!o.canReplaceWith(s,s,a))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,a.createAndFill());o.setSelection(i.Y1.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},p=(e,t)=>{let{$from:n,$to:o}=e.selection;if(e.selection instanceof i.qv&&e.selection.node.isBlock)return!(!n.parentOffset||!(0,r.Ax)(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){let s=o.parentOffset==o.parent.content.size,a=e.tr;(e.selection instanceof i.Bs||e.selection instanceof i.C1)&&a.deleteSelection();let l=0==n.depth?null:d(n.node(-1).contentMatchAt(n.indexAfter(-1))),c=s&&l?[{type:l}]:void 0,u=(0,r.Ax)(a.doc,a.mapping.map(n.pos),1,c);if(c||u||!(0,r.Ax)(a.doc,a.mapping.map(n.pos),1,l?[{type:l}]:void 0)||(l&&(c=[{type:l}]),u=!0),u&&(a.split(a.mapping.map(n.pos),1,c),!s&&!n.parentOffset&&n.parent.type!=l)){let e=a.mapping.map(n.before()),t=a.doc.resolve(e);l&&n.node(-1).canReplaceWith(t.index(),t.index()+1,l)&&a.setNodeMarkup(a.mapping.map(n.before()),l)}t(a.scrollIntoView())}return!0},m=(e,t)=>(t&&t(e.tr.setSelection(new i.C1(e.doc))),!0);function g(e,t,n){let s,l,c=t.nodeBefore,u=t.nodeAfter;if(c.type.spec.isolating||u.type.spec.isolating)return!1;if(function(e,t,n){let o=t.nodeBefore,i=t.nodeAfter,s=t.index();return!(!(o&&i&&o.type.compatibleContent(i.type))||(!o.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(s,s+1)||!i.isTextblock&&!(0,r.Mn)(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let h=t.parent.canReplace(t.index(),t.index()+1);if(h&&(s=(l=c.contentMatchAt(c.childCount)).findWrapping(u.type))&&l.matchType(s[0]||u.type).validEnd){if(n){let i=t.pos+u.nodeSize,a=o.HY.empty;for(let e=s.length-1;e>=0;e--)a=o.HY.from(s[e].create(null,a));a=o.HY.from(c.copy(a));let l=e.tr.step(new r.FC(t.pos-1,i,t.pos,i,new o.p2(a,1,0),s.length,!0)),h=i+2*s.length;(0,r.Mn)(l.doc,h)&&l.join(h),n(l.scrollIntoView())}return!0}let d=i.Y1.findFrom(t,1),f=d&&d.$from.blockRange(d.$to),p=f&&(0,r.k9)(f);if(null!=p&&p>=t.depth)return n&&n(e.tr.lift(f,p).scrollIntoView()),!0;if(h&&a(u,"start",!0)&&a(c,"end")){let i=c,s=[];for(;s.push(i),!i.isTextblock;)i=i.lastChild;let a=u,l=1;for(;!a.isTextblock;a=a.firstChild)l++;if(i.canReplace(i.childCount,i.childCount,a.content)){if(n){let i=o.HY.empty;for(let e=s.length-1;e>=0;e--)i=o.HY.from(s[e].copy(i));n(e.tr.step(new r.FC(t.pos-s.length,t.pos+u.nodeSize,t.pos+l,t.pos+u.nodeSize-l,new o.p2(i,s.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function v(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return!!o.node(s).isTextblock&&(n&&n(t.tr.setSelection(i.Bs.create(t.doc,e<0?o.start(s):o.end(s)))),!0)}}const y=v(-1),w=v(1);function b(e,t=null){return function(n,o){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),l=a&&(0,r.nd)(a,e,t);return!!l&&(o&&o(n.tr.wrap(a,l).scrollIntoView()),!0)}}function x(e,t=null){return function(n,r){let{from:o,to:i}=n.selection,s=!1;return n.doc.nodesBetween(o,i,((r,o)=>{if(s)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)s=!0;else{let t=n.doc.resolve(o),r=t.index();s=t.parent.canReplaceWith(r,r+1,e)}})),!!s&&(r&&r(n.tr.setBlockType(o,i,e,t).scrollIntoView()),!0)}}function k(e,t=null){return function(n,r){let{empty:o,$cursor:i,ranges:s}=n.selection;if(o&&!i||!function(e,t,n){for(let r=0;r<t.length;r++){let{$from:o,$to:i}=t[r],s=0==o.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,i.pos,(e=>{if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return!0}return!1}(n.doc,s,e))return!1;if(r)if(i)e.isInSet(n.storedMarks||i.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let o=!1,i=n.tr;for(let t=0;!o&&t<s.length;t++){let{$from:r,$to:i}=s[t];o=n.doc.rangeHasMark(r.pos,i.pos,e)}for(let n=0;n<s.length;n++){let{$from:r,$to:a}=s[n];if(o)i.removeMark(r.pos,a.pos,e);else{let n=r.pos,o=a.pos,s=r.nodeAfter,l=a.nodeBefore,c=s&&s.isText?/^\s*/.exec(s.text)[0].length:0,u=l&&l.isText?/\s*$/.exec(l.text)[0].length:0;n+c<o&&(n+=c,o-=u),i.addMark(n,o,e.create(t))}}r(i.scrollIntoView())}return!0}}function C(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let S=C(s,((e,t,n)=>{let{$cursor:s}=e.selection;if(!s||(n?!n.endOfTextblock("backward",e):s.parentOffset>0))return!1;let c=l(s);if(!c){let n=s.blockRange(),o=n&&(0,r.k9)(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let u=c.nodeBefore;if(!u.type.spec.isolating&&g(e,c,t))return!0;if(0==s.parent.content.size&&(a(u,"end")||i.qv.isSelectable(u))){let n=(0,r.dR)(e.doc,s.before(),s.after(),o.p2.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(a(u,"end")?i.Y1.findFrom(r.doc.resolve(r.mapping.map(c.pos,-1)),-1):i.qv.create(r.doc,c.pos-u.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!u.isAtom||c.depth!=s.depth-1)&&(t&&t(e.tr.delete(c.pos-u.nodeSize,c.pos).scrollIntoView()),!0)}),((e,t,n)=>{let{$head:r,empty:o}=e.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=l(r)}let a=s&&s.nodeBefore;return!(!a||!i.qv.isSelectable(a))&&(t&&t(e.tr.setSelection(i.qv.create(e.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)})),_=C(s,c,((e,t,n)=>{let{$head:r,empty:o}=e.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=u(r)}let a=s&&s.nodeAfter;return!(!a||!i.qv.isSelectable(a))&&(t&&t(e.tr.setSelection(i.qv.create(e.doc,s.pos)).scrollIntoView()),!0)}));const M={Enter:C(h,((e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof i.C1||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=d(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=e.tr.insert(n,s.createAndFill());a.setSelection(i.Bs.create(a.doc,n+1)),t(a.scrollIntoView())}return!0}),((e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if((0,r.Ax)(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let o=n.blockRange(),i=o&&(0,r.k9)(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)}),p),"Mod-Enter":f,Backspace:S,"Mod-Backspace":S,"Shift-Backspace":S,Delete:_,"Mod-Delete":_,"Mod-a":m},E={"Ctrl-h":M.Backspace,"Alt-Backspace":M["Mod-Backspace"],"Ctrl-d":M.Delete,"Ctrl-Alt-Backspace":M["Mod-Delete"],"Alt-Delete":M["Mod-Delete"],"Alt-d":M["Mod-Delete"],"Ctrl-a":y,"Ctrl-e":w};for(let e in M)E[e]=M[e];const D=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform())?E:M},5284:(e,t,n)=>{"use strict";n.d(t,{m8:()=>k,KX:()=>S,Yw:()=>C,of:()=>_});var r=200,o=function(){};o.prototype.append=function(e){return e.length?(e=o.from(e),!this.length&&e||e.length<r&&this.leafAppend(e)||this.length<r&&e.leafPrepend(this)||this.appendInner(e)):this},o.prototype.prepend=function(e){return e.length?o.from(e).append(this):this},o.prototype.appendInner=function(e){return new s(this,e)},o.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?o.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},o.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},o.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},o.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},o.from=function(e){return e instanceof o?e:e&&e.length?new i(e):o.empty};var i=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=r)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=r)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(o);o.empty=new i([]);var s=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(o);const a=o;var l=n(16560),c=n(2376);class u{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){if(this.items.get(o-1).selection){--o;break}}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,s,a=e.tr,l=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new h(e.map));let t,o=e.step.map(n.slice(r));o&&a.maybeStep(o).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],l.push(new h(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else a.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,s=new u(this.items.slice(0,o).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null;for(let n=0;n<e.steps.length;n++){let l,c=e.steps[n].invert(e.docs[n]),u=new h(e.mapping.maps[n],c,t);(l=a&&a.merge(u))&&(u=l,n?o.pop():s=s.slice(0,s.length-1)),o.push(u),t&&(i++,t=void 0),r||(a=u)}let l=i-n.depth;return l>f&&(s=function(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(s,l),i-=l),new u(s.append(o),i)}remapping(e,t){let n=new l.vs;return this.items.forEach(((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new u(this.items.append(e.map((e=>new h(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach((e=>{e.selection&&s--}),r);let a=t;this.items.forEach((t=>{let r=o.getMirror(--a);if(null==r)return;i=Math.min(i,r);let l=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(o.slice(a+1,r));c&&s++,n.push(new h(l,i,c))}else n.push(new h(l))}),r);let l=[];for(let e=t;e<i;e++)l.push(new h(o.maps[e]));let c=this.items.slice(0,r).append(l).append(n),d=new u(c,s);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach(((i,s)=>{if(s>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let a=i.selection&&i.selection.map(t.slice(n));a&&o++;let l,c=new h(s.invert(),e,a),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else i.map&&n--}),this.items.length,0),new u(a.from(r.reverse()),o)}}u.empty=new u(a.empty,0);class h{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new h(t.getMap().invert(),t,this.selection)}}}class d{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const f=20;function p(e){let t=[];return e.forEach(((e,n,r,o)=>t.push(r,o))),t}function m(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function g(e,t,n,r){let o=w(t),i=b.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,o);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,o),c=new d(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(b,{redo:r,historyState:c}).scrollIntoView())}let v=!1,y=null;function w(e){let t=e.plugins;if(y!=t){v=!1,y=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){v=!0;break}}return v}const b=new c.H$("history"),x=new c.H$("closeHistory");function k(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new c.Sy({key:b,state:{init:()=>new d(u.empty,u.empty,null,0),apply:(t,n,r)=>function(e,t,n,r){let o,i=n.getMeta(b);if(i)return i.historyState;n.getMeta(x)&&(e=new d(e.done,e.undone,null,0));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(b))return s.getMeta(b).redo?new d(e.done.addTransform(n,void 0,r,w(t)),e.undone,p(n.mapping.maps[n.steps.length-1]),e.prevTime):new d(e.done,e.undone.addTransform(n,void 0,r,w(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new d(e.done.rebased(n,o),e.undone.rebased(n,o),m(e.prevRanges,n.mapping),e.prevTime):new d(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),m(e.prevRanges,n.mapping),e.prevTime);{let o=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),i=s?m(e.prevRanges,n.mapping):p(n.mapping.maps[n.steps.length-1]);return new d(e.done.addTransform(n,o?t.selection.getBookmark():void 0,r,w(t)),u.empty,i,n.time)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?C:"historyRedo"==n?S:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}const C=(e,t)=>{let n=b.getState(e);return!(!n||0==n.done.eventCount)&&(t&&g(n,e,t,!1),!0)},S=(e,t)=>{let n=b.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&g(n,e,t,!0),!0)};function _(e){let t=b.getState(e);return t?t.done.eventCount:0}},36912:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>i,VK:()=>o,dU:()=>a});var r=n(2376);class o{constructor(e,t){var n;this.match=e,this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,o){let i=n;if(t[1]){let e=t[0].lastIndexOf(t[1]);i+=t[0].slice(e+t[1].length);let n=(r+=e)-o;n>0&&(i=t[0].slice(e-n,e)+i,r=o)}return e.tr.insertText(i,r,o)}):t}}function i({rules:e}){let t=new r.Sy({state:{init:()=>null,apply(e,t){let n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(n,r,o,i)=>s(n,r,o,i,e,t),handleDOMEvents:{compositionend:n=>{setTimeout((()=>{let{$cursor:r}=n.state.selection;r&&s(n,r.pos,r.pos,"",e,t)}))}}},isInputRules:!0});return t}function s(e,t,n,r,o,i){if(e.composing)return!1;let s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;let l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"")+r;for(let a=0;a<o.length;a++){let c=o[a].match.exec(l),u=c&&o[a].handler(s,c,t-(c[0].length-r.length),n);if(u)return e.dispatch(u.setMeta(i,{transform:u,from:t,to:n,text:r})),!0}return!1}const a=(e,t)=>{let n=e.plugins;for(let r=0;r<n.length;r++){let o,i=n[r];if(i.spec.isInputRules&&(o=i.getState(e))){if(t){let n=e.tr,r=o.transform;for(let e=r.steps.length-1;e>=0;e--)n.step(r.steps[e].invert(r.docs[e]));if(o.text){let t=n.doc.resolve(o.from).marks();n.replaceWith(o.from,o.to,e.schema.text(o.text,t))}else n.delete(o.from,o.to);t(n)}return!0}}return!1};new o(/--$/,""),new o(/\.\.\.$/,""),new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),new o(/"$/,""),new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),new o(/'$/,"")},7327:(e,t,n)=>{"use strict";n.d(t,{h:()=>v});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=i&&(l||+i[1]<57)||a&&l,h=0;h<10;h++)r[48+h]=r[96+h]=String(h);for(h=1;h<=24;h++)r[h+111]="F"+h;for(h=65;h<=90;h++)r[h]=String.fromCharCode(h+32),o[h]=String.fromCharCode(h);for(var d in r)o.hasOwnProperty(d)||(o[d]=r[d]);var f=n(2376);const p="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function m(e){let t,n,r,o,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let e=0;e<i.length-1;e++){let s=i[e];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else if(/^s(hift)?$/i.test(s))r=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);p?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function g(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function v(e){return new f.Sy({props:{handleKeyDown:y(e)}})}function y(e){let t=function(e){let t=Object.create(null);for(let n in e)t[m(n)]=e[n];return t}(e);return function(e,n){let i,a=function(e){var t=!(u&&(e.ctrlKey||e.altKey||e.metaKey)||(s||c)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?o:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),l=1==a.length&&" "!=a,h=t[g(a,n,!l)];if(h&&h(e.state,e.dispatch,e))return!0;if(l&&(n.shiftKey||n.altKey||n.metaKey||a.charCodeAt(0)>127)&&(i=r[n.keyCode])&&i!=a){let r=t[g(i,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}else if(l&&n.shiftKey){let r=t[g(a,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}return!1}}},87823:(e,t,n)=>{"use strict";function r(e){this.content=e}n.d(t,{aw:()=>G,PW:()=>ae,HY:()=>a,vc:()=>h,ZU:()=>U,NB:()=>A,Ts:()=>N,e4:()=>d,V_:()=>K,p2:()=>f}),r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var o=n&&n!=e?this.remove(n):this,i=o.find(e),s=o.content.slice();return-1==i?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new r(s)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var o=this.remove(t),i=o.content.slice(),s=o.find(e);return i.splice(-1==s?i.length:s,0,t,n),new r(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=r.from(e)).size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=r.from(e)).size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)};const o=r;function i(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),s=t.child(r);if(o!=s){if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(let e=0;o.text[e]==s.text[e];e++)n++;return n}if(o.content.size||s.content.size){let e=i(o.content,s.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function s(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};let a=e.child(--o),l=t.child(--i),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let e=0,t=Math.min(a.text.length,l.text.length);for(;e<t&&a.text[a.text.length-e-1]==l.text[l.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let e=s(a.content,l.content,n-1,r-1);if(e)return e}n-=c,r-=c}else n-=c,r-=c}}class a{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,o){for(let i=0,s=0;s<t;i++){let a=this.content[i],l=s+a.nodeSize;if(l>e&&!1!==n(a,r+s,o||null,i)&&a.content.size){let o=s+1;a.nodesBetween(Math.max(0,e-o),Math.min(a.content.size,t-o),n,r+o)}s=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",i=!0;return this.nodesBetween(e,t,((s,a)=>{s.isText?(o+=s.text.slice(Math.max(e,a)-a,t-a),i=!n):s.isLeaf?(r?o+="function"==typeof r?r(s):r:s.type.spec.leafText&&(o+=s.type.spec.leafText(s)),i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new a(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,i=0;i<t;o++){let s=this.content[o],a=i+s.nodeSize;a>e&&((i<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-i),Math.min(s.text.length,t-i)):s.cut(Math.max(0,e-i-1),Math.min(s.content.size,t-i-1))),n.push(s),r+=s.nodeSize),i=a}return new a(n,r)}cutByIndex(e,t){return e==t?a.empty:0==e&&t==this.content.length?this:new a(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new a(r,o)}addToStart(e){return new a([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new a(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return i(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return s(this,e,t,n)}findIndex(e,t=-1){if(0==e)return c(0,e);if(e==this.size)return c(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?c(n+1,o):c(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return a.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return a.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new a(t||e,n)}static from(e){if(!e)return a.empty;if(e instanceof a)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new a([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}a.empty=new a([],0);const l={index:0,offset:0};function c(e,t){return l.index=e,l.offset=t,l}function u(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!u(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!u(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class h{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&u(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return h.none;if(e instanceof h)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}h.none=[];class d extends Error{}class f{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=m(this.content,e+this.openStart,t);return n&&new f(n,this.openStart,this.openEnd)}removeBetween(e,t){return new f(p(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return f.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new f(a.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new f(e,n,r)}}function p(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(o==t||i.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(p(i.content,t-o-1,n-o-1)))}function m(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),s=e.maybeChild(o);if(i==t||s.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=m(s.content,t-i-1,n);return a&&e.replaceChild(o,s.copy(a))}function g(e,t,n){if(n.openStart>e.depth)throw new d("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new d("Inconsistent open depths");return v(e,t,n,0)}function v(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let s=v(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:o,end:s}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(a.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return k(i,C(e,o,s,t,r))}{let r=e.parent,o=r.content;return k(r,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return k(i,S(e,t,r))}function y(e,t){if(!t.type.compatibleContent(e.type))throw new d("Cannot join "+t.type.name+" onto "+e.type.name)}function w(e,t,n){let r=e.node(n);return y(r,t.node(n)),r}function b(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function x(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(b(e.nodeAfter,r),i++));for(let e=i;e<s;e++)b(o.child(e),r);t&&t.depth==n&&t.textOffset&&b(t.nodeBefore,r)}function k(e,t){if(!e.type.validContent(t))throw new d("Invalid content for node "+e.type.name);return e.copy(t)}function C(e,t,n,r,o){let i=e.depth>o&&w(e,t,o+1),s=r.depth>o&&w(n,r,o+1),l=[];return x(null,e,o,l),i&&s&&t.index(o)==n.index(o)?(y(i,s),b(k(i,C(e,t,n,r,o+1)),l)):(i&&b(k(i,S(e,t,o+1)),l),x(t,n,o,l),s&&b(k(s,S(n,r,o+1)),l)),x(r,null,o,l),new a(l)}function S(e,t,n){let r=[];if(x(null,e,n,r),e.depth>n){b(k(w(e,t,n+1),S(e,t,n+1)),r)}return x(t,null,n,r),new a(r)}f.empty=new f(a.empty,0,0);class _{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return h.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new N(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let t=e;;){let{index:e,offset:i}=t.content.findIndex(o),s=o-i;if(n.push(t,e,r+i),!s)break;if(t=t.child(e),t.isText)break;o=s-1,r+=i+1}return new _(t,n,o)}static resolveCached(e,t){for(let n=0;n<M.length;n++){let r=M[n];if(r.pos==t&&r.doc==e)return r}let n=M[E]=_.resolve(e,t);return E=(E+1)%D,n}}let M=[],E=0,D=12;class N{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const O=Object.create(null);class A{constructor(e,t,n,r=h.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||a.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&u(this.attrs,t||e.defaultAttrs||O)&&h.sameSet(this.marks,n||h.none)}copy(e=null){return e==this.content?this:new A(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new A(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return f.empty;let r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new f(a,r.depth-i,o.depth-i)}replace(e,t,n){return g(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return _.resolveCached(this,e)}resolveNoCache(e){return _.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),R(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=a.empty,r=0,o=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let e=r;e<o;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=h.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!h.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((e=>e.type.name))}`);this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=a.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}A.prototype.text=void 0;class T extends A{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):R(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new T(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new T(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function R(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class P{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new z(e,t);if(null==n.next)return P.empty;let r=F(n);n.next&&n.err("Unexpected trailing text");let o=function(e){let t=Object.create(null);return n(L(e,0));function n(r){let o=[];r.forEach((t=>{e[t].forEach((({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<o.length;e++)o[e][0]==t&&(r=o[e][1]);L(e,n).forEach((e=>{r||o.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)}))}))}));let i=t[r.join(",")]=new P(r.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let r=o[e][1].sort($);i.next.push({type:o[e][0],next:t[r.join(",")]||n(r)})}return i}}(function(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((e=>e.to=t))}function i(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(i(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return r(t,s),o(i(e.expr,s),s),[r(s)]}if("plus"==e.type){let s=n();return o(i(e.expr,t),s),o(i(e.expr,s),s),[r(s)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();o(i(e.expr,s),t),s=t}if(-1==e.max)o(i(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();r(s,t),o(i(e.expr,s),t),s=t}return[r(s)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=i(e.exprs[r],t);if(r==e.exprs.length-1)return s;o(s,t=n())}}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];i.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(s)&&r.push(s)}o&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function o(i,s){let l=i.matchFragment(e,n);if(l&&(!t||l.validEnd))return a.from(s.map((e=>e.createAndFill())));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=o(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:i,next:s}=o.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!s.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map(((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r})).join("\n")}}P.empty=new P(!0);class z{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function F(e){let t=[];do{t.push(I(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function I(e){let t=[];do{t.push(B(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function B(e){let t=function(e){if(e.eat("(")){let t=F(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let e in n){let r=n[e];r.groups.indexOf(t)>-1&&o.push(r)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=V(e,t)}return t}function Z(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function V(e,t){let n=Z(e),r=n;return e.eat(",")&&(r="}"!=e.next?Z(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function $(e,t){return t-e}function L(e,t){let n=[];return function t(r){let o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(let e=0;e<o.length;e++){let{term:r,to:i}=o[e];r||-1!=n.indexOf(i)||t(i)}}(t),n.sort($)}function H(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Y(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=t.default}n[r]=o}return n}function j(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new W(e[n]);return t}class q{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=j(n.attrs),this.defaultAttrs=H(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==P.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Y(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new A(this,this.computeAttrs(e),a.from(t),h.setFrom(n))}createChecked(e=null,t,n){if(t=a.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new A(this,this.computeAttrs(e),t,h.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=a.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(a.empty,!0);return o?new A(this,e,t.append(o),h.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:h.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,r)=>n[e]=new q(e,t,r)));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class W{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class U{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=j(r.attrs),this.excluded=null;let o=H(this.attrs);this.instance=o?new h(this,o):null}create(e=null){return!e&&this.instance?this.instance:new h(this,Y(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach(((e,o)=>n[e]=new U(e,r++,t,o))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class K{constructor(e){this.cached=Object.create(null),this.spec={nodes:o.from(e.nodes),marks:o.from(e.marks||{}),topNode:e.topNode},this.nodes=q.compile(this.spec.nodes,this),this.marks=U.compile(this.spec.marks,this);let t=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let n=this.nodes[e],r=n.spec.content||"",o=n.spec.marks;n.contentMatch=t[r]||(t[r]=P.parse(r,this.nodes)),n.inlineContent=n.contentMatch.inlineContent,n.markSet="_"==o?null:o?J(this,o.split(" ")):""!=o&&n.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:J(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof q))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new T(n,n.defaultAttrs,e,h.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return A.fromJSON(this,e)}markFromJSON(e){return h.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function J(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class G{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e,t={}){let n=new re(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new re(this,t,!0);return n.addAll(e,t.from,t.to),f.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(oe(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach((e=>{n(e=ie(e)),e.mark=t}))}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach((e=>{n(e=ie(e)),e.node=t}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new G(e,G.schemaRules(e)))}}const X={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Q={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ee={ol:!0,ul:!0};function te(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class ne{constructor(e,t,n,r,o,i,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=h.none,this.stashMarks=[],this.match=i||(4&s?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(a.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=a.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):se(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!X.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class re{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,o=t.topNode,i=te(null,t.preserveWhitespace,0)|(n?4:0);r=o?new ne(o.type,o.attrs,h.none,h.none,!0,t.topMatch||o.type.contentMatch,i):new ne(n?null:e.schema.topNodeType,null,h.none,h.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let t=e.getAttribute("style"),n=t?this.readStyles(function(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);if(this.addElement(e),null!=n)for(let e=0;e<n.length;e++)this.removePendingMark(n[e],r)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();ee.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&ee.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:Q.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let t,n=this.top,i=this.needsBlock;if(X.hasOwnProperty(r))t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),t&&this.sync(n),this.needsBlock=i}else this.addElementByRule(e,o,!1===o.consuming?n:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=h.none;e:for(let n=0;n<e.length;n+=2)for(let r;;){let o=this.parser.matchStyle(e[n],e[n+1],this,r);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;r=o}return t}addElementByRule(e,t,n){let r,o,i;if(t.node)o=this.parser.schema.nodes[t.node],o.isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs||null,t.preserveWhitespace);else{i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i)}let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e)));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(s)&&this.open--,i&&this.removePendingMark(i,s)}addAll(e,t,n){let r=t||0;for(let o=t?e.childNodes[t]:e.firstChild,i=null==n?null:e.childNodes[n];o!=i;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(let e=0;e<t.length;e++)this.enterInner(t[e],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let i=te(e,r,o.options);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new ne(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),i=(e,s)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;s>=o;s--)if(i(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=o?n.node(s-o).type:null;if(!e||e.name!=a&&-1==e.groups.indexOf(a))return!1;s--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(e){let t=function(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function oe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function ie(e){let t={};for(let n in e)t[n]=e[n];return t}function se(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],s=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t)return!0;if(i.indexOf(o)<0&&s(o))return!0}};if(s(o.contentMatch))return!0}}class ae{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=ce(t).createDocumentFragment());let r=n,o=[];return e.forEach((e=>{if(o.length||e.marks.length){let n=0,i=0;for(;n<o.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<o.length;)r=o.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],s=this.serializeMark(n,e.isInline,t);s&&(o.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=ae.renderSpec(ce(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&ae.renderSpec(ce(n),r(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,o=t[0],i=o.indexOf(" ");i>0&&(n=o.slice(0,i),o=o.slice(i+1));let s=n?e.createElementNS(n,o):e.createElement(o),a=t[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){l=2;for(let e in a)if(null!=a[e]){let t=e.indexOf(" ");t>0?s.setAttributeNS(e.slice(0,t),e.slice(t+1),a[e]):s.setAttribute(e,a[e])}}for(let o=l;o<t.length;o++){let i=t[o];if(0===i){if(o<t.length-1||o>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:t,contentDOM:o}=ae.renderSpec(e,i,n);if(s.appendChild(t),o){if(r)throw new RangeError("Multiple content holes");r=o}}}return{dom:s,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ae(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=le(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return le(e.marks)}}function le(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function ce(e){return e.document||window.document}},2376:(e,t,n)=>{"use strict";n.d(t,{Bs:()=>u,C1:()=>p,H$:()=>D,Sy:()=>_,Y1:()=>s,qv:()=>d,xm:()=>a,yy:()=>C});var r=n(87823),o=n(16560);const i=Object.create(null);class s{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new a(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=r.p2.empty){let n=t.content.lastChild,o=null;for(let e=0;e<t.openEnd;e++)o=n,n=n.lastChild;let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?r.p2.empty:t),0==a&&v(e,i,(n?n.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:i,$to:s}=r[o],a=e.mapping.slice(n),l=a.map(i.pos),c=a.map(s.pos);o?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),v(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new u(e):g(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let o=t<0?g(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):g(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new p(e.node(0))}static atStart(e){return g(e,e,0,0,1)||new p(e)}static atEnd(e){return g(e,e,e.content.size,e.childCount,-1)||new p(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=i[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in i)throw new RangeError("Duplicate use of selection JSON ID "+e);return i[e]=t,t.prototype.jsonID=e,t}getBookmark(){return u.between(this.$anchor,this.$head).getBookmark()}}s.prototype.visible=!0;class a{constructor(e,t){this.$from=e,this.$to=t}}let l=!1;function c(e){l||e.parent.inlineContent||(l=!0)}class u extends s{constructor(e,t=e){c(e),c(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return s.near(n);let r=e.resolve(t.map(this.anchor));return new u(r.parent.inlineContent?r:n,n)}replace(e,t=r.p2.empty){if(super.replace(e,t),t==r.p2.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof u&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new h(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new u(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=s.findFrom(t,n,!0)||s.findFrom(t,-n,!0);if(!e)return s.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(s.findFrom(e,-n,!0)||s.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new u(e,t)}}s.jsonID("text",u);class h{constructor(e,t){this.anchor=e,this.head=t}map(e){return new h(e.map(this.anchor),e.map(this.head))}resolve(e){return u.between(e.resolve(this.anchor),e.resolve(this.head))}}class d extends s{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?s.near(o):new d(o)}content(){return new r.p2(r.HY.from(this.node),0,0)}eq(e){return e instanceof d&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new f(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new d(e.resolve(t.anchor))}static create(e,t){return new d(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}d.prototype.visible=!1,s.jsonID("node",d);class f{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new h(n,n):new f(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&d.isSelectable(n)?new d(t):s.near(t)}}class p extends s{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=r.p2.empty){if(t==r.p2.empty){e.delete(0,e.doc.content.size);let t=s.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new p(e)}map(e){return new p(e)}eq(e){return e instanceof p}getBookmark(){return m}}s.jsonID("all",p);const m={map(){return this},resolve:e=>new p(e)};function g(e,t,n,r,o,i=!1){if(t.inlineContent)return u.create(e,n);for(let s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let r=t.child(s);if(r.isAtom){if(!i&&d.isSelectable(r))return d.create(e,n-(o<0?r.nodeSize:0))}else{let t=g(e,r,n+o,o<0?r.childCount:0,o,i);if(t)return t}n+=r.nodeSize*o}return null}function v(e,t,n){let r=e.steps.length-1;if(r<t)return;let i,a=e.steps[r];(a instanceof o.Pu||a instanceof o.FC)&&(e.mapping.maps[r].forEach(((e,t,n,r)=>{null==i&&(i=r)})),e.setSelection(s.near(e.doc.resolve(i),n)))}class y extends o.wx{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return r.vc.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.vc.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function w(e,t){return t&&e?e.bind(t):e}class b{constructor(e,t,n){this.name=e,this.init=w(t.init,n),this.apply=w(t.apply,n)}}const x=[new b("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new b("selection",{init:(e,t)=>e.selection||s.atStart(t.doc),apply:e=>e.selection}),new b("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new b("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class k{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=x.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new b(e.key,e.spec.state,e))}))}}class C{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let s=this.config.plugins[i];if(s.spec.appendTransaction){let a=r?r[i].n:0,l=r?r[i].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new C(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new y(this)}static create(e){let t=new k(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new C(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new k(this.schema,e.plugins),n=t.fields,r=new C(t);for(let t=0;t<n.length;t++){let o=n[t].name;r[o]=this.hasOwnProperty(o)?this[o]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new k(e.schema,e.plugins),i=new C(o);return o.fields.forEach((o=>{if("doc"==o.name)i.doc=r.NB.fromJSON(e.schema,t.doc);else if("selection"==o.name)i.selection=s.fromJSON(i.doc,t.selection);else if("storedMarks"==o.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let r in n){let s=n[r],a=s.spec.state;if(s.key==o.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,r))return void(i[o.name]=a.fromJSON.call(s,e,t[r],i))}i[o.name]=o.init(e,i)}})),i}}function S(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=S(o,t,{})),n[r]=o}return n}class _{constructor(e){this.spec=e,this.props={},e.props&&S(e.props,this,this.props),this.key=e.key?e.key.key:E("plugin")}getState(e){return e[this.key]}}const M=Object.create(null);function E(e){return e in M?e+"$"+ ++M[e]:(M[e]=0,e+"$")}class D{constructor(e="key"){this.key=E(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}},16560:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>k,FC:()=>g,KS:()=>a,Mn:()=>C,Pu:()=>m,dR:()=>M,k9:()=>w,nd:()=>b,nj:()=>_,vs:()=>l,wx:()=>B});var r=n(87823);const o=Math.pow(2,16);function i(e){return 65535&e}class s{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class a{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&a.empty)return a.empty}recover(e){let t=0,n=i(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/o}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let u=this.ranges[l+i],h=this.ranges[l+a],d=c+u;if(e<=d){let i=c+r+((u?e==c?-1:e==d?1:t:t)<0?0:h);if(n)return i;let a=e==(t<0?c:d)?null:l/3+(e-c)*o,f=e==c?2:e==d?1:4;return(t<0?e!=c:e!=d)&&(f|=8),new s(i,f,a)}r+=h-u}return n?e+r:new s(e+r,0,null)}touches(e,t){let n=0,r=i(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let i=this.ranges[t]-(this.inverted?n:0);if(i>e)break;let a=this.ranges[t+o];if(e<=i+a&&t==3*r)return!0;n+=this.ranges[t+s]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,a,a+c),o+=c-l}}invert(){return new a(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?a.empty:new a(e<0?[0,-e,0]:[0,0,e])}}a.empty=new a([]);class l{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new l(this.maps,this.mirror,e,t)}copy(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new l;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let o=this.maps[n].mapResult(e,t);if(null!=o.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this.maps[t].recover(o.recover);continue}}r|=o.delInfo,e=o.pos}return n?e:new s(e,r,null)}}const c=Object.create(null);class u{getMap(){return a.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=c[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in c)throw new RangeError("Duplicate use of step JSON ID "+e);return c[e]=t,t.prototype.jsonID=e,t}}class h{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new h(e,null)}static fail(e){return new h(null,e)}static fromReplace(e,t,n,o){try{return h.ok(e.replace(t,n,o))}catch(e){if(e instanceof r.e4)return h.fail(e.message);throw e}}}function d(e,t,n){let o=[];for(let r=0;r<e.childCount;r++){let i=e.child(r);i.content.size&&(i=i.copy(d(i.content,t,i))),i.isInline&&(i=t(i,n,r)),o.push(i)}return r.HY.fromArray(o)}class f extends u{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),o=n.node(n.sharedDepth(this.to)),i=new r.p2(d(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),o),t.openStart,t.openEnd);return h.fromReplace(e,this.from,this.to,i)}invert(){return new p(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new f(t.pos,n.pos,this.mark)}merge(e){return e instanceof f&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new f(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new f(t.from,t.to,e.markFromJSON(t.mark))}}u.jsonID("addMark",f);class p extends u{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new r.p2(d(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return h.fromReplace(e,this.from,this.to,n)}invert(){return new f(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new p(t.pos,n.pos,this.mark)}merge(e){return e instanceof p&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new p(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new p(t.from,t.to,e.markFromJSON(t.mark))}}u.jsonID("removeMark",p);class m extends u{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&v(e,this.from,this.to)?h.fail("Structure replace would overwrite content"):h.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new a([this.from,this.to-this.from,this.slice.size])}invert(e){return new m(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new m(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof m)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?r.p2.empty:new r.p2(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new m(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?r.p2.empty:new r.p2(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new m(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new m(t.from,t.to,r.p2.fromJSON(e,t.slice),!!t.structure)}}u.jsonID("replace",m);class g extends u{constructor(e,t,n,r,o,i,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=s}apply(e){if(this.structure&&(v(e,this.from,this.gapFrom)||v(e,this.gapTo,this.to)))return h.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return h.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?h.fromReplace(e,this.from,this.to,n):h.fail("Content does not fit in gap")}getMap(){return new a([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new g(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new g(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new g(t.from,t.to,t.gapFrom,t.gapTo,r.p2.fromJSON(e,t.slice),t.insert,!!t.structure)}}function v(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let e=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function y(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function w(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!y(r,o,i))break}return null}function b(e,t,n=null,r=e){let o=function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(r,o,s)?i:null}(e,t),i=o&&function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let a=(s.length?s[s.length-1]:t).contentMatch;for(let e=r;a&&e<o;e++)a=a.matchType(n.child(e).type);return a&&a.validEnd?s:null}(r,t);return i?o.map(x).concat({type:t,attrs:n}).concat(i.map(x)):null}function x(e){return{type:e,attrs:null}}function k(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let e=o.depth-1,t=n-2;e>i;e--,t--){let n=o.node(e),i=o.index(e);if(n.type.spec.isolating)return!1;let s=n.content.cutByIndex(i,n.childCount),a=r&&r[t]||n;if(a!=n&&(s=s.replaceChild(0,a.type.create(a.attrs))),!n.canReplace(i+1,n.childCount)||!a.type.validContent(s))return!1}let a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function C(e,t){let n=e.resolve(t),r=n.index();return S(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function S(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function _(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let e=0;e<n.openStart;e++)o=o.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,i=r.index(t)+(n>0?1:0),s=r.node(t),a=!1;if(1==e)a=s.canReplace(i,i,o);else{let e=s.contentMatchAt(i).findWrapping(o.firstChild.type);a=e&&s.canReplaceWith(i,i,e[0])}if(a)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function M(e,t,n=t,o=r.p2.empty){if(t==n&&!o.size)return null;let i=e.resolve(t),s=e.resolve(n);return E(i,s,o)?new m(t,n,o):new D(i,s,o).fit()}function E(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}u.jsonID("replaceAround",g);class D{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=r.HY.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=r.HY.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(e<0?this.$to:n.doc.resolve(e));if(!o)return null;let i=this.placed,s=n.depth,a=o.depth;for(;s&&a&&1==i.childCount;)i=i.firstChild.content,s--,a--;let l=new r.p2(i,s,a);return e>-1?new g(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new m(n.pos,o.pos,l):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let n,o=null;t?(o=A(this.unplaced.content,t-1).firstChild,n=o.content):n=this.unplaced.content;let i=n.firstChild;for(let n=this.depth;n>=0;n--){let s,{type:a,match:l}=this.frontier[n],c=null;if(1==e&&(i?l.matchType(i.type)||(c=l.fillBefore(r.HY.from(i),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:t,frontierDepth:n,parent:o,inject:c};if(2==e&&i&&(s=l.findWrapping(i.type)))return{sliceDepth:t,frontierDepth:n,parent:o,wrap:s};if(o&&l.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=A(e,t);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new r.p2(e,t+1,Math.max(n,o.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=A(e,t);if(o.childCount<=1&&t>0){let i=e.size-t<=t+o.size;this.unplaced=new r.p2(N(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new r.p2(N(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:o,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let e=0;e<i.length;e++)this.openFrontierNode(i[e]);let s=this.unplaced,a=n?n.content:s.content,l=s.openStart-e,c=0,u=[],{match:h,type:d}=this.frontier[t];if(o){for(let e=0;e<o.childCount;e++)u.push(o.child(e));h=h.matchFragment(o)}let f=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let e=a.child(c),t=h.matchType(e.type);if(!t)break;c++,(c>1||0==l||e.content.size)&&(h=t,u.push(T(e.mark(d.allowedMarks(e.marks)),1==c?l:0,c==a.childCount?f:-1)))}let p=c==a.childCount;p||(f=-1),this.placed=O(this.placed,t,r.HY.from(u)),this.frontier[t].match=h,p&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=a;e<f;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=p?0==e?r.p2.empty:new r.p2(N(s.content,e-1,1),e-1,f<0?s.openEnd:e-1):new r.p2(N(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!R(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=R(e,t,r,n,o);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=R(e,n,r,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:i,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=O(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=O(this.placed,this.depth,r.HY.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(r.HY.empty,!0);e.childCount&&(this.placed=O(this.placed,this.frontier.length,e))}}function N(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(N(e.firstChild.content,t-1,n)))}function O(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(O(e.lastChild.content,t-1,n)))}function A(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function T(e,t,n){if(t<=0)return e;let o=e.content;return t>1&&(o=o.replaceChild(0,T(o.firstChild,t-1,1==o.childCount?n-1:0))),t>0&&(o=e.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(e.type.contentMatch.matchFragment(o).fillBefore(r.HY.empty,!0)))),e.copy(o)}function R(e,t,n,r,o){let i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,s)?a:null}function P(e){return e.spec.defining||e.spec.definingForContent}function z(e,t,n,o,i){if(t<n){let r=e.firstChild;e=e.replaceChild(0,r.copy(z(r.content,t+1,n,o,r)))}if(t>o){let t=i.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(r.HY.empty,!0))}return e}function F(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}let I=class extends Error{};I=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(I.prototype=Object.create(Error.prototype)).constructor=I,I.prototype.name="TransformError";class B{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new l}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new I(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=r.p2.empty){let o=M(this.doc,e,t,n);return o&&this.step(o),this}replaceWith(e,t,n){return this.replace(e,t,new r.p2(r.HY.from(n),0,0))}delete(e,t){return this.replace(e,t,r.p2.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,o){if(!o.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(E(i,s,o))return e.step(new m(t,n,o));let a=F(i,e.doc.resolve(n));0==a[a.length-1]&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let e=i.depth,t=i.pos-1;e>0;e--,t--){let n=i.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;a.indexOf(e)>-1?l=e:i.before(e)==t&&a.splice(1,0,-e)}let c=a.indexOf(l),u=[],h=o.openStart;for(let e=o.content,t=0;;t++){let n=e.firstChild;if(u.push(n),t==o.openStart)break;e=n.content}for(let e=h-1;e>=0;e--){let t=u[e].type,n=P(t);if(n&&i.node(c).type!=t)h=e;else if(n||!t.isTextblock)break}for(let t=o.openStart;t>=0;t--){let l=(t+h+1)%(o.openStart+1),d=u[l];if(d)for(let t=0;t<a.length;t++){let u=a[(t+c)%a.length],h=!0;u<0&&(h=!1,u=-u);let f=i.node(u-1),p=i.index(u-1);if(f.canReplaceWith(p,p,d.type,d.marks))return e.replace(i.before(u),h?s.after(u):n,new r.p2(z(o.content,0,o.openStart,l),l,o.openEnd))}}let d=e.steps.length;for(let r=a.length-1;r>=0&&(e.replace(t,n,o),!(e.steps.length>d));r--){let e=a[r];e<0||(t=i.before(e),n=s.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,o){if(!o.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)return null}return null}(e.doc,t,o.type);null!=r&&(t=n=r)}e.replaceRange(t,n,new r.p2(r.HY.from(o),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=F(r,o);for(let t=0;t<i.length;t++){let n=i[t],s=t==i.length-1;if(s&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),o.end(n));if(n>0&&(s||r.node(n-1).canReplace(r.index(n-1),o.indexAfter(n-1))))return e.delete(r.before(n),o.after(n))}for(let i=1;i<=r.depth&&i<=o.depth;i++)if(t-r.start(i)==r.depth-i&&n>r.end(i)&&o.end(i)-n!=o.depth-i)return e.delete(r.before(i),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:o,$to:i,depth:s}=t,a=o.before(s+1),l=i.after(s+1),c=a,u=l,h=r.HY.empty,d=0;for(let e=s,t=!1;e>n;e--)t||o.index(e)>0?(t=!0,h=r.HY.from(o.node(e).copy(h)),d++):c--;let f=r.HY.empty,p=0;for(let e=s,t=!1;e>n;e--)t||i.after(e+1)<i.end(e)?(t=!0,f=r.HY.from(i.node(e).copy(f)),p++):u++;e.step(new g(c,u,a,l,new r.p2(h.append(f),d,p),h.size-d,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let o=new m(t-n,t+n,r.p2.empty,!0);e.step(o)}(this,e,t),this}wrap(e,t){return function(e,t,n){let o=r.HY.empty;for(let e=n.length-1;e>=0;e--){if(o.size){let t=n[e].type.contentMatch.matchFragment(o);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=r.HY.from(n[e].type.create(n[e].attrs,o))}let i=t.start,s=t.end;e.step(new g(i,s,i,s,new r.p2(o,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,o=null){return function(e,t,n,o,i){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{if(t.isTextblock&&!t.hasMarkup(o,i)&&function(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(s).map(n),o)){e.clearIncompatible(e.mapping.slice(s).map(n,1),o);let a=e.mapping.slice(s),l=a.map(n,1),c=a.map(n+t.nodeSize,1);return e.step(new g(l,c,l+1,c-1,new r.p2(r.HY.from(o.create(i,null,t.marks)),0,0),1,!0)),!1}}))}(this,e,t,n,o),this}setNodeMarkup(e,t,n=null,o=[]){return function(e,t,n,o,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(o,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new g(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new r.p2(r.HY.from(a),0,0),1,!0))}(this,e,t,n,o),this}split(e,t=1,n){return function(e,t,n=1,o){let i=e.doc.resolve(t),s=r.HY.empty,a=r.HY.empty;for(let e=i.depth,t=i.depth-n,l=n-1;e>t;e--,l--){s=r.HY.from(i.node(e).copy(s));let t=o&&o[l];a=r.HY.from(t?t.type.create(t.attrs,a):i.node(e).copy(a))}e.step(new m(t,t,new r.p2(s.append(a),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let o,i,s=[],a=[];e.doc.nodesBetween(t,n,((e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),h=Math.min(l+e.nodeSize,n),d=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(d)||(o&&o.to==c&&o.mark.eq(u[e])?o.to=h:s.push(o=new p(c,h,u[e])));i&&i.to==c?i.to=h:a.push(i=new f(c,h,r))}})),s.forEach((t=>e.step(t))),a.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,o){let i=[],s=0;e.doc.nodesBetween(t,n,((e,a)=>{if(!e.isInline)return;s++;let l=null;if(o instanceof r.ZU){let t,n=e.marks;for(;t=o.isInSet(n);)(l||(l=[])).push(t),n=t.removeFromSet(n)}else o?o.isInSet(e.marks)&&(l=[o]):l=e.marks;if(l&&l.length){let r=Math.min(a+e.nodeSize,n);for(let e=0;e<l.length;e++){let n,o=l[e];for(let e=0;e<i.length;e++){let t=i[e];t.step==s-1&&o.eq(i[e].style)&&(n=t)}n?(n.to=r,n.step=s):i.push({style:o,from:Math.max(a,t),to:r,step:s})}}})),i.forEach((t=>e.step(new p(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return function(e,t,n,o=n.contentMatch){let i=e.doc.nodeAt(t),s=[],a=t+1;for(let t=0;t<i.childCount;t++){let l=i.child(t),c=a+l.nodeSize,u=o.matchType(l.type);if(u){o=u;for(let t=0;t<l.marks.length;t++)n.allowsMarkType(l.marks[t].type)||e.step(new p(a,c,l.marks[t]))}else s.push(new m(a,c,r.p2.empty));a=c}if(!o.validEnd){let t=o.fillBefore(r.HY.empty,!0);e.replace(a,a,new r.p2(t,0,0))}for(let t=s.length-1;t>=0;t--)e.step(s[t])}(this,e,t,n),this}}},84348:(e,t,n)=>{"use strict";n.d(t,{EH:()=>Bt,p:()=>zt,tk:()=>on});var r=n(2376),o=n(87823),i=n(16560);const s="undefined"!=typeof navigator?navigator:null,a="undefined"!=typeof document?document:null,l=s&&s.userAgent||"",c=/Edge\/(\d+)/.exec(l),u=/MSIE \d/.exec(l),h=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(l),d=!!(u||h||c),f=u?document.documentMode:h?+h[1]:c?+c[1]:0,p=!d&&/gecko\/(\d+)/i.test(l);p&&(/Firefox\/(\d+)/.exec(l)||[0,0])[1];const m=!d&&/Chrome\/(\d+)/.exec(l),g=!!m,v=m?+m[1]:0,y=!d&&!!s&&/Apple Computer/.test(s.vendor),w=y&&(/Mobile\/\w+/.test(l)||!!s&&s.maxTouchPoints>2),b=w||!!s&&/Mac/.test(s.platform),x=/Android \d/.test(l),k=!!a&&"webkitFontSmoothing"in a.documentElement.style,C=k?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,S=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},_=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let M=null;const E=function(e,t,n){let r=M||(M=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},D=function(e,t,n,r){return n&&(O(e,t,n,r,-1)||O(e,t,n,r,1))},N=/^(img|br|input|textarea|hr)$/i;function O(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:A(e))){let n=e.parentNode;if(!n||1!=n.nodeType||T(e)||N.test(e.nodeName)||"false"==e.contentEditable)return!1;t=S(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?A(e):0}}}function A(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function T(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const R=function(e){let t=e.isCollapsed;return t&&g&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function P(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function z(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function F(e,t){return"number"==typeof e?e:e[t]}function I(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function B(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;s=_(s)){if(1!=s.nodeType)continue;let e=s,n=e==i.body,a=n?z(i):I(e),l=0,c=0;if(t.top<a.top+F(r,"top")?c=-(a.top-t.top+F(o,"top")):t.bottom>a.bottom-F(r,"bottom")&&(c=t.bottom-a.bottom+F(o,"bottom")),t.left<a.left+F(r,"left")?l=-(a.left-t.left+F(o,"left")):t.right>a.right-F(r,"right")&&(l=t.right-a.right+F(o,"right")),l||c)if(n)i.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let o=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-o,top:t.top-i,right:t.right-o,bottom:t.bottom-i}}if(n)break}}function Z(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=_(r));return t}function V(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let $=null;function L(e,t){let n,r,o=2e8,i=0,s=t.top,a=t.top;for(let l=e.firstChild,c=0;l;l=l.nextSibling,c++){let e;if(1==l.nodeType)e=l.getClientRects();else{if(3!=l.nodeType)continue;e=E(l).getClientRects()}for(let u=0;u<e.length;u++){let h=e[u];if(h.top<=s&&h.bottom>=a){s=Math.max(h.bottom,s),a=Math.min(h.top,a);let e=h.left>t.left?h.left-t.left:h.right<t.left?t.left-h.right:0;if(e<o){n=l,o=e,r=e&&3==n.nodeType?{left:h.right<t.left?h.right:h.left,top:t.top}:t,1==l.nodeType&&e&&(i=c+(t.left>=(h.left+h.right)/2?1:0));continue}}!n&&(t.left>=h.right&&t.top>=h.top||t.left>=h.left&&t.top>=h.bottom)&&(i=c+1)}}return n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let n=q(r,1);if(n.top!=n.bottom&&H(t,n))return{node:e,offset:o+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:L(n,r)}function H(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Y(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let o=e[r];if(H(t,o))return Y(n,t,o)}}if((i=(i+1)%r)==o)break}return e}function j(e,t){let n,r=e.dom.ownerDocument,o=0;if(r.caretPositionFromPoint)try{let e=r.caretPositionFromPoint(t.left,t.top);e&&({offsetNode:n,offset:o}=e)}catch(e){}if(!n&&r.caretRangeFromPoint){let e=r.caretRangeFromPoint(t.left,t.top);e&&({startContainer:n,startOffset:o}=e)}let i,s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=e.dom.getBoundingClientRect();if(!H(t,n))return null;if(s=Y(e.dom,t,n),!s)return null}if(y)for(let e=s;n&&e;e=_(e))e.draggable&&(n=void 0);if(s=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(s,t),n){if(p&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let e,r=n.childNodes[o];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?i=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(i=function(e,t,n,r){let o=-1;for(let n=t;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(t.node.isBlock&&t.parent){let e=t.dom.getBoundingClientRect();if(e.left>r.left||e.top>r.top)o=t.posBefore;else{if(!(e.right<r.left||e.bottom<r.top))break;o=t.posAfter}}n=t.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,1)}(e,n,o,t))}null==i&&(i=function(e,t,n){let{node:r,offset:o}=L(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}(e,s,t));let a=e.docView.nearestDesc(s,!0);return{pos:i,inside:a?a.posAtStart-a.border:-1}}function q(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const W=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function U(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=k||p;if(3==r.nodeType){if(!s||!W.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let e=o,t=o,i=n<0?1:-1;return n<0&&!o?(t++,i=-1):n>=0&&o==r.nodeValue.length?(e--,i=1):n<0?e--:t++,K(q(E(r,e,t),i),i<0)}{let e=q(E(r,o,o),n);if(p&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=q(E(r,o-1,o-1),-1);if(t.top==e.top){let n=q(E(r,o,o+1),-1);if(n.top!=e.top)return K(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(null==i&&o&&(n<0||o==A(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return J(e.getBoundingClientRect(),!1)}if(null==i&&o<A(r)){let e=r.childNodes[o];if(1==e.nodeType)return J(e.getBoundingClientRect(),!0)}return J(r.getBoundingClientRect(),n>=0)}if(null==i&&o&&(n<0||o==A(r))){let e=r.childNodes[o-1],t=3==e.nodeType?E(e,A(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return K(q(t,1),!1)}if(null==i&&o<A(r)){let e=r.childNodes[o];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?E(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return K(q(t,-1),!0)}return K(q(3==r.nodeType?E(r):r,-n),n>=0)}function K(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function J(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function G(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}const X=/[\u0590-\u08ac]/;let Q=null,ee=null,te=!1;function ne(e,t,n){return Q==t&&ee==n?te:(Q=t,ee=n,te="up"==n||"down"==n?function(e,t,n){let r=t.selection,o="up"==n?r.$from:r.$to;return G(e,t,(()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.dom;break}t=n.dom.parentNode}let r=U(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=E(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=e.domSelection();return X.test(r.parent.textContent)&&a.modify?G(e,t,(()=>{let t=a.getRangeAt(0),o=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");let l=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||o==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(t),null!=s&&(a.caretBidiLevel=s),l})):"left"==n||"backward"==n?i:s}(e,t,n))}class re{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>S(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let o,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n,r=0,o=0;for(let t=0;r<this.children.length;r++){let n=this.children[r],i=t+n.size;if(i>e||n instanceof ue){o=e-t;break}t=i}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof oe&&n.side>=0;r--);if(t<=0){let e,n=!0;for(;e=r?this.children[r-1]:null,e&&e.dom.parentNode!=this.contentDOM;r--,n=!1);return e&&t&&n&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?S(e.dom)+1:0}}{let e,n=!0;for(;e=r<this.children.length?this.children[r]:null,e&&e.dom.parentNode!=this.contentDOM;r++,n=!1);return e&&n&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?S(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let i=n,s=0;;s++){let n=this.children[s],a=i+n.size;if(-1==r&&e<=a){let o=i+n.border;if(e>=o&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=i;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=S(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(a>t||s==this.children.length-1)){t=a;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=S(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=a}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let o=Math.min(e,t),i=Math.max(e,t);for(let s=0,a=0;s<this.children.length;s++){let l=this.children[s],c=a+l.size;if(o>a&&i<c)return l.setSelection(e-a-l.border,t-a-l.border,n,r);a=c}let s=this.domFromPos(e,e?-1:1),a=t==e?s:this.domFromPos(t,t?-1:1),l=n.getSelection(),c=!1;if((p||y)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(c=!(!t||"\n"!=e.nodeValue[t-1]),c&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(s=a={node:t.parentNode,offset:S(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(p&&l.focusNode&&l.focusNode!=a.node&&1==l.focusNode.nodeType){let e=l.focusNode.childNodes[l.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||c&&y)&&D(s.node,s.offset,l.anchorNode,l.anchorOffset)&&D(a.node,a.offset,l.focusNode,l.focusOffset))return;let u=!1;if((l.extend||e==t)&&!c){l.collapse(s.node,s.offset);try{e!=t&&l.extend(a.node,a.offset),u=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!u){if(e>t){let e=s;s=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+o.border,s=i-o.border;if(e>=r&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=r||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-r,t-r):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class oe extends re{constructor(e,t,n,r){let o,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,(()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r))),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ie extends re{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class se extends re{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let i=r.nodeViews[t.type.name],s=i&&i(t,r,n);return s&&s.dom||(s=o.PW.renderSpec(document,t.type.spec.toDOM(t,n))),new se(e,t,s.dom,s.contentDOM||s.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=se.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;t<i&&(o=Ce(o,t,i,n)),e>0&&(o=Ce(o,0,e,n));for(let e=0;e<o.length;e++)o[e].parent=r;return r.children=o,r}}class ae extends re{constructor(e,t,n,r,o,i,s,a,l){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s,i&&this.updateChildren(a,l)}static create(e,t,n,r,i,s){let a,l=i.nodeViews[t.type.name],c=l&&l(t,i,(()=>a?a.parent?a.parent.posBeforeChild(a):void 0:s),n,r),u=c&&c.dom,h=c&&c.contentDOM;if(t.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(t.text);else u||({dom:u,contentDOM:h}=o.PW.renderSpec(document,t.type.spec.toDOM(t)));h||t.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let d=u;return u=ye(u,n,t),c?a=new he(e,t,n,r,u,h||null,d,c,i,s+1):t.isText?new ce(e,t,n,r,u,d,i):new ae(e,t,n,r,u,h||null,d,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>o.HY.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&we(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,i=e.composing?this.localCompositionInfo(e,t):null,s=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new xe(this,s&&s.node);!function(e,t,n,r){let o=t.locals(e),i=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,o,t.forChild(i,s),n),i+=s.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){if(s<o.length&&o[s].to==i){let e,t=o[s++];for(;s<o.length&&o[s].to==i;)(e||(e=[t])).push(o[s++]);if(e){e.sort(ke);for(let t=0;t<e.length;t++)n(e[t],c,!!l)}else n(t,c,!!l)}let u,h;if(l)h=-1,u=l,l=null;else{if(!(c<e.childCount))break;h=c,u=e.child(c++)}for(let e=0;e<a.length;e++)a[e].to<=i&&a.splice(e--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);let d=i+u.nodeSize;if(u.isText){let e=d;s<o.length&&o[s].from<e&&(e=o[s].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<d&&(l=u.cut(e-i),u=u.cut(0,e-i),d=e,h=-1)}r(u,u.isInline&&!u.isLeaf?a.filter((e=>!e.inline)):a.slice(),t.forChild(i,u),h),i=d}}(this.node,this.innerDeco,((t,i,s)=>{t.spec.marks?l.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!s&&l.syncToMarks(i==this.node.childCount?o.vc.none:this.node.child(i).marks,n,e),l.placeWidget(t,e,r)}),((t,o,s,c)=>{let u;l.syncToMarks(t.marks,n,e),l.findNodeMatch(t,o,s,c)||a&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(t,o,s,u,e)||l.updateNextNode(t,o,s,e,c)||l.addNode(t,o,s,e,r),r+=t.nodeSize})),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(e,s),de(this.contentDOM,this.children,e),w&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:o}=e.state.selection;if(!(e.state.selection instanceof r.Bs)||n<t||o>t+this.node.content.size)return null;let i=e.domSelection(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=A(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(i.focusNode,i.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let e=s.nodeValue,r=function(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let s=e.child(o++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;o<e.childCount;){let t=e.child(o++);if(i+=t.nodeSize,!t.isText)break;l+=t.text}if(i>=n){let e=a<r?l.lastIndexOf(t,r-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}(this.node.content,e,n-t,o-t);return r<0?null:{node:s,pos:r,text:e}}return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let i=new ie(this,o,t,r);e.input.compositionNodes.push(i),this.children=Ce(this.children,n,n+r.length,e,i)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(we(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=ge(this.dom,this.nodeDOM,me(this.outerDeco,this.node,t),me(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function le(e,t,n,r,o){return ye(r,t,e),new ae(void 0,e,t,n,r,r,r,o,0)}class ce extends ae{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o,null,i,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new ce(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class ue extends re{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class he extends ae{constructor(e,t,n,r,o,i,s,a,l,c){super(e,t,n,r,o,i,s,l,c),this.spec=a}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function de(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let s=t[i],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=be(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(a,r);if(s instanceof se){let t=r?r.previousSibling:e.lastChild;de(s.contentDOM,s.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=be(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const fe=function(e){e&&(this.nodeName=e)};fe.prototype=Object.create(null);const pe=[new fe];function me(e,t,n){if(0==e.length)return pe;let r=n?pe[0]:new fe,o=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&o.push(r=new fe(s.nodeName));for(let e in s){let i=s[e];null!=i&&(n&&1==o.length&&o.push(r=new fe(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return o}function ge(e,t,n,r){if(n==pe&&r==pe)return t;let o=t;for(let t=0;t<r.length;t++){let i=r[t],s=n[t];if(t){let t;s&&s.nodeName==i.nodeName&&o!=e&&(t=o.parentNode)&&t.nodeName.toLowerCase()==i.nodeName||(t=document.createElement(i.nodeName),t.pmIsDeco=!0,t.appendChild(o),s=pe[0]),o=t}ve(o,s||pe[0],i)}return o}function ve(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function ye(e,t,n){return ge(e,e,pe,me(t,n,1!=e.nodeType))}function we(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function be(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class xe{constructor(e,t){this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:for(;o>0;){let a;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof se)){a=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,o=this.stack.length>>1,i=Math.min(o,e.length);for(;r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++)if(this.top.children[t].matchesMark(e[o])){r=t;break}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=se.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,r){let o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let r=this.index,o=Math.min(this.top.children.length,r+5);r<o;r++){let o=this.top.children[r];if(o.matchesNode(e,t,n)&&!this.preMatch.matched.has(o)){i=r;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,r,o){let i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,o){for(let i=this.index;i<this.top.children.length;i++){let s=this.top.children[i];if(s instanceof ae){let a=this.preMatch.matched.get(s);if(null!=a&&a!=o)return!1;let l=s.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&we(t,s.outerDeco)))&&s.update(e,t,n,r))return this.destroyBetween(this.index,i),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,r,o){this.top.children.splice(this.index++,0,ae.create(this.top,e,t,n,r,o)),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new oe(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof se;)t=e,e=t.children[t.children.length-1];e&&e instanceof ce&&!/\n$/.test(e.node.text)||((y||g)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new ue(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}}function ke(e,t){return e.type.side-t.type.side}function Ce(e,t,n,r,o){let i=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function Se(e,t=null){let n=e.domSelection(),o=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&0==i.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l,c,u=o.resolve(a);if(R(n)){for(l=u;i&&!i.node;)i=i.parent;let e=i.node;if(i&&e.isAtom&&r.qv.isSelectable(e)&&i.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,o=t==A(e);r||o;){if(e==n)return!0;let t=S(e);if(!(e=e.parentNode))return!1;r=r&&0==t,o=o&&t==A(e)}}(n.focusNode,n.focusOffset,i.dom))){let e=i.posBefore;c=new r.qv(a==e?u:o.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;l=o.resolve(t)}if(!c){c=Re(e,l,u,"pointer"==t||e.state.selection.head<u.pos&&!s?1:-1)}return c}function _e(e){return e.editable?e.hasFocus():ze(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Me(e,t=!1){let n=e.state.selection;if(Ae(e,n),_e(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&g){let t=e.domSelection(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&D(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,S(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&d&&f<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{let o,i,{anchor:s,head:a}=n;!Ee||n instanceof r.Bs||(n.$from.parent.inlineContent||(o=De(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=De(e,n.to))),e.docView.setSelection(s,a,e.root,t),Ee&&(o&&Oe(o),i&&Oe(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{_e(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Ee=y||g&&v<63;function De(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(y&&o&&"false"==o.contentEditable)return Ne(o);if(!(o&&"false"!=o.contentEditable||i&&"false"!=i.contentEditable)){if(o)return Ne(o);if(i)return Ne(i)}}function Ne(e){return e.contentEditable="true",y&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Oe(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Ae(e,t){if(t instanceof r.qv){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Te(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Te(e)}function Te(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Re(e,t,n,o){return e.someProp("createSelectionBetween",(r=>r(e,t,n)))||r.Bs.between(t,n,o)}function Pe(e){return(!e.editable||e.root.activeElement==e.dom)&&ze(e)}function ze(e){let t=e.domSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Fe(e,t){let{$anchor:n,$head:o}=e.selection,i=t>0?n.max(o):n.min(o),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&r.Y1.findFrom(s,t)}function Ie(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Be(e,t,n){let o=e.state.selection;if(!(o instanceof r.Bs)){if(o instanceof r.qv&&o.node.isInline)return Ie(e,new r.Bs(t>0?o.$to:o.$from));{let n=Fe(e.state,t);return!!n&&Ie(e,n)}}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=Fe(e.state,t);return!!(n&&n instanceof r.qv)&&Ie(e,n)}if(!(b&&n.indexOf("m")>-1)){let n,i=o.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return!!(s.isAtom||(n=e.docView.descAt(a))&&!n.contentDOM)&&(r.qv.isSelectable(s)?Ie(e,new r.qv(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):!!k&&Ie(e,new r.Bs(e.state.doc.resolve(t<0?a:a+s.nodeSize))))}}function Ze(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Ve(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function $e(e){let t=e.domSelection(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=!1;for(p&&1==n.nodeType&&r<Ze(n)&&Ve(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(Ve(e))o=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(He(n))break;{let t=n.previousSibling;for(;t&&Ve(t);)o=n.parentNode,i=S(t),t=t.previousSibling;if(t)n=t,r=Ze(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?Ye(e,t,n,r):o&&Ye(e,t,o,i)}function Le(e){let t=e.domSelection(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=Ze(n);for(;;)if(r<s){if(1!=n.nodeType)break;if(!Ve(n.childNodes[r]))break;o=n,i=++r}else{if(He(n))break;{let t=n.nextSibling;for(;t&&Ve(t);)o=t.parentNode,i=S(t)+1,t=t.nextSibling;if(t)n=t,r=0,s=Ze(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}o&&Ye(e,t,o,i)}function He(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Ye(e,t,n,r){if(R(t)){let e=document.createRange();e.setEnd(n,r),e.setStart(n,r),t.removeAllRanges(),t.addRange(e)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();let{state:o}=e;setTimeout((()=>{e.state==o&&Me(e)}),50)}function je(e,t,n){let o=e.state.selection;if(o instanceof r.Bs&&!o.empty||n.indexOf("s")>-1)return!1;if(b&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=o;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Fe(e.state,t);if(n&&n instanceof r.qv)return Ie(e,n)}if(!i.parent.inlineContent){let n=t<0?i:s,a=o instanceof r.C1?r.Y1.near(n,t):r.Y1.findFrom(n,t);return!!a&&Ie(e,a)}return!1}function qe(e,t){if(!(e.state.selection instanceof r.Bs))return!0;let{$head:n,$anchor:o,empty:i}=e.state.selection;if(!n.sameParent(o))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let r=e.state.tr;return t<0?r.delete(n.pos-s.nodeSize,n.pos):r.delete(n.pos,n.pos+s.nodeSize),e.dispatch(r),!0}return!1}function We(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Ue(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||b&&72==n&&"c"==r?qe(e,-1)||$e(e):46==n||b&&68==n&&"c"==r?qe(e,1)||Le(e):13==n||27==n||(37==n||b&&66==n&&"c"==r?Be(e,-1,r)||$e(e):39==n||b&&70==n&&"c"==r?Be(e,1,r)||Le(e):38==n||b&&80==n&&"c"==r?je(e,-1,r)||$e(e):40==n||b&&78==n&&"c"==r?function(e){if(!y||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelection();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;We(e,n,"true"),setTimeout((()=>We(e,n,"false")),20)}return!1}(e)||je(e,1,r)||Le(e):r==(b?"m":"c")&&(66==n||73==n||89==n||90==n))}function Ke(e,t){let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,s--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let a=e.someProp("clipboardSerializer")||o.PW.fromSchema(e.state.schema),l=it(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));let u,h=c.firstChild,d=0;for(;h&&1==h.nodeType&&(u=rt[h.nodeName.toLowerCase()]);){for(let e=u.length-1;e>=0;e--){let t=l.createElement(u[e]);for(;c.firstChild;)t.appendChild(c.firstChild);c.appendChild(t),d++}h=c.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`),{dom:c,text:e.someProp("clipboardTextSerializer",(e=>e(t)))||t.content.textBetween(0,t.content.size,"\n\n")}}function Je(e,t,n,r,i){let s,a,l=i.parent.type.spec.code;if(!n&&!t)return null;let c=t&&(r||l||!n);if(c){if(e.someProp("transformPastedText",(e=>{t=e(t,l||r)})),l)return t?new o.p2(o.HY.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):o.p2.empty;let n=e.someProp("clipboardTextParser",(e=>e(t,i,r)));if(n)a=n;else{let n=i.marks(),{schema:r}=e.state,a=o.PW.fromSchema(r);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=s.appendChild(document.createElement("p"));e&&t.appendChild(a.serializeNode(r.text(e,n)))}))}}else e.someProp("transformPastedHTML",(e=>{n=e(n)})),s=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=it().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&rt[o[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join(""));if(r.innerHTML=e,n)for(let e=0;e<n.length;e++)r=r.querySelector(n[e])||r;return r}(n),k&&function(e){let t=e.querySelectorAll(g?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(s);let u=s&&s.querySelector("[data-pm-slice]"),h=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let e=+h[3];e>0&&s.firstChild;e--)s=s.firstChild;if(!a){let t=e.someProp("clipboardParser")||e.someProp("domParser")||o.aw.fromSchema(e.state.schema);a=t.parseSlice(s,{preserveWhitespace:!(!c&&!h),context:i,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||Ge.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(h)a=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:i,openStart:s,openEnd:a}=e;for(let e=n.length-2;e>=0;e-=2){let t=r.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;i=o.HY.from(t.create(n[e+1],i)),s++,a++}return new o.p2(i,s,a)}(nt(a,+h[1],+h[2]),h[4]);else if(a=o.p2.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,i=t.node(n).contentMatchAt(t.index(n)),s=[];if(e.forEach((e=>{if(!s)return;let t,n=i.findWrapping(e.type);if(!n)return s=null;if(t=s.length&&r.length&&Qe(n,r,e,s[s.length-1],0))s[s.length-1]=t;else{s.length&&(s[s.length-1]=et(s[s.length-1],r.length));let t=Xe(e,n);s.push(t),i=i.matchType(t.type),r=n}})),s)return o.HY.from(s)}return e}(a.content,i),!0),a.openStart||a.openEnd){let e=0,t=0;for(let t=a.content.firstChild;e<a.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=a.content.lastChild;t<a.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);a=nt(a,e,t)}return e.someProp("transformPasted",(e=>{a=e(a)})),a}const Ge=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Xe(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,o.HY.from(e));return e}function Qe(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=Qe(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(o.HY.from(Xe(n,e,i+1))))}}function et(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,et(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(o.HY.empty,!0);return e.copy(n.append(r))}function tt(e,t,n,r,i,s){let a=t<0?e.firstChild:e.lastChild,l=a.content;return i<r-1&&(l=tt(l,t,n,r,i+1,s)),i>=n&&(l=t<0?a.contentMatchAt(0).fillBefore(l,e.childCount>1||s<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(o.HY.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(l))}function nt(e,t,n){return t<e.openStart&&(e=new o.p2(tt(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new o.p2(tt(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const rt={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ot=null;function it(){return ot||(ot=document.implementation.createHTMLDocument("title"))}const st={};let at={};class lt{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ct(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function ut(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>ht(e,t))}))}function ht(e,t){return e.someProp("handleDOMEvents",(n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function dt(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function ft(e){return{left:e.clientX,top:e.clientY}}function pt(e,t,n,r,o){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let r=i.depth+1;r>0;r--)if(e.someProp(t,(t=>r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1))))return!0;return!1}function mt(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function gt(e,t,n,o,i){return pt(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(n=>n(e,t,o)))||(i?function(e,t){if(-1==t)return!1;let n,o,i=e.state.selection;i instanceof r.qv&&(n=i.node);let s=e.state.doc.resolve(t);for(let e=s.depth+1;e>0;e--){let t=e>s.depth?s.nodeAfter:s.node(e);if(r.qv.isSelectable(t)){o=n&&i.$from.depth>0&&e>=i.$from.depth&&s.before(i.$from.depth+1)==i.$from.pos?s.before(i.$from.depth):s.before(e);break}}return null!=o&&(mt(e,r.qv.create(e.state.doc,o),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&r.qv.isSelectable(o))&&(mt(e,new r.qv(n),"pointer"),!0)}(e,n))}function vt(e,t,n,r){return pt(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(n=>n(e,t,r)))}function yt(e,t,n,o){return pt(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(n=>n(e,t,o)))||function(e,t,n){if(0!=n.button)return!1;let o=e.state.doc;if(-1==t)return!!o.inlineContent&&(mt(e,r.Bs.create(o,0,o.content.size),"pointer"),!0);let i=o.resolve(t);for(let t=i.depth+1;t>0;t--){let n=t>i.depth?i.nodeAfter:i.node(t),s=i.before(t);if(n.inlineContent)mt(e,r.Bs.create(o,s+1,s+1+n.content.size),"pointer");else{if(!r.qv.isSelectable(n))continue;mt(e,r.qv.create(o,s),"pointer")}return!0}}(e,n,o)}function wt(e){return Mt(e)}at.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!kt(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!x||!g||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!w||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||Ue(e,n)?n.preventDefault():ct(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,P(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},at.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},at.keypress=(e,t)=>{let n=t;if(kt(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||b&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let o=e.state.selection;if(!(o instanceof r.Bs&&o.$from.sameParent(o.$to))){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",(n=>n(e,o.$from.pos,o.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const bt=b?"metaKey":"ctrlKey";st.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=wt(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[bt]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};let s=e.posAtCoords(ft(n));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new xt(e,s,n,!!r)):("doubleClick"==i?vt:yt)(e,s.pos,s.inside,n)?n.preventDefault():ct(e,"pointer"))};class xt{constructor(e,t,n,o){let i,s;if(this.view=e,this.pos=t,this.event=n,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[bt],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),s=t.inside;else{let n=e.state.doc.resolve(t.pos);i=n.parent,s=n.depth?n.before():0}const a=o?null:n.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||c instanceof r.qv&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!p||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ct(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Me(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(ft(e))),this.allowDefault||!t?ct(this.view,"pointer"):gt(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||y&&this.mightDrag&&!this.mightDrag.node.isAtom||g&&!(this.view.state.selection instanceof r.Bs)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(mt(this.view,r.Y1.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):ct(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),ct(this.view,"pointer"),0==e.buttons&&this.done()}}function kt(e,t){return!!e.composing||!!(y&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}st.touchdown=e=>{wt(e),ct(e,"pointer")},st.contextmenu=e=>wt(e);const Ct=x?5e3:-1;function St(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>Mt(e)),t))}function _t(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Mt(e,t=!1){if(!(x&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),_t(e),t||e.docView&&e.docView.dirty){let t=Se(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}at.compositionstart=at.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),Mt(e,!0),e.markCursor=null;else if(Mt(e),p&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelection();for(let e=t.focusNode,n=t.focusOffset;e&&1==e.nodeType&&0!=n;){let r=n<0?e.lastChild:e.childNodes[n-1];if(!r)break;if(3==r.nodeType){t.collapse(r,r.nodeValue.length);break}e=r,n=-1}}e.input.composing=!0}St(e,Ct)},at.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,St(e,20))};const Et=d&&f<15||w&&C<604;function Dt(e,t,n,r){let i=Je(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,r,i||o.p2.empty))))return!0;if(!i)return!1;let s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),a=s?e.state.tr.replaceSelectionWith(s,e.input.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}st.copy=at.cut=(e,t)=>{let n=t,r=e.state.selection,o="cut"==n.type;if(r.empty)return;let i=Et?null:n.clipboardData,s=r.content(),{dom:a,text:l}=Ke(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,a),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},at.paste=(e,t)=>{let n=t;if(e.composing&&!x)return;let r=Et?null:n.clipboardData;r&&Dt(e,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Dt(e,r.value,null,t):Dt(e,r.textContent,r.innerHTML,t)}),50)}(e,n)};class Nt{constructor(e,t){this.slice=e,this.move=t}}const Ot=b?"altKey":"ctrlKey";st.dragstart=(e,t)=>{let n=t,o=e.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(ft(n));if(s&&s.pos>=i.from&&s.pos<=(i instanceof r.qv?i.to-1:i.to));else if(o&&o.mightDrag)e.dispatch(e.state.tr.setSelection(r.qv.create(e.state.doc,o.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(r.qv.create(e.state.doc,t.posBefore)))}let a=e.state.selection.content(),{dom:l,text:c}=Ke(e,a);n.dataTransfer.clearData(),n.dataTransfer.setData(Et?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Et||n.dataTransfer.setData("text/plain",c),e.dragging=new Nt(a,!n[Ot])},st.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},at.dragover=at.dragenter=(e,t)=>t.preventDefault(),at.drop=(e,t)=>{let n=t,s=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let a=e.posAtCoords(ft(n));if(!a)return;let l=e.state.doc.resolve(a.pos);if(!l)return;let c=s&&s.slice;c?e.someProp("transformPasted",(e=>{c=e(c)})):c=Je(e,n.dataTransfer.getData(Et?"Text":"text/plain"),Et?null:n.dataTransfer.getData("text/html"),!1,l);let u=!(!s||n[Ot]);if(e.someProp("handleDrop",(t=>t(e,n,c||o.p2.empty,u))))return void n.preventDefault();if(!c)return;n.preventDefault();let h=c?(0,i.nj)(e.state.doc,l.pos,c):l.pos;null==h&&(h=l.pos);let d=e.state.tr;u&&d.deleteSelection();let f=d.mapping.map(h),p=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,m=d.doc;if(p?d.replaceRangeWith(f,f,c.content.firstChild):d.replaceRange(f,f,c),d.doc.eq(m))return;let g=d.doc.resolve(f);if(p&&r.qv.isSelectable(c.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(c.content.firstChild))d.setSelection(new r.qv(g));else{let t=d.mapping.map(h);d.mapping.maps[d.mapping.maps.length-1].forEach(((e,n,r,o)=>t=o)),d.setSelection(Re(e,g,d.doc.resolve(t)))}e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))},st.focus=e=>{e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelection())&&Me(e)}),20))},st.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},st.beforeinput=(e,t)=>{if(g&&x&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,P(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let e in at)st[e]=at[e];function At(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Tt{constructor(e,t){this.toDOM=e,this.spec=t||It,this.side=this.spec.side||0}map(e,t,n,r){let{pos:o,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new zt(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Tt&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&At(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Rt{constructor(e,t){this.attrs=e,this.spec=t||It}map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new zt(o,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Rt&&At(this.attrs,e.attrs)&&At(this.spec,e.spec)}static is(e){return e.type instanceof Rt}destroy(){}}class Pt{constructor(e,t){this.attrs=e,this.spec=t||It}map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new zt(o.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof Pt&&At(this.attrs,e.attrs)&&At(this.spec,e.spec)}destroy(){}}class zt{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new zt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new zt(e,e,new Tt(t,n))}static inline(e,t,n,r){return new zt(e,t,new Rt(n,r))}static node(e,t,n,r){return new zt(e,t,new Pt(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Rt}}const Ft=[],It={};class Bt{constructor(e,t){this.local=e.length?e:Ft,this.children=t.length?t:Ft}static create(e,t){return t.length?Yt(t,e,0,It):Zt}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let i=0;i<this.local.length;i++){let s=this.local[i];s.from<=t&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let s=this.children[i]+1;this.children[i+2].findInner(e-s,t-s,n,r+s,o)}}map(e,t,n){return this==Zt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||It)}mapInner(e,t,n,r,o){let i;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,r);a&&a.type.valid(t,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,r,o,i,s){let a=e.slice(),l=(e,t,n,r)=>{for(let s=0;s<a.length;s+=3){let l,c=a[s+1];if(c<0||e>c+i)continue;let u=a[s]+i;t>=u?a[s+1]=e<=u?-2:-1:n>=o&&(l=r-n-(t-e))&&(a[s]+=l,a[s+1]+=l)}};for(let e=0;e<n.maps.length;e++)n.maps[e].forEach(l);let c=!1;for(let t=0;t<a.length;t+=3)if(a[t+1]<0){if(-2==a[t+1]){c=!0,a[t+1]=-1;continue}let l=n.map(e[t]+i),u=l-o;if(u<0||u>=r.content.size){c=!0;continue}let h=n.map(e[t+1]+i,-1)-o,{index:d,offset:f}=r.content.findIndex(u),p=r.maybeChild(d);if(p&&f==u&&f+p.nodeSize==h){let r=a[t+2].mapInner(n,p,l+1,e[t]+i+1,s);r!=Zt?(a[t]=u,a[t+1]=h,a[t+2]=r):(a[t+1]=-2,c=!0)}else c=!0}if(c){let l=function(e,t,n,r,o,i,s){function a(e,t){for(let i=0;i<e.local.length;i++){let a=e.local[i].map(r,o,t);a?n.push(a):s.onRemove&&s.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&a(e[n+2],t[n]+i+1);return n}(a,e,t,n,o,i,s),c=Yt(l,r,0,s);t=c.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new Bt(t.sort(jt),a)}(this.children,i||[],e,t,n,r,o):i?new Bt(i.sort(jt),Ft):Zt}add(e,t){return t.length?this==Zt?Bt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach(((e,i)=>{let s,a=i+n;if(s=Lt(t,e,a)){for(r||(r=this.children.slice());o<r.length&&r[o]<i;)o+=3;r[o]==i?r[o+2]=r[o+2].addInner(e,s,a+1):r.splice(o,0,i,i+e.nodeSize,Yt(s,e,a+1,It)),o+=3}}));let i=$t(o?Ht(t):t,-n);for(let t=0;t<i.length;t++)i[t].type.valid(e,i[t])||i.splice(t--,1);return new Bt(i.length?this.local.concat(i).sort(jt):this.local,r||this.children)}remove(e){return 0==e.length||this==Zt?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let o,i=n[r]+t,s=n[r+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<s&&(e[n]=null,(o||(o=[])).push(t));if(!o)continue;n==this.children&&(n=this.children.slice());let a=n[r+2].removeInner(o,i+1);a!=Zt?n[r+2]=a:(n.splice(r,3),r-=3)}if(r.length)for(let n,o=0;o<e.length;o++)if(n=e[o])for(let e=0;e<r.length;e++)r[e].eq(n,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Bt(r,n):Zt}forChild(e,t){if(this==Zt)return this;if(t.isLeaf)return Bt.empty;let n,r;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let o=e+1,i=o+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<i&&t.to>o&&t.type instanceof Rt){let e=Math.max(o,t.from)-o,n=Math.min(i,t.to)-o;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new Bt(r.sort(jt),Ft);return n?new Vt([e,n]):e}return n||Zt}eq(e){if(this==e)return!0;if(!(e instanceof Bt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return qt(this.localsInner(e))}localsInner(e){if(this==Zt)return Ft;if(e.inlineContent||!this.local.some(Rt.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof Rt||t.push(this.local[e]);return t}}Bt.empty=new Bt([],[]),Bt.removeOverlap=qt;const Zt=Bt.empty;class Vt{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,It)));return Vt.from(n)}forChild(e,t){if(t.isLeaf)return Bt.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=Zt&&(o instanceof Vt?n=n.concat(o.members):n.push(o))}return Vt.from(n)}eq(e){if(!(e instanceof Vt)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?qt(n?t:t.sort(jt)):Ft}static from(e){switch(e.length){case 0:return Zt;case 1:return e[0];default:return new Vt(e)}}}function $t(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new zt(o.from+t,o.to+t,o.type))}return n}function Lt(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let t,i=0;i<e.length;i++)(t=e[i])&&t.from>n&&t.to<r&&((o||(o=[])).push(t),e[i]=null);return o}function Ht(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Yt(e,t,n,r){let o=[],i=!1;t.forEach(((t,s)=>{let a=Lt(e,t,s+n);if(a){i=!0;let e=Yt(a,t,n+s+1,r);e!=Zt&&o.push(s,s+t.nodeSize,e)}}));let s=$t(i?Ht(e):e,-n).sort(jt);for(let e=0;e<s.length;e++)s[e].type.valid(t,s[e])||(r.onRemove&&r.onRemove(s[e].spec),s.splice(e--,1));return s.length||o.length?new Bt(s,o):Zt}function jt(e,t){return e.from-t.from||e.to-t.to}function qt(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),Wt(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),Wt(t,o+1,i.copy(r.to,i.to)))}}return t}function Wt(e,t,n){for(;t<e.length&&jt(n,e[t])>0;)t++;e.splice(t,0,n)}function Ut(e){let t=[];return e.someProp("decorations",(n=>{let r=n(e.state);r&&r!=Zt&&t.push(r)})),e.cursorWrapper&&t.push(Bt.create(e.state.doc,[e.cursorWrapper.deco])),Vt.from(t)}const Kt={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Jt=d&&f<=11;class Gt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Xt{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Gt,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);d&&f<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Jt&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Kt)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Pe(this.view)){if(this.suppressingSelectionUpdates)return Me(this.view);if(d&&f<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&D(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(0==e.rangeCount)return!0;let t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let t=this.view.domSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Pe(this.view)&&!this.ignoreSelectionChange(t),r=-1,o=-1,i=!1,s=[];if(this.view.editable)for(let t=0;t<e.length;t++){let n=this.registerMutation(e[t],s);n&&(r=r<0?n.from:Math.min(n.from,r),o=o<0?n.to:Math.max(n.to,o),n.typeOver&&(i=!0))}if(p&&s.length>1){let e=s.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(e){if(Qt)return;Qt=!0,getComputedStyle(e.dom).whiteSpace}(this.view)),this.handleDOMChange(r,o,i,s),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||Me(this.view),this.currentSelection.set(t))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(d&&f<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(o=i)}let i=r&&r.parentNode==e.target?S(r)+1:0,s=n.localPosFromDOM(e.target,i,-1),a=o&&o.parentNode==e.target?S(o):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,a,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Qt=!1;function en(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(y&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||y&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function tn(e,t,n,i,s){if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Se(e,t);if(n&&!e.state.selection.eq(n)){let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),e.dispatch(r)}return}let a=e.state.doc.resolve(t),l=a.sharedDepth(n);t=a.before(l+1),n=e.state.doc.resolve(n).after(l+1);let c=e.state.selection,u=function(e,t,n){let r,{node:i,fromOffset:s,toOffset:a,from:l,to:c}=e.docView.parseRange(t,n),u=e.domSelection(),h=u.anchorNode;if(h&&e.dom.contains(1==h.nodeType?h:h.parentNode)&&(r=[{node:h,offset:u.anchorOffset}],R(u)||r.push({node:u.focusNode,offset:u.focusOffset})),g&&8===e.input.lastKeyCode)for(let e=a;e>s;e--){let t=i.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){a=e;break}if(!n||n.size)break}let d=e.state.doc,f=e.someProp("domParser")||o.aw.fromSchema(e.state.schema),p=d.resolve(l),m=null,v=f.parse(i,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:a,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:en,context:p});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),m={anchor:e+l,head:t+l}}return{doc:v,sel:m,from:l,to:c}}(e,t,n);if(g&&e.cursorWrapper&&u.sel&&u.sel.anchor==e.cursorWrapper.deco.from){let t=e.cursorWrapper.deco.type.toDOM.nextSibling,n=t&&t.nodeValue?t.nodeValue.length:1;u.sel={anchor:u.sel.anchor+n,head:u.sel.anchor+n}}let h,p,m=e.state.doc,v=m.slice(u.from,u.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(h=e.state.selection.to,p="end"):(h=e.state.selection.from,p="start"),e.input.lastKeyCode=null;let y=function(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o){r-=s+Math.max(0,i-Math.min(s,a))-i}if(s<i&&e.size<t.size){i-=r<=i&&r>=s?i-r:0,a=i+(a-s),s=i}else if(a<i){i-=r<=i&&r>=a?i-r:0,s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}(v.content,u.doc.content,u.from,h,p);if((w&&e.input.lastIOSEnter>Date.now()-225||x)&&s.some((e=>"DIV"==e.nodeName||"P"==e.nodeName))&&(!y||y.endA>=y.endB)&&e.someProp("handleKeyDown",(t=>t(e,P(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!y){if(!(i&&c instanceof r.Bs&&!c.empty&&c.$head.sameParent(c.$anchor))||e.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){let t=nn(e,e.state.doc,u.sel);t&&!t.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(t))}return}y={start:c.from,endA:c.to,endB:c.to}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof r.Bs&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),d&&f<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>u.from&&" "==u.doc.textBetween(y.start-u.from-1,y.start-u.from+1)&&(y.start--,y.endA--,y.endB--);let b,k=u.doc.resolveNoCache(y.start-u.from),C=u.doc.resolveNoCache(y.endB-u.from),S=m.resolve(y.start),_=k.sameParent(C)&&k.parent.inlineContent&&S.end()>=y.endA;if((w&&e.input.lastIOSEnter>Date.now()-225&&(!_||s.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!_&&k.pos<u.doc.content.size&&(b=r.Y1.findFrom(u.doc.resolve(k.pos+1),1,!0))&&b.head==C.pos)&&e.someProp("handleKeyDown",(t=>t(e,P(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>y.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||rn(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(rn(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||rn(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(m,y.start,y.endA,k,C)&&e.someProp("handleKeyDown",(t=>t(e,P(8,"Backspace")))))return void(x&&g&&e.domObserver.suppressSelectionUpdates());g&&x&&y.endB==y.start&&(e.input.lastAndroidDelete=Date.now()),x&&!_&&k.start()!=C.start()&&0==C.parentOffset&&k.depth==C.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==y.endA&&(y.endB-=2,C=u.doc.resolveNoCache(y.endB-u.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,P(13,"Enter"))}))}),20));let M,E,D,N=y.start,O=y.endA;if(_)if(k.pos==C.pos)d&&f<=11&&0==k.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Me(e)),20)),M=e.state.tr.delete(N,O),E=m.resolve(y.start).marksAcross(m.resolve(y.endA));else if(y.endA==y.endB&&(D=function(e,t){let n,r,i,s=e.firstChild.marks,a=t.firstChild.marks,l=s,c=a;for(let e=0;e<a.length;e++)l=a[e].removeFromSet(l);for(let e=0;e<s.length;e++)c=s[e].removeFromSet(c);if(1==l.length&&0==c.length)r=l[0],n="add",i=e=>e.mark(r.addToSet(e.marks));else{if(0!=l.length||1!=c.length)return null;r=c[0],n="remove",i=e=>e.mark(r.removeFromSet(e.marks))}let u=[];for(let e=0;e<t.childCount;e++)u.push(i(t.child(e)));if(o.HY.from(u).eq(e))return{mark:r,type:n}}(k.parent.content.cut(k.parentOffset,C.parentOffset),S.parent.content.cut(S.parentOffset,y.endA-S.start()))))M=e.state.tr,"add"==D.type?M.addMark(N,O,D.mark):M.removeMark(N,O,D.mark);else if(k.parent.child(k.index()).isText&&k.index()==C.index()-(C.textOffset?0:1)){let t=k.parent.textBetween(k.parentOffset,C.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,N,O,t))))return;M=e.state.tr.insertText(t,N,O)}if(M||(M=e.state.tr.replace(N,O,u.doc.slice(y.start-u.from,y.endB-u.from))),u.sel){let t=nn(e,M.doc,u.sel);t&&!(g&&x&&e.composing&&t.empty&&(y.start!=y.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==N||t.head==M.mapping.map(O)-1)||d&&t.empty&&t.head==N)&&M.setSelection(t)}E&&M.ensureMarks(E),e.dispatch(M.scrollIntoView())}function nn(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Re(e,t.resolve(n.anchor),t.resolve(n.head))}function rn(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,o++}return o}class on{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new lt,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(un),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ln(this),an(this),this.nodeViews=cn(this),this.docView=le(this.state.doc,sn(this),Ut(this),this.dom,this),this.domObserver=new Xt(this,((e,t,n,r)=>tn(this,e,t,n,r))),this.domObserver.start(),function(e){for(let t in st){let n=st[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!dt(e,t)||ht(e,t)||!e.editable&&t.type in at||n(e,t)})}y&&e.dom.addEventListener("input",(()=>null)),ut(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ut(this),this._props=e,e.plugins&&(e.plugins.forEach(un),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(e,t){let n=this.state,o=!1,i=!1;if(e.storedMarks&&this.composing&&(_t(this),i=!0),this.state=e,t){let e=cn(this);(function(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,o=!0),ut(this)}this.editable=ln(this),an(this);let s=Ut(this),a=sn(this),l=t?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",c=o||!this.docView.matchesNode(e.doc,a,s);!c&&e.selection.eq(n.selection)||(i=!0);let u="preserve"==l&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(i,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=o-20){t=r,n=a.top;break}}return{refDOM:t,refTop:n,stack:Z(e.dom)}}(this);if(i){this.domObserver.stop();let t=c&&(d||g)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(n.selection,e.selection);if(c){let n=g?this.trackWrites=this.domSelection().focusNode:null;!o&&this.docView.update(e.doc,a,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=le(e.doc,a,s,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelection();return D(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Me(this,t):(Ae(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(n),"reset"==l)this.dom.scrollTop=0;else if("to selection"==l){let t=this.domSelection().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(e.selection instanceof r.qv){let n=this.docView.domAfterPos(e.selection.from);1==n.nodeType&&B(this,n.getBoundingClientRect(),t)}else B(this,this.coordsAtPos(e.selection.head,1),t)}else u&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;V(n,0==r?0:r-t)}(u)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let o=this.directPlugins[r].props[e];if(null!=o&&(n=t?t(o):o))return n}let o=this.state.plugins;if(o)for(let r=0;r<o.length;r++){let i=o[r].props[e];if(null!=i&&(n=t?t(i):i))return n}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if($)return e.focus($);let t=Z(e);e.focus(null==$?{get preventScroll(){return $={preventScroll:!0},!0}}:void 0),$||($=!1,V(t,0))}(this.dom),Me(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}posAtCoords(e){return j(this,e)}coordsAtPos(e,t=1){return U(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return ne(this,t||this.state,e)}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ut(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){ht(e,t)||!st[t.type]||!e.editable&&t.type in at||st[t.type](e,t)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function sn(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e&&(t.class+=" "+n[e]),"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),[zt.node(0,e.state.doc.content.size,t)]}function an(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:zt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function ln(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function cn(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function un(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}}}]);