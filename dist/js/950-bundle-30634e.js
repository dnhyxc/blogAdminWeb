"use strict";(self.webpackChunkwebpack_config=self.webpackChunkwebpack_config||[]).push([[950],{26139:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(1413),s=n(67294);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"};var r=n(30076),l=function(e,t){return s.createElement(r.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:a}))};l.displayName="ArrowUpOutlined";const c=s.forwardRef(l)},68281:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(67294),s=n(80411),a=n.n(s),r=(n(34935),n(71577)),l=n(15861),c=n(29439),o=n(64687),d=n.n(o),u=n(96974),f=n(49058),h=n(81237),m=n(95717),_=n(20555);const x="index__needMarginBottom--jbdK1",v="index__introductionWrap--cRwkD",p="index__card--a148g",g="index__image--Sgd5D",k="index__nameInfo--i1Khy",j="index__name--vu0aO",N="index__desc--Q1SrY",S="index__articleInfo--ExCKV",w="index__statistical--rThMZ",y="index__articleTotal--kFXGi",b="index__socialWrap--RwYKS",C="index__link--ctC90",W="index__github--srJ9b",Z="index__socialList--_k5Qr",T="index__dark--VmH3q";var I=n(85893);const L=function(e){var t=e.className,n=e.showRecommendArticle,s=e.themeMode,o=(0,i.useState)({userId:""}),L=(0,c.Z)(o,2),R=L[0],A=L[1],M=(0,u.s0)();(0,i.useEffect)((function(){E()}),[]);var E=function(){var e=(0,l.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=_.wg,e.next=3,m.bG({auth:1,needTotal:!0});case 3:e.t1=e.sent,(t=(0,e.t0)(e.t1)).success&&A(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return R.userId?(0,I.jsxs)("div",{className:a()(v,t,n&&x,"dark"===s&&T),children:[(0,I.jsx)("div",{className:p,children:(0,I.jsx)(h.Z,{url:(null==R?void 0:R.headUrl)||f.Hn,transitionImg:f.Hn,className:g,onClick:function(){M("/author")}})}),(0,I.jsxs)("div",{className:k,children:[(0,I.jsx)("div",{className:j,children:null==R?void 0:R.username}),(0,I.jsx)("div",{suppressContentEditableWarning:!0,contentEditable:"true",className:N,title:null==R?void 0:R.motto,children:null==R?void 0:R.motto})]}),(0,I.jsx)("div",{className:S,children:(0,I.jsxs)("div",{className:w,children:["共发表",(0,I.jsx)("span",{className:y,children:null==R?void 0:R.articleTotal}),"篇文章"]})}),(0,I.jsxs)("div",{className:b,children:[(0,I.jsx)("a",{href:"http://".concat(f.R4,":8090"),target:"_blank",rel:"noreferrer",className:C,children:"墨客管理后台"}),(0,I.jsx)(r.Z,{className:W,type:"primary",onClick:function(){null!=R&&R.github?window.open(null==R?void 0:R.github):(0,_.um)("还没设置github地址")},children:"GitHub"}),(0,I.jsxs)("div",{className:Z,children:[(null==R?void 0:R.juejin)&&(0,I.jsx)("span",{onClick:function(){null!=R&&R.juejin?window.open(null==R?void 0:R.juejin):(0,_.um)("还没设置掘金地址")},children:"掘金"}),(null==R?void 0:R.zhihu)&&(0,I.jsx)("span",{onClick:function(){null!=R&&R.juejin?window.open(null==R?void 0:R.zhihu):(0,_.um)("还没设置知乎地址")},children:"知乎"}),(null==R?void 0:R.blog)&&(0,I.jsx)("span",{onClick:function(){null!=R&&R.juejin?window.open(null==R?void 0:R.blog):(0,_.um)("还没设置博客地址")},children:"博客"})]})]})]}):null};var R=n(19674),A=n(31660),M=n(96186);const E="index__NewArticles--lkils",O="index__contant--TGks6",H="index__header--AUZK9",K="index__item--ggSOn",U="index__title--Mqzb4",z="index__abstract--ofaGV",P="index__likeCount--wgUPL",Y="index__dark--X2Shr",G="index__itemDark--wpYy9",V="index__ipcWrap--Q4Jds",D="index__changeTop--tkX85";const q=function(e){var t=e.scrollRef,n=e.themeMode,s=e.htmlWidth,r=void 0===s?0:s,o=(0,i.useState)([]),f=(0,c.Z)(o,2),h=f[0],x=f[1],v=(0,u.s0)(),p=(0,R.Z)().userInfoStore.getUserInfo,g=(0,A.Jg)().siderVisible;(0,i.useEffect)((function(){k()}),[]);var k=function(){var e=(0,l.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=M.w,e.next=3,m.un({userId:null==p?void 0:p.userId});case 3:e.t1=e.sent,(t=(0,e.t0)(e.t1)).success?x(t.data):(0,_.vU)(t.message);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,I.jsxs)("div",{className:a()(E,g&&r>960&&D,"dark"===n&&Y),ref:t,children:[(0,I.jsxs)("div",{className:a()(O,"dark"===n&&Y),children:[(0,I.jsx)("div",{className:a()(H,"dark"===n&&Y),children:"文章推荐"}),h.length>0&&h.map((function(e){return(0,I.jsxs)("div",{className:a()(K,"dark"===n&&G),onClick:function(){return t=e.id,void v("/detail/".concat(t));var t},children:[(0,I.jsx)("div",{className:U,children:e.title}),(0,I.jsxs)("div",{className:z,children:[(0,I.jsx)("span",{children:(0,_.fg)(e.createTime)}),(null==e?void 0:e.likeCount)>0&&(0,I.jsxs)("span",{className:P,children:[e.likeCount," 点赞"]})]})]},e.id)}))]}),g&&(0,I.jsx)("div",{className:V,children:(0,I.jsx)("a",{href:"https://beian.miit.gov.cn/",target:"_blank",rel:"noreferrer",children:"浙ICP备2024111222号-1"})})]})},J="index__container--j1TfK";const B=function(e){var t=e.className,n=e.showRecommendArticle,i=e.scrollRef,s=e.themeMode,r=e.htmlWidth,l=void 0===r?0:r;return l>960?(0,I.jsxs)("div",{className:a()(J,t),children:[(0,I.jsx)(L,{showRecommendArticle:n,themeMode:s}),n&&(0,I.jsx)(q,{scrollRef:i,themeMode:s,htmlWidth:l})]}):null}},4002:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var i=n(93433),s=n(15861),a=n(29439),r=n(64687),l=n.n(r),c=n(67294),o=n(39711),d=n(96974),u=n(80411),f=n.n(u),h=n(43455),m=n(10814),_=n(68281),x=n(67020),v=n(29191),p=n(13503),g=n(49058);const k="index__MSegmented--Kjhg5",j="index__tag--vBxdm",N="index__activeTag--qqOgh";var S=n(85893);const w=function(e){var t=e.onClick,n=e.className,i=e.getOffsetHeight,s=e.classify,r=e.activeTagStyle,l=(0,c.useState)(g.ab.findIndex((function(e){return e===s}))||0),o=(0,a.Z)(l,2),d=o[0],u=o[1],h=(0,c.useState)(0),m=(0,a.Z)(h,2),_=m[0],x=m[1],v=(0,c.useState)(0),p=(0,a.Z)(v,2),w=p[0],y=p[1],b=(0,c.useState)(0),C=(0,a.Z)(b,2),W=C[0],Z=C[1],T=(0,c.useRef)(null);(0,c.useEffect)((function(){var e,t,n=null==T||null===(e=T.current)||void 0===e?void 0:e.firstElementChild,s=n.offsetTop,a=n.offsetLeft,r=n.clientWidth;L({offsetTop:s,offsetLeft:a,clientWidth:r}),i&&i(null==T||null===(t=T.current)||void 0===t?void 0:t.offsetHeight)}),[]),(0,c.useEffect)((function(){return window.addEventListener("resize",R),function(){window.removeEventListener("resize",R)}}),[d]),(0,c.useEffect)((function(){var e=g.ab.findIndex((function(e){return e===s}));R(null,e)}),[s]);var I=function(e,n,i){var s=e.target,a=s.offsetTop,r=s.offsetLeft,l=s.clientWidth;L({offsetTop:a,offsetLeft:r,clientWidth:l}),u(i),t&&t(n)},L=function(e){var t=e.offsetTop,n=e.offsetLeft,i=e.clientWidth;x(t),y(n),Z(i)},R=function(e,t){var n,s=null==T||null===(n=T.current)||void 0===n?void 0:n.children,a=null==s?void 0:s[t||d];if(a){var r,l=a.offsetTop,c=a.offsetLeft,o=a.clientWidth;L({offsetTop:l,offsetLeft:c,clientWidth:o}),i&&i(null==T||null===(r=T.current)||void 0===r?void 0:r.offsetHeight)}};return(0,S.jsxs)("div",{className:f()(k,n),ref:T,children:[g.ab.map((function(e,t){return(0,S.jsx)("span",{className:j,onClick:function(n){return I(n,e,t)},children:e},e)})),(0,S.jsx)("span",{className:f()(N,r),style:{top:_,left:w,width:W}})]})};var y=n(26260),b=n(74317),C=n(31660),W=n(19674),Z=n(95717),T=n(20555);const I={clickNoSelectText:"index__clickNoSelectText--eFKdU",removeConfirmStyle:"index__removeConfirmStyle--rTSbn",darkRemoveConfirmStyle:"index__darkRemoveConfirmStyle--hd9vw",Classify:"index__Classify--wov45",changeIconWrap:"index__changeIconWrap--yM9Bv",icon:"index__icon--FN4Jf",left:"index__left--FpvkK",contentWrap:"index__contentWrap--UKtaV",segmentedWrap:"index__segmentedWrap--_W8nj",segmented:"index__segmented--Oz2OI",dark:"index__dark--sztYl",darkSegmented:"index__darkSegmented--QfmsE",activeTagStyle:"index__activeTagStyle--L99Eb",changeWidth:"index__changeWidth--mjDaW",content:"index__content--UAqQb",filterList:"index__filterList--YcRBG",wrapClass:"index__wrapClass--qs6rr",emptyWrap:"index__emptyWrap--COapv",rightbar:"index__rightbar--FXlP9",changePadding:"index__changePadding--O5nPu",btn:"index__btn--IZmX7",scrollTopStyle:"index__scrollTopStyle--DdLa_",iconWrap:"index__iconWrap--SlLYL",darkIcon:"index__darkIcon--KL_Ga"};const L=function(){var e=(0,o.lr)(),t=(0,a.Z)(e,1)[0].get("classify"),n=(0,d.s0)(),r=(0,c.useState)(!1),u=(0,a.Z)(r,2),k=u[0],j=u[1],N=(0,c.useState)(t||"前端"),L=(0,a.Z)(N,2),R=L[0],A=L[1],M=(0,c.useState)(34),E=(0,a.Z)(M,2),O=E[0],H=E[1],K=(0,c.useState)({list:[],total:0,count:0}),U=(0,a.Z)(K,2),z=U[0],P=U[1],Y=(0,c.useRef)([]),G=(0,C.nR)().htmlWidth,V=(0,C.Jg)().siderVisible,D=(0,C.YN)({data:z,loading:k,pageSize:g.YH,scrollStyle:V&&G>960&&I.scrollTopStyle}),q=D.pageNo,J=D.setPageNo,B=D.onScroll,F=D.scrollRef,Q=D.scrollTop,X=D.scrollbarRef,$=(0,W.Z)().userInfoStore.getUserInfo,ee=(0,C.bc)(),te=ee.showAlert,ne=ee.toLogin,ie=ee.onCloseAlert,se=ee.setAlertStatus,ae=(0,C.iy)().themeMode;(0,c.useEffect)((function(){re()}),[R,q]);var re=function(){var e=(0,s.Z)(l().mark((function e(){var t,n,s,a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),t={pageNo:q,pageSize:g.YH,classify:R,userId:null==$?void 0:$.userId},T.tO.locSetItem("params",JSON.stringify({classify:R,userId:null==$?void 0:$.userId,from:"classify"})),e.t0=T.wg,e.next=6,Z.hD(t);case 6:e.t1=e.sent,n=(0,e.t0)(e.t1),j(!1),n.success?(s=n.data,a=s.total,r=s.list,Y.current=[].concat((0,i.Z)(Y.current),(0,i.Z)(r)),P({list:Y.current,total:a,count:r.length})):(0,T.vU)(n.message);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=(0,C.Gx)({articleList:z,setArticleList:P,getArticleList:re,setAlertStatus:se,listRef:Y,pageNo:q,classify:R,removeConfirmStyle:f()(I.removeConfirmStyle,"dark"===ae&&I.darkRemoveConfirmStyle)}).deleteArticle,ce=(0,C.MO)({setAlertStatus:se,articleList:z,updateList:P,listRef:Y}).likeArticle,oe=function(){n("/search")};return(0,S.jsxs)("div",{className:I.Classify,children:[G<=960&&(0,S.jsx)(y.Z,{noHideMenuIcon:!0,className:I.changeIconWrap,themeMode:ae,htmlWidth:G}),te&&(0,S.jsx)(v.Z,{onClick:ne,onClose:ie}),(0,S.jsx)(m.Z,{right:(0,S.jsx)("div",{className:I.searchWrap,children:(0,S.jsx)(b.Z,{name:"icon-sousuo2",className:f()(I.iconWrap,"dark"===ae&&I.darkIcon),onClick:oe})}),themeMode:ae,children:"文章分类"}),(0,S.jsx)(h.Z,{className:I.contentWrap,onScroll:B,scrollbarRef:X,themeMode:ae,children:(0,S.jsxs)("div",{className:f()(I.content,I.contentPadding),id:"CONTENT",children:[(0,S.jsxs)("div",{className:I.filterList,children:[(0,S.jsx)("div",{className:f()(I.segmentedWrap,V&&I.changeWidth,"dark"===ae&&I.dark),children:(0,S.jsx)(w,{onClick:function(e){e!==R&&(J(1),Y.current=[],P({list:Y.current,total:0,count:0})),A(e)},getOffsetHeight:function(e){H(e)},classify:t,className:"dark"===ae&&I.darkSegmented,activeTagStyle:"dark"===ae&&I.activeTagStyle})}),(0,S.jsx)(x.Z,{wrapClass:I.wrapClass,list:z.list,total:z.total,toDetail:function(e,t){n(t?"/detail/".concat(e,"?needScroll=1"):"/detail/".concat(e))},likeArticle:ce,deleteArticle:le,onEditArticle:function(e){n("/create?id=".concat(e))},loading:k,style:{paddingTop:"".concat(V?O:O+10,"px")},themeMode:ae,htmlWidth:G})]}),(0,S.jsx)(_.Z,{className:f()(I.rightbar,V&&I.changePadding),showRecommendArticle:!0,scrollRef:F,themeMode:ae,htmlWidth:G})]})}),(0,S.jsx)(p.Z,{scrollTop:Q,scrollbarRef:X,htmlWidth:G})]})}}}]);